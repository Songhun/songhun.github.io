!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=88)}([function(t,e,n){"use strict";function r(t){return t==T.X?R.HORIZONTAL:t==T.Y?R.VERTICAL:void 0}function i(t){if(t==O.UP||t==O.DOWN)return T.Y;if(t==O.LEFT||t==O.RIGHT)return T.X;throw new Error("Unexpected dir value: "+t)}function o(t){if(t==O.UP||t==O.LEFT)return _.DECREASE;if(t==O.DOWN||t==O.RIGHT)return _.INCREASE;throw new Error("Unexpected dir value: "+t)}function s(t){switch(t){case P.X_CW:case P.Y_CW:return A.CW;case P.X_CCW:case P.Y_CCW:return A.CCW;default:return null}}function a(t){switch(t){case P.X_CW:case P.X_CCW:return w.X;case P.Y_CW:case P.Y_CCW:return w.Y;default:return null}}function u(t){switch(t){case"GT":return v.GT;case"GTE":return v.GTE;case"LT":return v.LT;case"LTE":return v.LTE;case"EQ":return v.EQ;case"NEQ":return v.NEQ;default:throw new Error("Invalid ComparisonOperator value: "+t)}}function c(t){switch(t){case"UP":return O.UP;case"DOWN":return O.DOWN;case"LEFT":return O.LEFT;case"RIGHT":return O.RIGHT;default:throw new Error("Invalid MoveDir value: "+t)}}function h(t){switch(t){case"SET":return b.SET;case"INCREASE":return b.INCREASE;default:throw new Error("Invalid Operation value: "+t)}}function p(t){switch(t){case"CW":return A.CW;case"CCW":return A.CCW;case"NEAR":return A.NEAR;default:throw new Error("Invalid RotateDirection value: "+t)}}function l(t){switch(t){case"X_CW":return P.X_CW;case"X_CCW":return P.X_CCW;case"Y_CW":return P.Y_CW;case"Y_CCW":return P.Y_CCW;default:throw new Error("Invalid Rotate3DDirection value: "+t)}}function f(t){switch(t){case"BACK":return C.BACK;case"FRONT":return C.FRONT;case"BACKWARD":return C.BACKWARD;case"FORWARD":return C.FORWARD;default:throw new Error("Invalid ReorderType value: "+t)}}function d(t){switch(t){case"BOUNCE":return S.BOUNCE;case"NONE":return S.NONE;default:throw new Error("Invalid ScrollEdgeEffectType value: "+t)}}function y(t){switch(t){case S.BOUNCE:return new m.BounceScrollEndEffect;case S.NONE:return new E.NoBounceScrollEndEffect;default:throw new Error("Unhandled ScrollEdgeEffectType")}}function g(t){switch(t){case S.BOUNCE:return.4;case S.NONE:default:return 0}}Object.defineProperty(e,"__esModule",{value:!0});var v,m=n(102),E=n(103);!function(t){t[t.GT=0]="GT",t[t.GTE=1]="GTE",t[t.LT=2]="LT",t[t.LTE=3]="LTE",t[t.EQ=4]="EQ",t[t.NEQ=5]="NEQ"}(v=e.ComparisonOperator||(e.ComparisonOperator={}));var _;!function(t){t[t.INCREASE=1]="INCREASE",t[t.DECREASE=-1]="DECREASE"}(_=e.ScalarDir||(e.ScalarDir={}));var T;!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(T=e.Axis2D||(e.Axis2D={}));var w;!function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(w=e.Axis3D||(e.Axis3D={}));var b;!function(t){t[t.SET=0]="SET",t[t.INCREASE=1]="INCREASE"}(b=e.Operation||(e.Operation={}));var A;!function(t){t[t.CW=0]="CW",t[t.CCW=1]="CCW",t[t.NEAR=2]="NEAR"}(A=e.RotateDirection||(e.RotateDirection={}));var P;!function(t){t[t.X_CW=0]="X_CW",t[t.X_CCW=1]="X_CCW",t[t.Y_CW=2]="Y_CW",t[t.Y_CCW=3]="Y_CCW"}(P=e.Rotate3DDirection||(e.Rotate3DDirection={}));var R;!function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.FREE=2]="FREE"}(R=e.DragAxis||(e.DragAxis={}));var O;!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(O=e.MoveDir||(e.MoveDir={}));var C;!function(t){t[t.BACK=0]="BACK",t[t.FRONT=1]="FRONT",t[t.BACKWARD=2]="BACKWARD",t[t.FORWARD=3]="FORWARD"}(C=e.ReorderType||(e.ReorderType={}));var S;!function(t){t[t.BOUNCE=0]="BOUNCE",t[t.NONE=1]="NONE"}(S=e.ScrollEdgeEffectType||(e.ScrollEdgeEffectType={})),e.axisToDragAxis=r,e.moveDirToAxis=i,e.moveDirToScalarDir=o,e.rotate3DDirTo2D=s,e.rotate3DDirToAxis=a,e.stringToComparisonOperator=u,e.stringToMoveDir=c,e.stringToOperation=h,e.stringToRotateDir=p,e.stringToRotate3DDir=l,e.stringToReorderType=f,e.stringToScrollEdgeEffectType=d,e.scrollEdgeEffectTypeToScrollEndEffect=y,e.scrollEdgeEffectTypeToOverScrollRatio=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(6),o=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getValue=function(t){return t==r.Axis2D.X?this.x:t==r.Axis2D.Y?this.y:void 0},t.prototype.set=function(t,e){this.x=t,this.y=e},t.prototype.applyScaleFactor=function(t){i.LangUtils.isNil(this.x)||(this.x*=t),i.LangUtils.isNil(this.y)||(this.y*=t)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.setDiff=function(t,e){this.x=e.x-t.x,this.y=e.y-t.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}();e.Point=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=n(108),s=n(8);!function(t){t[t.DOWN=0]="DOWN",t[t.UP=1]="UP",t[t.MOVE=2]="MOVE"}(r=e.TouchEventAction||(e.TouchEventAction={}));!function(t){t[t.TAP=0]="TAP",t[t.LONG_PRESS=1]="LONG_PRESS",t[t.TOUCH_UP=2]="TOUCH_UP",t[t.FLING=3]="FLING",t[t.MOVE_FREE=4]="MOVE_FREE",t[t.MOVE_VERTICAL=5]="MOVE_VERTICAL",t[t.MOVE_HORIZONTAL=6]="MOVE_HORIZONTAL",t[t.PINCH=7]="PINCH",t[t.ROTATE=8]="ROTATE",t[t.NONE=9]="NONE"}(e.TouchEventUsageType||(e.TouchEventUsageType={}));var a=function(){function t(t){this.pointerMap={},this.focus=new i.Point(0,0),this.pointerCount=0,this.spanTrackingEnabled=!1,this.touchEventUsageListener=t}return t.prototype.addPointer=function(t,e,n,o){this.lastAction=r.DOWN,this.lastActionPointerId=t,this.lastActionTime=o,this.pointerMap[t]?this.pointerMap[t].set(e,n):(this.pointerMap[t]=new i.Point(e,n),this.pointerCount++),this.updateValues()},t.prototype.removePointer=function(t,e){this.lastAction=r.UP,this.lastActionPointerId=t,this.lastActionTime=e,this.pointerMap[t]&&(delete this.pointerMap[t],this.updateValues(),this.pointerCount--)},t.prototype.addMovement=function(t,e,n,i){this.lastAction=r.MOVE,this.lastActionPointerId=t,this.lastActionTime=i,this.pointerMap?(this.pointerMap[t].x=e,this.pointerMap[t].y=n,this.updateValues()):s.Logger.e("addMovement on untracked pointer")},t.prototype.enableSpanTracking=function(){this.spanTrackingEnabled||(this.spanTrackingEnabled=!0,this.computeSpan())},t.prototype.pushUsageType=function(t,e){this.touchEventUsageListener&&this.touchEventUsageListener.onTouchEventUsed(t,e)},t.prototype.getTouchCount=function(){return this.pointerCount},t.prototype.getVelocity=function(){return this.velocityTracker?this.velocityTracker.getVelocity():new i.Point(0,0)},t.prototype.getSpan=function(){return this.span},t.prototype.updateValues=function(){var t=0,e=0,n=0;for(var r in this.pointerMap)t+=this.pointerMap[r].x,e+=this.pointerMap[r].y,n++;n>0&&this.focus.set(t/n,e/n),this.computeVelocity(),this.spanTrackingEnabled&&this.computeSpan()},t.prototype.computeVelocity=function(){this.velocityTracker?this.velocityTracker.update(this.focus,Date.now()):this.velocityTracker=new o.VelocityTracker(this.focus,Date.now())},t.prototype.computeSpan=function(){var t=0,e=0;for(var n in this.pointerMap){var r=this.pointerMap[n];t+=Math.abs(r.x-this.focus.x),e+=Math.abs(r.y-this.focus.y)}var i=t/this.pointerCount*2,o=e/this.pointerCount*2;this.span=Math.sqrt(i*i+o*o)},t}();e.PPTouchEvent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(){}return t.normalize=function(t){var e=t%360;return e<0?e+360:e},t.getAngleDelta=function(t,e,n){var i=e-t;return n==r.RotateDirection.NEAR?i>180?i-=360:i<-180&&(i+=360):n==r.RotateDirection.CW?i<0&&(i+=360):n==r.RotateDirection.CCW&&i>0&&(i-=360),i},t.toRadians=function(t){return t*Math.PI/180},t.toDegrees=function(t){return 180*t/Math.PI},t.rotate=function(t,e,n,r){var i=this.toRadians(e),o=n.x+(t.x-n.x)*Math.cos(i)-(t.y-n.y)*Math.sin(i),s=n.y+(t.x-n.x)*Math.sin(i)+(t.y-n.y)*Math.cos(i);r.set(o,s)},t.getLineAngle=function(t,e){return this.normalize(this.toDegrees(Math.atan2(t.y-e.y,t.x-e.x)))},t}();e.AngleUtils=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=-1,s=function(t){function e(e,n,r,i){var s=t.call(this,e)||this;return s.actualStartTime=o,s.endValue=n,s.duration=r,s.easingFunc=i,s}return r(e,t),e.fromDDE=function(t,n,r){return new e(n+r.delay,t,r.duration,r.easingFunc)},e.prototype.clone=function(t){return new e(t,this.endValue,this.duration,this.easingFunc)},e.prototype.start=function(t,e){this.startValue=t,this.actualStartTime=e,this.actualDuration=Math.max(0,this.duration-(this.actualStartTime-this.startTime))},e.prototype.getValueAt=function(t){return this.computeValueAt(this.startValue,this.endValue,t)},e.prototype.isEnded=function(t){return this.actualStartTime!=o&&t>=this.actualStartTime+this.actualDuration},e.prototype.getDuration=function(){return this.duration},e.prototype.computeValueAt=function(t,e,n){if(this.actualStartTime==o)throw new Error;if(n>=this.actualStartTime+this.actualDuration)return e;if(n<=this.actualStartTime)return t;var r=e-t,i=(n-this.actualStartTime)/this.actualDuration;return t+r*this.easingFunc.computeValueProgress(i)},e}(i.SetNumberAnimation);e.EasingSetNumberAnimation=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.PIXEL=0]="PIXEL",t[t.DEGREE=1]="DEGREE",t[t.PERCENT=2]="PERCENT",t[t.HEX=3]="HEX"}(e.Unit||(e.Unit={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isNil=function(t){return null===t},t.ifNil=function(t,e){return this.isNil(t)?e:t},t}();e.LangUtils=r;var i=function(){function t(){}return t.remove=function(t,e){for(var n=0,r=t.length-1;r>=0;r--)t[r]==e&&(t.splice(r,1),n++);return n},t}();e.ArrayUtils=i;var o=function(){function t(){}return t.forValues=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n])},t}();e.ObjectUtils=o;var s=function(){function t(){}return t.prepend=function(t,e){return e?e+this.capitalize(t):t},t.capitalize=function(t){return t.length>1?t[0].toUpperCase()+t.substring(1):t},t}();e.StringUtils=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(97),i=n(6),o=n(98),s=n(96),a=n(9),u=n(99),c=function(){function t(){}return t.getInstance=function(){return this.instance},t.prototype.computeValueProgress=function(t){return t},t.instance=new t,t}();e.LinearEasingFunc=c;var h=function(){function t(){}return t.fromName=function(t){var e;return e=null==t?c.getInstance():"EASE"===t?new r.CubicBezierEasingFunc(.25,.1,.25,1):"EASE_IN.CUBIC"===t||"EASE_IN"===t?new r.CubicBezierEasingFunc(.55,.055,.675,.19):"EASE_IN.SINE"===t?new r.CubicBezierEasingFunc(.47,0,.745,.715):"EASE_IN.QUAD"===t?new r.CubicBezierEasingFunc(.55,.085,.68,.53):"EASE_IN.QUART"===t?new r.CubicBezierEasingFunc(.895,.03,.685,.22):"EASE_IN.QUINT"===t?new r.CubicBezierEasingFunc(.755,.05,.855,.06):"EASE_IN.EXPO"===t?new r.CubicBezierEasingFunc(.95,.05,.795,.035):"EASE_IN.CIRC"===t?new r.CubicBezierEasingFunc(.6,.04,.98,.335):"EASE_IN.BACK"===t?new r.CubicBezierEasingFunc(.6,-.28,.735,.045):"EASE_IN.ELASTIC"===t?new o.ElasticEasingFunc(o.ElasticEasingFunc.EASE_IN):"EASE_IN.BOUNCE"===t?new s.BounceEasingFunc(s.BounceEasingFunc.EASE_IN):"EASE_OUT.CUBIC"===t||"EASE_OUT"===t?new r.CubicBezierEasingFunc(.215,.61,.355,1):"EASE_OUT.SINE"===t?new r.CubicBezierEasingFunc(.39,.575,.565,1):"EASE_OUT.QUAD"===t?new r.CubicBezierEasingFunc(.25,.46,.45,.94):"EASE_OUT.QUART"===t?new r.CubicBezierEasingFunc(.165,.84,.44,1):"EASE_OUT.QUINT"===t?new r.CubicBezierEasingFunc(.23,1,.32,1):"EASE_OUT.EXPO"===t?new r.CubicBezierEasingFunc(.19,1,.22,1):"EASE_OUT.CIRC"===t?new r.CubicBezierEasingFunc(.075,.82,.165,1):"EASE_OUT.BACK"===t?new r.CubicBezierEasingFunc(.175,.885,.32,1.275):"EASE_OUT.ELASTIC"===t?new o.ElasticEasingFunc(o.ElasticEasingFunc.EASE_OUT):"EASE_OUT.BOUNCE"===t?new s.BounceEasingFunc(s.BounceEasingFunc.EASE_OUT):"EASE_IN_OUT.CUBIC"===t||"EASE_IN_OUT"===t?new r.CubicBezierEasingFunc(.645,.045,.355,1):"EASE_IN_OUT.SINE"===t?new r.CubicBezierEasingFunc(.445,.05,.55,.95):"EASE_IN_OUT.QUAD"===t?new r.CubicBezierEasingFunc(.455,.03,.515,.955):"EASE_IN_OUT.QUART"===t?new r.CubicBezierEasingFunc(.77,0,.175,1):"EASE_IN_OUT.QUINT"===t?new r.CubicBezierEasingFunc(.86,0,.07,1):"EASE_IN_OUT.EXPO"===t?new r.CubicBezierEasingFunc(1,0,0,1):"EASE_IN_OUT.CIRC"===t?new r.CubicBezierEasingFunc(.785,.135,.15,.86):"EASE_IN_OUT.BACK"===t?new r.CubicBezierEasingFunc(.68,-.55,.265,1.55):"EASE_IN_OUT.ELASTIC"===t?new o.ElasticEasingFunc(o.ElasticEasingFunc.EASE_IN_OUT):"EASE_IN_OUT.BOUNCE"===t||"BOUNCE"===t?new s.BounceEasingFunc(s.BounceEasingFunc.EASE_IN_OUT):c.getInstance(),e||(e=c.getInstance()),e},t.fromJson=function(t,e){void 0===e&&(e=null);var n=t[i.StringUtils.prepend("easingFunction",e)]||"LINEAR";if("CUBIC_BEZIER"!=n){if("SPRING"==n){var o=a.requireNumber(t,i.StringUtils.prepend("tension",e)),s=a.requireNumber(t,i.StringUtils.prepend("friction",e));return new u.SpringEasingFunc(o,s,1e3/60,600)}return this.fromName(n)}try{var c=a.requireNumber(t,i.StringUtils.prepend("easingCubicBezierX1",e)),h=a.requireNumber(t,i.StringUtils.prepend("easingCubicBezierY1",e)),p=a.requireNumber(t,i.StringUtils.prepend("easingCubicBezierX2",e)),l=a.requireNumber(t,i.StringUtils.prepend("easingCubicBezierY2",e));return new r.CubicBezierEasingFunc(c,h,p,l)}catch(t){return this.fromName("LINEAR")}},t.EASE_OUT_CUBIC="EASE_OUT.CUBIC",t.EASE_IN_OUT_QUAD="EASE_IN_OUT.QUAD",t.EASE_IN_OUT_CUBIC="EASE_IN_OUT.CUBIC",t.EASE_OUT_SINE="EASE_OUT.SINE",t.EASE_IN_SINE="EASE_IN.SINE",t}();e.EasingFuncFactory=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.setLogLevel=function(t){this.logLevel=t},t.d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logLevel<=0&&console.debug.apply(console,t)},t.i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logLevel<=1&&console.info.apply(console,t)},t.w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logLevel<=2&&console.warn.apply(console,t)},t.e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logLevel<=3&&console.error.apply(console,t)},t.logLevel=2,t}();e.Logger=r},function(t,e,n){"use strict";function r(t,e){var n=i(t,e);if(null===n)throw new Error("Property is missing: "+e);return n}function i(t,e,n){if(void 0===n&&(n=null),!t)return n;var r=null;return t.hasOwnProperty(e)&&(r=t[e]),"string"==typeof r?+r:null===r?n:r}function o(t,e,n){if(!t)return n;var r=null;return t.hasOwnProperty(e)&&(r=t[e]),"string"==typeof r?r:null===r?n:r+""}function s(t,e){var n=o(t,e,null);if(null===n)throw new Error("Property is missing: "+e);return n}function a(t,e,n){void 0===n&&(n=null);var r=i(t,e,null);return null===r?n:1e3*r}function u(t,e,n){void 0===n&&(n=null);var r=t[e];return r?l.Color.fromString(r):n}function c(t,e,n){var r=t[e];return"boolean"==typeof r?r:"string"==typeof r?"true"===r:n}function h(t,e,n){var r=i(t,e,null),o=i(t,n,null);return new f.NumberLimit(r,o)}function p(t,e){var n=o(t,e,"0"),r=n.split(":");return 1==r.length?+n:2==r.length?60*r[0]+ +r[1]:0}Object.defineProperty(e,"__esModule",{value:!0});var l=n(27),f=n(28);e.requireNumber=r,e.readNumber=i,e.readString=o,e.requireString=s,e.readTime=a,e.readColor=u,e.readBoolean=c,e.readLimit=h,e.readVideoTime=p},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.layer=n,r}return r(e,t),e.prototype.getId=function(){return this.id},e.prototype.pushEventUsage=function(t){t.pushUsageType(this.getTouchEventUsageType(),this.id)},e}(i.Trigger);e.TouchTrigger=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.increment=0,this.min=null,this.max=null}return t.prototype.getIncrement=function(){return this.increment},t.prototype.setIncrement=function(t){this.increment=t},t.prototype.setLimit=function(t){t&&(this.min=t.min,this.max=t.max)},t}();e.NumberChange=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.PPResponse);e.OneTimeResponse=o},function(t,e,n){function r(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}var i=n(77),o=n(76);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return o.testNumeric(t)?e.NUMERIC:o.testAlphanumeric(t)?e.ALPHANUMERIC:o.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return r(t)}catch(t){return n}}},function(t,e){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(37),s=n(110);!function(t){t[t.PLAY=0]="PLAY",t[t.PAUSE=1]="PAUSE",t[t.SEEK=2]="SEEK"}(i=e.VideoLayerCommandType||(e.VideoLayerCommandType={}));var a=function(){function t(t){this.repeating=!1,this.seekTime=0,this.type=t}return t}();e.VideoLayerCommand=a;var u=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.autoPlay=!1,i.autoPlayRepeat=!1,i.autoPlayApplied=!1,i.commands=[],i.playState=new s.PPPlayState(r),i}return r(e,t),e.prototype.reset=function(){t.prototype.reset.call(this),this.commands.length=0,this.playState.reset(),this.autoPlayApplied=!1},e.prototype.start=function(e){if(t.prototype.start.call(this,e),!this.autoPlayApplied&&this.autoPlay&&(this.playState.play(e,this.autoPlayRepeat),this.autoPlayApplied=!0),this.playState.isPlaying(e)){var n=new a(i.SEEK);n.seekTime=this.playState.getPlayPosition(e)/1e3,this.commands.push(n);var r=new a(i.PLAY);r.repeating=this.playState.isLooping(),this.commands.push(r),this.notifyImmediateModification()}},e.prototype.enqueueCommand=function(t,e){switch(this.commands.push(t),t.type){case i.PLAY:this.playState.play(e,t.repeating);break;case i.PAUSE:this.playState.pause(e);break;case i.SEEK:this.playState.seek(e,t.seekTime)}this.notifyImmediateModification()},e.prototype.dequeueCommand=function(){return this.commands.length>0?this.commands.splice(0,1)[0]:null},e}(o.Layer);e.VideoLayer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.init=function(t){this.scheduler=t},t}();e.Trigger=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.responses=r,i}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.applyScaleFactor=function(t){this.responses.applyScaleFactor(t)},e.prototype.runResponses=function(t){this.responses.run(t)},e}(i.TouchTrigger);e.OneTimeTouchTrigger=o},function(t,e,n){"use strict";function r(t,e,n){return"number"==typeof t?a(t):g(t,e,n)}function i(t){if(t>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|t}function o(t){return t!==t}function s(t){var e=new Uint8Array(t);return e.__proto__=r.prototype,e}function a(t){return s(t<0?0:0|i(t))}function u(t){var e=0|f(t),n=s(e),r=n.write(t);return r!==e&&(n=n.slice(0,r)),n}function c(t){for(var e=t.length<0?0:0|i(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),i.__proto__=r.prototype,i}function p(t){if(r.isBuffer(t)){var e=0|i(t.length),n=s(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||o(t.length)?s(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function f(t){return r.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:l(t).length)}function d(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function y(t,e,n,r){return d(l(e,t.length-n),t,n,r)}function g(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(t,e,n):"string"==typeof t?u(t,e):p(t)}var v=n(45),m=2147483647;r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.prototype.write=function(t,e,n){void 0===e?(n=this.length,e=0):void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return y(this,t,e,n)},r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=r.prototype,i},r.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},r.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=r.isBuffer(t)?t:new r(t),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this},r.concat=function(t,e){if(!v(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if(!r.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},r.byteLength=f,r.prototype._isBuffer=!0,r.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),o=n(1),s=n(20),a=n(5),u=n(47),c=n(35),h=n(0),p=n(31),l=n(3),f=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.clipChildren=!0,r.children=[],r.sX=new s.NumberProperty("scrollX",0,a.Unit.PIXEL),r.sY=new s.NumberProperty("scrollY",0,a.Unit.PIXEL),r.initialChildren=[],r.registerProperty(r.sX),r.registerProperty(r.sY),r}return r(e,t),e.prototype.addChildLayer=function(t){this.children.push(t),this.initialChildren.push(t)},e.prototype.init=function(e){t.prototype.init.call(this,e);for(var n=0,r=this.children;n<r.length;n++){r[n].init(e)}},e.prototype.reset=function(){t.prototype.reset.call(this),this.children.length=0;for(var e=0,n=this.initialChildren;e<n.length;e++){var r=n[e];r.reset(),this.children.push(r)}},e.prototype.applyScaleFactor=function(e){t.prototype.applyScaleFactor.call(this,e);for(var n=0,r=this.children;n<r.length;n++){r[n].applyScaleFactor(e)}},e.prototype.removeAllObservers=function(){t.prototype.removeAllObservers.call(this);for(var e=0,n=this.children;e<n.length;e++){n[e].removeAllObservers()}},e.prototype.start=function(e){t.prototype.start.call(this,e);for(var n=0,r=this.children;n<r.length;n++){r[n].start(e)}},e.prototype.progress=function(e){t.prototype.progress.call(this,e);for(var n=0,r=this.children;n<r.length;n++){r[n].progress(e)}},e.prototype.reorder=function(t,e){var n=this.children.indexOf(t);if(n>=0){var r=this.computeReorderPosition(e,n,this.children.length);null!=r&&(this.children.splice(n,1),this.children.splice(r,0,t),this.notifyChildOrderModified())}},e.prototype.findLayersAt=function(t,n){if(this.isTouchable()){var r=this.translateParentPointToSelf(t),i=this.includesSelfOriginPoint(r);if((i||!this.clipChildren)&&this.children.length>0)for(var s=new o.Point(r.x+this.sX.curVal(),r.y+this.sY.curVal()),a=this.children.length-1;a>=0;a--){var u=this.children[a],c=n.length,h=this.findMaskLayer(a);if((null==h||h.includesPoint(s))&&(u instanceof e?u.findLayersAt(s,n):u.isInterestedWithTouchEvent(s)&&n.push(u),!u.passTouch&&n.length>c))break}i&&n.push(this)}},e.prototype.getScrollOffset=function(){return this.scrollDir==h.Axis2D.X?this.sX:this.scrollDir==h.Axis2D.Y?this.sY:void 0},e.prototype.getChildrenRect=function(){for(var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,i=0,s=this.children;i<s.length;i++){var a=s[i],h=a.getTopLeft(),p=a.w.curVal(),l=a.h.curVal();t=Math.min(t,h.x),e=Math.min(e,h.y),n=Math.max(n,h.x+p),r=Math.max(r,h.y+l)}return new u.PPRect(new o.Point(t,e),new c.PPSize(n-t,r-e))},e.prototype.getNumberPropertyByName=function(e){return"scrollOffset"==e?this.scrollDir==h.Axis2D.X?this.sX:this.scrollDir==h.Axis2D.Y?this.sY:null:t.prototype.getNumberPropertyByName.call(this,e)},e.prototype.getScrollProp=function(t){return t==h.Axis2D.X?this.sX:t==h.Axis2D.Y?this.sY:void 0},e.prototype.computeReorderPosition=function(t,e,n){switch(t){case h.ReorderType.BACK:return 0;case h.ReorderType.FRONT:return n-1;case h.ReorderType.BACKWARD:if(e>0)return e-1;break;case h.ReorderType.FORWARD:if(e<n-1)return e+1}return null},e.prototype.findMaskLayer=function(t){for(var e=t-1;e>=0;e--){var n=this.children[e];if(n instanceof p.ShapeLayer&&n.isMask)return n}return null},e.prototype.moveOrigin=function(t){var e=this.x.curVal()+this.w.curVal()*(t.x-this.origin.x),n=this.y.curVal()+this.h.curVal()*(t.y-this.origin.y),r=new o.Point(0,0);l.AngleUtils.rotate(new o.Point(e,n),this.r.curVal(),new o.Point(this.x.curVal(),this.y.curVal()),r),this.x.setImmediate(r.x),this.y.setImmediate(r.y),this.origin.x=t.x,this.origin.y=t.y},e}(i.ColoredLayer);e.ContainerLayer=f},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=n(111),s=n(6),a=n(113),u=n(58),c=n(115),h=function(t){function e(e,n,r,s,u){void 0===s&&(s=null),void 0===u&&(u=null);var c=t.call(this,e)||this;return c.continuousChanges=[],c.initialValue=n,c.curValue=n,c.unit=r,c.unit==i.Unit.DEGREE?c.normalizer=new a.DegreeNormalizer:null===s&&null==u||(c.normalizer=new a.MinMaxNormalizer(s,u)),c.animationAccumulator=new o.AnimationAccumulator(n,c.normalizer),c}return r(e,t),e.prototype.setInitial=function(t){this.initialValue=t,this.curValue=t,this.animationAccumulator.clearAll(t)},e.prototype.applyScaleFactor=function(t){this.unit==i.Unit.PIXEL&&(this.initialValue*=t,this.curValue*=t)},e.prototype.shouldProgress=function(){return this.continuousChanges.length>0||this.animationAccumulator.shouldProgress()},e.prototype.reset=function(){this.curValue=this.initialValue,this.continuousChanges.length=0,this.animationAccumulator.clearAll(this.curValue),this.notifySetImmediate()},e.prototype.isChanging=function(){return this.continuousChanges.length>0||this.animationAccumulator.isChanging()},e.prototype.addAnimation=function(t,e){e?this.animationAccumulator.addRepeatingAnimation(c.RepeatingAnimation.fromDef(t,e)):this.animationAccumulator.addAnimation(t),this.notifyShouldProgress()},e.prototype.startContinuousChange=function(t,e){0==this.continuousChanges.length&&(this.continuousChangeStartValue=this.curValue),this.animationAccumulator.clearStarted(this.curValue,e),this.continuousChanges.push(t),this.notifyShouldProgress()},e.prototype.endContinuousChange=function(t,e){s.ArrayUtils.remove(this.continuousChanges,t),this.continuousChangeStartValue+=t.increment,null!==t.min&&this.continuousChangeStartValue<t.min&&(this.continuousChangeStartValue=t.min),null!==t.max&&this.continuousChangeStartValue>t.max&&(this.continuousChangeStartValue=t.max),this.curValue=this.computeContinuousChange(),0==this.continuousChanges.length&&(this.continuousChangeStartValue=null,this.animationAccumulator.clearStarted(this.curValue,e))},e.prototype.setImmediate=function(t){this.curValue=t,this.animationAccumulator.clearAll(t),this.notifySetImmediate()},e.prototype.progress=function(t){if(this.continuousChanges.length>0){var e=this.computeContinuousChange();if(e!=this.curValue)return this.curValue=e,!0}else{this.animationAccumulator.progress(t);var n=this.animationAccumulator.getValue();if(n!=this.curValue)return this.curValue=n,!0}return!1},e.prototype.curVal=function(){return this.curValue},e.prototype.computeContinuousChange=function(){for(var t=0,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=0,i=this.continuousChanges;r<i.length;r++){var o=i[r];t+=o.increment,null!==o.min&&(e=Math.max(e,o.min)),null!=o.max&&(n=Math.min(n,o.max))}return Math.min(Math.max(this.normalize(this.continuousChangeStartValue+t),e),n)},e.prototype.normalize=function(t){return null!=this.normalizer?this.normalizer.normalize(t):t},e}(u.Property);e.NumberProperty=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(106),s=function(){function t(t,e){this.layer=t,this.clock=e,this.boundOnMouseOut=this.onMouseOut.bind(this),t.addObserver(this)}return t.prototype.init=function(){this.positionElement=document.createElement("div"),this.positionElement.style.position="absolute",this.renderElement=this.createElement(),this.positionElement.appendChild(this.renderElement),this.renderElement.style.position="absolute",this.renderElement.style.width="100%",this.renderElement.style.height="100%",this.renderElement.style.top="0px",this.renderElement.style.left="0px",this.layer.hitArea.hasExtension()?(this.hitElement=document.createElement("div"),this.hitElement.style.position="absolute",this.hitElement.style.top="-"+this.layer.hitArea.extendAbove+"px",this.hitElement.style.bottom="-"+this.layer.hitArea.extendBelow+"px",this.hitElement.style.left="-"+this.layer.hitArea.extendLeft+"px",this.hitElement.style.right="-"+this.layer.hitArea.extendRight+"px",this.positionElement.appendChild(this.hitElement)):this.hitElement=this.renderElement,this.mouseEventHandler=this.layer.getMouseEventHandler(),this.mouseEventHandler&&this.hitElement.addEventListener("mouseover",this.onMouseOver.bind(this)),this.layer.passTouch&&(this.positionElement.style.pointerEvents="none"),this.updateToElement(this.renderElement)},t.prototype.getElement=function(){return this.positionElement},t.prototype.getModel=function(){return this.layer},t.prototype.getMaskElementId=function(){return null},t.prototype.onLayerModified=function(t){this.updateToElement(this.renderElement)},t.prototype.onChildOrderModified=function(){},t.prototype.updateClockScale=function(t){},t.prototype.updateToElement=function(t){this.positionElement.style.left=Math.round(10*(this.layer.x.curVal()-this.layer.w.curVal()*this.layer.origin.x))/10+"px",this.positionElement.style.top=Math.round(10*(this.layer.y.curVal()-this.layer.h.curVal()*this.layer.origin.y))/10+"px",this.positionElement.style.width=Math.round(10*this.layer.w.curVal())/10+"px",this.positionElement.style.height=Math.round(10*this.layer.h.curVal())/10+"px",this.positionElement.style.transformOrigin=1e4*this.layer.origin.x/100+"% "+1e4*this.layer.origin.y/100+"%";var e="";0!=this.layer.r.curVal()&&(e="rotate("+Math.round(this.layer.r.curVal())+"deg)"),100===this.layer.scaleX.curVal()&&100===this.layer.scaleY.curVal()||(e+=" scale("+this.layer.scaleX.curVal()/100+","+this.layer.scaleY.curVal()/100+")"),this.positionElement.style.transform=e,this.positionElement.style.opacity=""+Math.round(this.layer.o.curVal())/100,this.apply3DRotation(t)},t.prototype.apply3DRotation=function(t,e){void 0===e&&(e=!1);var n=r.AngleUtils.normalize(this.layer.r3.curVal());if(0==n)t.style.transform&&(t.style.transform="");else{var o=this.layer.r3Axis,s="perspective("+this.layer.r3Depth+"px) rotate";if(o===i.Axis3D.X)s+="X";else{if(o!==i.Axis3D.Y)return;s+="Y"}s+="("+n+"deg)",t.style.transform=s,t.style.transformOrigin=100*this.layer.r3Pivot.x+"% "+100*this.layer.r3Pivot.y+"%"}},t.prototype.onMouseOver=function(t){if(this.layer.o.curVal()>0&&!this.clock.isPaused()){var e=new o.PPMouseEvent(this.clock.getNow());this.mouseEventHandler.onMouseOver(e)&&this.hitElement.addEventListener("mouseout",this.boundOnMouseOut)}},t.prototype.onMouseOut=function(t){var e=new o.PPMouseEvent(this.clock.getNow());this.mouseEventHandler.onMouseOut(e),this.hitElement.removeEventListener("mouseout",this.boundOnMouseOut)},t}();e.BaseLayerRenderer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=function(){function t(){}return t.prototype.updateProperty=function(t,e,n){t.isChanging()||(this.dde?t.addAnimation(new r.EasingSetNumberAnimation(n,e,this.dde.duration,this.dde.easingFunc),null):t.setImmediate(e))},t.prototype.updateColorProperty=function(t,e,n){this.dde?t.changeTo(e,n,this.dde,null):t.setImmediate(e)},t}();e.ChainResponse=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){t<=e?(this.rangeStart=t,this.rangeEnd=e,this.startValue=n,this.endValue=r):(this.rangeStart=e,this.rangeEnd=t,this.startValue=r,this.endValue=n)}return t.prototype.applyScaleFactorToRange=function(t){this.rangeStart*=t,this.rangeEnd*=t},t.prototype.getProgressAt=function(t){return t<=this.rangeStart?0:t>=this.rangeEnd?1:(t-this.rangeStart)/(this.rangeEnd-this.rangeStart)},t.prototype.getDistance=function(t,e){return t>=this.rangeStart&&t<=this.rangeEnd?0:null==e?Number.MAX_VALUE:t>this.rangeEnd&&e<=this.rangeEnd?Math.abs(t-this.rangeEnd):t<this.rangeStart&&e>=this.rangeStart?Math.abs(t-this.rangeStart):Number.MAX_VALUE},t.prototype.interpolate=function(t,e,n){return null!=t&&null!=e?t+(e-t)*n:null},t}();e.RangeEntry=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.entries=[]}return t.prototype.add=function(t){this.entries.push(t)},t.prototype.updateRangeValue=function(t){var e=this.getAt(t);return this.lastRangeValue=t,e},t.prototype.getAt=function(t){for(var e=Number.MAX_VALUE,n=null,r=0,i=this.entries;r<i.length;r++){var o=i[r],s=o.getDistance(t,this.lastRangeValue);if(0==s){n=o;break}s<e&&(e=s,n=o)}return n},t.prototype.getAll=function(){return this.entries},t}();e.RangeMap=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),o=function(){function t(){}return t}();e.DragResponse=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.PPResponse);e.PinchResponse=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.PPResponse);e.RotateResponse=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this.animations=[],this.animatingProperties=[],this.prevSceneRenderer=t,this.nextSceneRenderer=e,this.prevScene=n,this.nextScene=r}return t.prototype.shouldAttachedToFront=function(){return!0},t.prototype.registerAnimation=function(t,e){t.addAnimation(e,null),this.animations.push(e),this.animatingProperties.indexOf(t)<0&&this.animatingProperties.push(t)},t.prototype.progress=function(t){this.prevScene.progress(t),this.nextScene.progress(t)},t.prototype.isEnded=function(t){for(var e=0,n=this.animations;e<n.length;e++){if(!n[e].isEnded(t))return!1}return!0},t}();e.SceneTransition=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.r=t,this.g=e,this.b=n}return t.fromString=function(e){return new t(parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16))},t.white=function(){return new t(255,255,255)},t.prototype.toString=function(t){return"rgba("+this.r+","+this.g+","+this.b+","+Math.round(t)/100+")"},t}();e.Color=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.min=null,this.max=null,this.min=t,this.max=e}return t.prototype.applyScaleFactor=function(t){r.LangUtils.isNil(this.min)||(this.min*=t),r.LangUtils.isNil(this.max)||(this.max*=t)},t.prototype.applyTo=function(t){return null!==this.min&&t<this.min?this.min:null!=this.max&&t>this.max?this.max:t},t.prototype.merge=function(e){var n=new t(this.min,this.max);return r.LangUtils.isNil(e.min)||(r.LangUtils.isNil(n.min)||e.min>n.min)&&(n.min=e.min),r.LangUtils.isNil(e.max)||(r.LangUtils.isNil(n.max)||e.max<n.max)&&(n.max=e.max),n},t.prototype.multiply=function(e){return new t(r.LangUtils.isNil(this.min)?null:this.min*e,r.LangUtils.isNil(this.max)?null:this.max*e)},t}();e.NumberLimit=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2),o=n(1),s=n(0);!function(t){t[t.NONE=0]="NONE",t[t.ALL_DOWN=1]="ALL_DOWN",t[t.DRAGGING=2]="DRAGGING",t[t.CANCELED=3]="CANCELED"}(r||(r={}));var a=function(){function t(t,e){this.drag=new o.Point(0,0),this.time=t,this.startPoint=e.clone()}return t}();e.PPDragEvent=a;var u=function(){function t(t,e){this.fingerCount=1,this.state=r.NONE,this.startPoint=new o.Point(0,0),this.axis=t,this.listener=e}return t.prototype.reset=function(){this.dragEvent=null,this.state=r.NONE},t.prototype.onTouchEvent=function(t){t.lastAction==i.TouchEventAction.DOWN?this.onTouchDown(t):t.lastAction==i.TouchEventAction.MOVE?this.onTouchMove(t):t.lastAction==i.TouchEventAction.UP&&this.onTouchUp(t)},t.prototype.onTouchDown=function(t){this.state==r.NONE&&t.getTouchCount()==this.fingerCount?(this.startPoint.copyFrom(t.focus),this.listener.onDragTouchDown(t.lastActionTime)?(this.state=r.DRAGGING,this.startEvent(t)):this.state=r.ALL_DOWN):t.getTouchCount()>this.fingerCount&&(this.state==r.DRAGGING&&this.endEvent(t),this.state=r.CANCELED)},t.prototype.onTouchMove=function(t){this.state==r.ALL_DOWN&&this.touchMovedSignificantly(t)&&(this.state=r.DRAGGING,this.startEvent(t)),this.state==r.DRAGGING&&this.updateEvent(t)},t.prototype.onTouchUp=function(t){this.state==r.DRAGGING&&this.endEvent(t),0==t.getTouchCount()?this.state=r.NONE:this.state=r.CANCELED},t.prototype.touchMovedSignificantly=function(t){return this.axis!=s.DragAxis.VERTICAL&&Math.abs(t.focus.x-this.startPoint.x)>5||this.axis!=s.DragAxis.HORIZONTAL&&Math.abs(t.focus.y-this.startPoint.y)>5},t.prototype.startEvent=function(t){this.dragEvent=new a(t.lastActionTime,t.focus),this.dragEvent.touchEvent=t,this.listener.onDragStart(this.dragEvent)},t.prototype.updateEvent=function(t){this.dragEvent.time=t.lastActionTime,this.dragEvent.drag.setDiff(this.startPoint,t.focus),this.dragEvent.touchEvent=t,this.listener.onDragMove(this.dragEvent)},t.prototype.endEvent=function(t){this.dragEvent.time=t.lastActionTime,this.dragEvent.touchEvent=t,this.listener.onDragEnd(this.dragEvent)},t}();e.DragDetector=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),o=n(20),s=n(5),a=n(27),u=n(112),c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.fillColor=new u.ColorProperty("fillColor",a.Color.white()),r.fillOpacity=new o.NumberProperty("fillOpacity",100,s.Unit.PERCENT,0,100),r.registerProperty(r.fillColor),r.registerProperty(r.fillOpacity),r}return r(e,t),e.prototype.getFillColorWithAlpha=function(){return this.fillColor.toString(this.fillOpacity.curVal())},e.prototype.getFillColorWithAlphaAndOpacity=function(){return this.fillColor.toString(this.fillOpacity.curVal()*this.o.curVal()/100)},e}(i.Layer);e.ColoredLayer=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.isMask=!1,r}return r(e,t),e}(i.ColoredLayer);e.ShapeLayer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.unsupportedFeatures=[]}return t.prototype.addUnsupportedFeature=function(t){this.unsupportedFeatures.indexOf(t)<0&&this.unsupportedFeatures.push(t)},t.FEATURE_PINCH_TRIGGER="PinchTrigger",t.FEATURE_ROTATE_TRIGGER="RotateTrigger",t.FEATURE_TILT_TRIGGER="TiltTrigger",t.FEATURE_PROXIMITY_TRIGGER="ProximityTrigger",t.FEATURE_FINGER_COUNT="FingerCount",t.FEATURE_COMPASS_TRIGGER="CompassTrigger",t.FEATURE_SOUND_TRIGGER="SoundTrigger",t.FEATURE_TOUCH3D_TRIGGER="3DTouchTrigger",t.FEATURE_VIBRATE_RESPONSE="VibrateResponse",t.FEATURE_MASK="Mask",t.FEATURE_MULTIPLE_VIDEO="MultipleVideo",t.FEATURE_VIDEO_SOUND="VideoSound",t}();e.PieReadResult=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(8);!function(t){t[t.MAC=0]="MAC",t[t.WINDOWS=1]="WINDOWS",t[t.IOS=2]="IOS",t[t.ANDROID=3]="ANDROID",t[t.ETC=4]="ETC"}(r=e.OsType||(e.OsType={}));var o;!function(t){t[t.CHROME=0]="CHROME",t[t.FIREFOX=1]="FIREFOX",t[t.SAFARI=2]="SAFARI",t[t.EDGE=3]="EDGE",t[t.IE=4]="IE",t[t.ETC=5]="ETC"}(o=e.BrowserType||(e.BrowserType={}));var s=function(){function t(){}return t.isMobile=function(){return this.detect(),this.osIsIn(r.IOS,r.ANDROID)},t.supportsMask=function(){return this.detect(),this.osIsIn(r.MAC,r.WINDOWS,r.ANDROID)&&this.browserIsIn(o.FIREFOX,o.CHROME)},t.supportsMultiTouch=function(){return this.isMobile()},t.osIsIn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.indexOf(this.osType)>=0},t.browserIsIn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.indexOf(this.browserType)>=0},t.detect=function(){null===this.browserType&&(/iPhone/.test(navigator.userAgent)?this.osType=r.IOS:/Android/.test(navigator.userAgent)?this.osType=r.ANDROID:/Macintosh/.test(navigator.userAgent)?this.osType=r.MAC:/Windows/.test(navigator.userAgent)?this.osType=r.WINDOWS:this.browserType=o.ETC,/Firefox/.test(navigator.userAgent)?this.browserType=o.FIREFOX:/Edge/.test(navigator.userAgent)?this.browserType=o.EDGE:/MSIE/.test(navigator.userAgent)?this.browserType=o.IE:/Chrome/.test(navigator.userAgent)?this.browserType=o.CHROME:/Safari/.test(navigator.userAgent)?this.browserType=o.SAFARI:this.browserType=o.ETC,i.Logger.d("UserAgent",o[this.browserType],r[this.osType],navigator.userAgent))},t.browserType=null,t.osType=null,t}();e.BrowserDetector=s},function(t,e,n){var r,i,o,s=this;!function(n,s){i=[],r=s,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(){function t(t){if(!F.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t){return t.reduce(function(t,n){return t.concat(F.arr(n)?e(n):n)},[])}function n(e){return F.arr(e)?e:(F.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some(function(t){return t===e})}function i(t){var e,n={};for(e in t)n[e]=t[e];return n}function o(t,e){var n,r=i(t);for(n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function a(t,e){var n,r=i(t);for(n in e)r[n]=F.und(t[n])?e[n]:t[n];return r}function u(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var n=parseInt(e[2],16),e=parseInt(e[3],16);return"rgb("+t+","+n+","+e+")"}function c(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t);t=parseInt(n[1])/360;var r=parseInt(n[2])/100,n=parseInt(n[3])/100;if(0==r)r=n=t=n;else{var i=.5>n?n*(1+r):n+r-n*r,o=2*n-i,r=e(o,i,t+1/3),n=e(o,i,t);t=e(o,i,t-1/3)}return"rgb("+255*r+","+255*n+","+255*t+")"}function h(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(t))return t[2]}function p(t){return-1<t.indexOf("translate")?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}function l(t,e){return F.fnc(t)?t(e.target,e.id,e.total):t}function f(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(t,e){return F.dom(t)&&r(D,e)?"transform":F.dom(t)&&(t.getAttribute(e)||F.svg(t)&&t[e])?"attribute":F.dom(t)&&"transform"!==e&&f(t,e)?"css":null!=t[e]?"object":void 0}function y(t,e){var n=p(e),n=-1<e.indexOf("scale")?1:0+n;if(!(t=t.style.transform))return n;for(var r=[],i=[],o=[],s=/(\w+)\((.+?)\)/g;r=s.exec(t);)i.push(r[1]),o.push(r[2]);return t=o.filter(function(t,n){return i[n]===e}),t.length?t[0]:n}function g(t,e){switch(d(t,e)){case"transform":return y(t,e);case"css":return f(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function v(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t;case"-":return e-t;case"*":return e*t}}function m(t){return F.obj(t)&&t.hasOwnProperty("totalLength")}function E(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var r=n(),i=n(-1),o=n(1);switch(t.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function _(t,e){var n=/-?\d*\.?\d+/g;if(t=m(t)?t.totalLength:t,F.col(t))e=F.rgb(t)?t:F.hex(t)?u(t):F.hsl(t)?c(t):void 0;else{var r=h(t);t=r?t.substr(0,t.length-r.length):t,e=e?t+e:t}return e+="",{original:e,numbers:e.match(n)?e.match(n).map(Number):[0],strings:e.split(n)}}function T(t,e){return e.reduce(function(e,n,r){return e+t[r-1]+n})}function w(t){return(t?e(F.arr(t)?t.map(n):n(t)):[]).filter(function(t,e,n){return n.indexOf(t)===e})}function b(t){var e=w(t);return e.map(function(t,n){return{target:t,id:n,total:e.length}})}function A(t,e){var r=i(e);if(F.arr(t)){var o=t.length;2!==o||F.obj(t[0])?F.fnc(e.duration)||(r.duration=e.duration/o):t={value:t}}return n(t).map(function(t,n){return n=n?0:e.delay,t=F.obj(t)&&!m(t)?t:{value:t},F.und(t.delay)&&(t.delay=n),t}).map(function(t){return a(t,r)})}function P(t,e){var n,r={};for(n in t){var i=l(t[n],e);F.arr(i)&&(i=i.map(function(t){return l(t,e)}),1===i.length&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function R(t){return F.arr(t)?U.apply(this,t):V[t]}function O(t,e){var n;return t.tweens.map(function(r){r=P(r,e);var i=r.value,o=g(e.target,t.name),s=n?n.to.original:o,s=F.arr(i)?i[0]:s,a=v(F.arr(i)?i[1]:i,s),o=h(a)||h(s)||h(o);return r.isPath=m(i),r.from=_(s,o),r.to=_(a,o),r.start=n?n.end:t.offset,r.end=r.start+r.delay+r.duration,r.easing=R(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,F.col(r.from.original)&&(r.round=1),n=r})}function C(t,n){return e(t.map(function(t){return n.map(function(e){var n=d(t.target,e.name);if(n){var r=O(e,t);e={type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else e=void 0;return e})})).filter(function(t){return!F.und(t)})}function S(t,e,n){var r="delay"===t?Math.min:Math.max;return e.length?r.apply(Math,e.map(function(e){return e[t]})):n[t]}function x(t){var e,n=o(N,t),r=o(M,t),i=b(t.targets),s=[],u=a(n,r);for(e in t)u.hasOwnProperty(e)||"targets"===e||s.push({name:e,offset:u.offset,tweens:A(t[e],r)});return t=C(i,s),a(n,{children:[],animatables:i,animations:t,duration:S("duration",t,r),delay:S("delay",t,r)})}function L(t){function e(){return window.Promise&&new Promise(function(t){return h=t})}function n(t){return l.reversed?l.duration-t:t}function r(t){for(var e=0,n={},r=l.animations,i={};e<r.length;){var o=r[e],s=o.animatable,a=o.tweens;i.tween=a.filter(function(e){return t<e.end})[0]||a[a.length-1],i.isPath$1=i.tween.isPath,i.round=i.tween.round,i.eased=i.tween.easing(Math.min(Math.max(t-i.tween.start-i.tween.delay,0),i.tween.duration)/i.tween.duration,i.tween.elasticity),a=T(i.tween.to.numbers.map(function(t){return function(e,n){return n=t.isPath$1?0:t.tween.from.numbers[n],e=n+t.eased*(e-n),t.isPath$1&&(e=E(t.tween.value,e)),t.round&&(e=Math.round(e*t.round)/t.round),e}}(i)),i.tween.to.strings),j[o.type](s.target,o.property,a,n,s.id),o.currentValue=a,e++,i={isPath$1:i.isPath$1,tween:i.tween,eased:i.eased,round:i.round}}if(n)for(var u in n)I||(I=f(document.body,"transform")?"transform":"-webkit-transform"),l.animatables[u].target.style[I]=n[u].join(" ");l.currentTime=t,l.progress=t/l.duration*100}function i(t){l[t]&&l[t](l)}function o(){l.remaining&&!0!==l.remaining&&l.remaining--}function s(t){var s=l.duration,f=l.offset,d=l.delay,y=l.currentTime,g=l.reversed,v=n(t),v=Math.min(Math.max(v,0),s);if(l.children){var m=l.children;if(v>=l.currentTime)for(var E=0;E<m.length;E++)m[E].seek(v);else for(E=m.length;E--;)m[E].seek(v)}v>f&&v<s?(r(v),!l.began&&v>=d&&(l.began=!0,i("begin")),i("run")):(v<=f&&0!==y&&(r(0),g&&o()),v>=s&&y!==s&&(r(s),g||o())),t>=s&&(l.remaining?(u=a,"alternate"===l.direction&&(l.reversed=!l.reversed)):(l.pause(),"Promise"in window&&(h(),p=e()),l.completed||(l.completed=!0,i("complete"))),c=0),i("update")}t=void 0===t?{}:t;var a,u,c=0,h=null,p=e(),l=x(t);return l.reset=function(){var t=l.direction,e=l.loop;for(l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.completed=!1,l.reversed="reverse"===t,l.remaining="alternate"===t&&1===e?2:e,t=l.children.length;t--;)e=l.children[t],e.seek(e.offset),e.reset()},l.tick=function(t){a=t,u||(u=a),s((c+a-u)*L.speed)},l.seek=function(t){s(n(t))},l.pause=function(){var t=B.indexOf(l);-1<t&&B.splice(t,1),l.paused=!0},l.play=function(){l.paused&&(l.paused=!1,u=0,c=n(l.currentTime),B.push(l),k||G())},l.reverse=function(){l.reversed=!l.reversed,u=0,c=n(l.currentTime)},l.restart=function(){l.pause(),l.reset(),l.play()},l.finished=p,l.reset(),l.autoplay&&l.play(),l}var I,N={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},M={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},D="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),F={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||F.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return F.hex(t)||F.rgb(t)||F.hsl(t)}},U=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,r,i){if(0<=e&&1>=e&&0<=r&&1>=r){var o=new Float32Array(11);if(e!==n||r!==i)for(var s=0;11>s;++s)o[s]=t(.1*s,e,r);return function(s){if(e===n&&r===i)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,u=1;10!==u&&o[u]<=s;++u)a+=.1;--u;var u=a+(s-o[u])/(o[u+1]-o[u])*.1,c=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e;if(.001<=c){for(a=0;4>a&&0!==(c=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e);++a)var h=t(u,e,r)-s,u=u-h/c;s=u}else if(0===c)s=u;else{var u=a,a=a+.1,p=0;do{h=u+(a-u)/2,c=t(h,e,r)-s,0<c?a=h:u=h}while(1e-7<Math.abs(c)&&10>++p);s=h}return t(s,n,i)}}}}(),V=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},i={linear:U(.25,.25,.75,.75)},o={};for(e in r)o.type=e,r[o.type].forEach(function(t){return function(e,r){i["ease"+t.type+n[r]]=F.fnc(e)?e:U.apply(s,e)}}(o)),o={type:o.type};return i}(),j={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){r[i]||(r[i]=[]),r[i].push(e+"("+n+")")}},B=[],k=0,G=function(){function t(){k=requestAnimationFrame(e)}function e(e){var n=B.length;if(n){for(var r=0;r<n;)B[r]&&B[r].tick(e),r++;t()}else cancelAnimationFrame(k),k=0}return t}();return L.version="2.0.2",L.speed=1,L.running=B,L.remove=function(t){t=w(t);for(var e=B.length;e--;)for(var n=B[e],i=n.animations,o=i.length;o--;)r(t,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},L.getValue=g,L.path=function(e,n){var r=F.str(e)?t(e)[0]:e,i=n||100;return function(t){return{el:r,property:t,totalLength:r.getTotalLength()*(i/100)}}},L.setDashoffset=function(t){var e=t.getTotalLength();return t.setAttribute("stroke-dasharray",e),e},L.bezier=U,L.easings=V,L.timeline=function(t){var e=L(t);return e.pause(),e.duration=0,e.add=function(t){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),n(t).forEach(function(t){var n=e.duration,r=t.offset;t.autoplay=!1,t.offset=F.und(r)?n:v(r,n),e.seek(t.offset),t=L(t),t.duration>n&&(e.duration=t.duration),t.began=!0,e.children.push(t)}),e.reset(),e.seek(0),e.autoplay&&e.restart(),e},e},L.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},L})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e){this.w=t,this.h=e}return t.prototype.getValue=function(t){return t==r.Axis2D.X?this.w:t==r.Axis2D.Y?this.h:void 0},t}();e.PPSize=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=function(){function t(){this.ppi=97,this.detectPpi()}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.getPpi=function(){return this.ppi},t.prototype.detectPpi=function(){var t=this,e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="1in",e.style.height="1in",e.style.background="#f00",e.style.opacity="0",document.body.appendChild(e);var n=0,i=function(){var o=e.offsetWidth;o>0?(t.ppi=o,document.body.removeChild(e),r.Logger.i("Detected PPI: "+t.ppi)):n<100?(n++,setTimeout(i,10)):(r.Logger.w("Failed to detect PPI"),document.body.removeChild(e))};setTimeout(i,0)},t}();e.SystemInfo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),i=n(5),o=n(1),s=n(109),a=n(0),u=n(6),c=n(3),h=n(71),p=n(72),l=n(69),f=n(170),d=n(8),y=n(105),g=new o.Point(0,0),v=function(){function t(t,e){this.passTouch=!1,this.hitArea=new s.HitArea,this.origin=new o.Point(0,0),this.r3Pivot=new o.Point(.5,.5),this.r3Depth=200,this.x=new r.NumberProperty("x",0,i.Unit.PIXEL,null,null),this.y=new r.NumberProperty("y",0,i.Unit.PIXEL,null,null),this.w=new r.NumberProperty("width",0,i.Unit.PIXEL,0,null),this.h=new r.NumberProperty("height",0,i.Unit.PIXEL,0,null),this.r=new r.NumberProperty("rotation",0,i.Unit.DEGREE),this.r3=new r.NumberProperty("rotation3d",0,i.Unit.DEGREE),this.scaleX=new r.NumberProperty("scaleX",100,i.Unit.PERCENT,0,null),this.scaleY=new r.NumberProperty("scaleY",100,i.Unit.PERCENT,0,null),this.o=new r.NumberProperty("opacity",100,i.Unit.PERCENT,0,100),this.propertyMap={},this.touchTriggers=[],this.mouseTriggers=[],this.observers=[],this.propertyObservers=[],this.id=t,this.parent=e,this.registerProperty(this.x),this.registerProperty(this.y),this.registerProperty(this.w),this.registerProperty(this.h),this.registerProperty(this.r),this.registerProperty(this.r3),this.registerProperty(this.scaleX),this.registerProperty(this.scaleY),this.registerProperty(this.o)}return t.prototype.addTouchTrigger=function(t){this.touchTriggers.push(t)},t.prototype.addMouseTrigger=function(t){this.mouseTriggers.push(t)},t.prototype.optimizeInteractions=function(){for(var t,e,n,r=0,i=0,o=this.touchTriggers;i<o.length;i++){var s=o[i];s instanceof h.PinchTrigger?!t&&s.isOptimizable()&&(t=s,r+=1):s instanceof p.RotateTrigger?!e&&s.isOptimizable()&&(e=s,r+=1):s instanceof l.DragTrigger&&!n&&s.isOptimizable()&&(n=s,r+=1)}if(r>=2){this.touchTriggers.push(f.FreeTransformComponent.fromTriggers(n,t,e));for(var a=0;a<this.touchTriggers.length;a++){var u=this.touchTriggers[a];u!=t&&u!=e&&u!=n||(this.touchTriggers.splice(a,1),a--)}d.Logger.i("FreeTransform optimized count=(count)")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.addPropertyObserver=function(t){this.propertyObservers.push(t)},t.prototype.removeAllObservers=function(){this.observers.length=0},t.prototype.init=function(t){for(var e=0,n=this.touchTriggers;e<n.length;e++){var r=n[e];r.init(t)}for(var i=0,o=this.mouseTriggers;i<o.length;i++){var r=o[i];r.init(t)}},t.prototype.saveInitialState=function(){},t.prototype.reset=function(){u.ObjectUtils.forValues(this.propertyMap,function(t){t.reset()});for(var t=0,e=this.touchTriggers;t<e.length;t++){var n=e[t];n.reset()}for(var r=0,i=this.mouseTriggers;r<i.length;r++){var n=i[r];n.reset()}},t.prototype.applyScaleFactor=function(t){u.ObjectUtils.forValues(this.propertyMap,function(e){e.applyScaleFactor(t)});for(var e=0,n=this.touchTriggers;e<n.length;e++){var r=n[e];r.applyScaleFactor(t)}for(var i=0,o=this.mouseTriggers;i<o.length;i++){var r=o[i];r.applyScaleFactor(t)}this.hitArea.applyScaleFactor(t)},t.prototype.start=function(t){},t.prototype.progress=function(t){for(var e in this.propertyMap){this.propertyMap[e].progress(t)}},t.prototype.getMouseEventHandler=function(){return this.mouseTriggers.length>0?new y.LayerMouseEventHandler(this,this.mouseTriggers):null},t.prototype.moveOrigin=function(t){var e=this.x.curVal()+this.w.curVal()*(t.x-this.origin.x),n=this.y.curVal()+this.h.curVal()*(t.y-this.origin.y),r=new o.Point(0,0);c.AngleUtils.rotate(new o.Point(e,n),this.r.curVal(),new o.Point(this.x.curVal(),this.y.curVal()),r),this.x.setImmediate(r.x),this.y.setImmediate(r.y),this.origin.x=t.x,this.origin.y=t.y},t.prototype.isTouchable=function(){return this.o.curVal()>0&&this.r3.curVal()>-5&&this.r3.curVal()<5},t.prototype.isInterestedWithTouchEvent=function(t){return this.isTouchable()&&this.includesPoint(t)},t.prototype.includesPoint=function(t){return this.includesSelfOriginPoint(this.translateParentPointToSelf(t))},t.prototype.includesSelfOriginPoint=function(t){return this.hitArea.isPointIncludedIn(t,this.w.curVal(),this.h.curVal())},t.prototype.translateParentPointToSelf=function(t){var e=new o.Point(0,0);return this.applyReverseGeometryToPoint(t,e),e},t.prototype.translateAbsPointToSelf=function(t){if(this.parent){var e=this.parent.translateAbsPointToSelf(t);return e.x=e.x+this.parent.sX.curVal(),e.y=e.y+this.parent.sY.curVal(),this.translateParentPointToSelf(e)}return this.translateParentPointToSelf(t)},t.prototype.absToPivot=function(t){var e=this.translateAbsPointToSelf(t);return new o.Point(e.x/this.w.curVal(),e.y/this.h.curVal())},t.prototype.applyReverseGeometryToPoint=function(t,e){e.x=t.x-this.x.curVal(),e.y=t.y-this.y.curVal(),e.x=e.x/(this.scaleX.curVal()/100),e.y=e.y/(this.scaleY.curVal()/100),c.AngleUtils.rotate(e,-this.r.curVal(),g,e),e.x+=this.origin.x*this.w.curVal(),e.y+=this.origin.y*this.h.curVal()},t.prototype.registerProperty=function(t){this.propertyMap[t.name]=t,t.addObserver(this)},t.prototype.onPropertyShouldProgress=function(t){for(var e=0,n=this.propertyObservers;e<n.length;e++){n[e].onLayerPropertyShouldProgress(this,t)}},t.prototype.onPropertySetImmediate=function(t){for(var e=0,n=this.propertyObservers;e<n.length;e++){n[e].onLayerPropertySetImmediate(this,t)}},t.prototype.getTopLeft=function(){return new o.Point(this.x.curVal()-this.w.curVal()*this.origin.x,this.y.curVal()-this.h.curVal()*this.origin.y)},t.prototype.getPositionProp=function(t){return t==a.Axis2D.X?this.x:t==a.Axis2D.Y?this.y:void 0},t.prototype.getSize=function(t){return t==a.Axis2D.X?this.w:t==a.Axis2D.Y?this.h:void 0},t.prototype.getNumberPropertyByName=function(t){var e=this.propertyMap[t];return e instanceof r.NumberProperty?e:null},t.prototype.notifyLayerModified=function(){for(var t=0,e=this.observers;t<e.length;t++){e[t].onLayerModified(this)}},t.prototype.notifyChildOrderModified=function(){for(var t=0,e=this.observers;t<e.length;t++){e[t].onChildOrderModified()}},t.prototype.notifyImmediateModification=function(){for(var t=0,e=this.propertyObservers;t<e.length;t++){e[t].onLayerPropertySetImmediate(this,null)}},t.prototype.getLeft=function(){return this.x.curVal()-this.origin.x*this.w.curVal()},t.prototype.getRight=function(){return this.x.curVal()+(1-this.origin.x)*this.w.curVal()},t.prototype.getTop=function(){return this.y.curVal()-this.origin.y*this.h.curVal()},t.prototype.getBottom=function(){return this.y.curVal()+(1-this.origin.y)*this.h.curVal()},t}();e.Layer=v},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=n(5),s=n(31),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.radius=new i.NumberProperty("radius",0,o.Unit.PIXEL,0,null),r.registerProperty(r.radius),r}return r(e,t),e}(s.ShapeLayer);e.RectLayer=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),o=n(55),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.textAttributes=new o.PPTextAttributes,r.initialTextAttributes=new o.PPTextAttributes,r.textAttributes.text="",r.textAttributes.fontSize=16,r.textAttributes.lineHeight=1.2,r.textAttributes.textAlign="LEFT",r.textAttributes.verticalAlign="TOP",r.textAttributes.fontWeight="NORMAL",r}return r(e,t),e.prototype.saveInitialState=function(){t.prototype.saveInitialState.call(this),this.initialTextAttributes.copyFrom(this.textAttributes)},e.prototype.reset=function(){t.prototype.reset.call(this),this.textAttributes.copyFrom(this.initialTextAttributes)},e.prototype.applyScaleFactor=function(e){t.prototype.applyScaleFactor.call(this,e),this.textAttributes.applyScaleFactor(e),this.initialTextAttributes.applyScaleFactor(e)},e.prototype.updateTextAttributes=function(t){this.textAttributes.copyFrom(t),this.notifyImmediateModification()},e}(i.ColoredLayer);e.TextLayer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.delay=t,this.duration=e,this.easingFunc=n}return t}();e.DDE=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(57),o=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.increment=n,o.duration=r,o.easingFunc=i,o}return r(e,t),e.fromDDE=function(t,n,r){return new e(n+r.delay,t,r.duration,r.easingFunc)},e.prototype.getIncrementAt=function(t){return t>=this.startTime+this.duration?this.increment:t<=this.startTime?0:this.increment*this.easingFunc.computeValueProgress((t-this.startTime)/this.duration)},e.prototype.clone=function(t){return new e(t,this.increment,this.duration,this.easingFunc)},e.prototype.getDuration=function(){return this.duration},e.prototype.isEnded=function(t){return t>=this.startTime+this.duration},e}(i.NumberAnimation);e.IncrementNumberAnimation=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(57),o=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e}(i.NumberAnimation);e.SetNumberAnimation=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(28),s=n(1),a=n(0),u=n(11),c=n(35),h=n(6),p=function(t){function e(e){var n=t.call(this)||this;return n.direction=a.DragAxis.FREE,n.useAutoPivot=!0,n.wLimit=new o.NumberLimit,n.hLimit=new o.NumberLimit,n.wChange=new u.NumberChange,n.hChange=new u.NumberChange,n.originMoved=!1,n.layer=e,n.originalOrigin=new s.Point(e.origin.x,e.origin.y),n}return r(e,t),e.prototype.applyScaleFactor=function(t){this.wLimit.applyScaleFactor(t),this.hLimit.applyScaleFactor(t)},e.prototype.onStart=function(t){var e=t.time;this.direction!=a.DragAxis.VERTICAL&&(this.wChange.increment=0,this.wChange.setLimit(this.wLimit),this.layer.w.startContinuousChange(this.wChange,e)),this.direction!=a.DragAxis.HORIZONTAL&&(this.hChange.increment=0,this.hChange.setLimit(this.hLimit),this.layer.h.startContinuousChange(this.hChange,e)),this.useAutoPivot&&(this.layer.moveOrigin(this.layer.absToPivot(t.currentFocus)),this.originMoved=!0),this.initialSize=new c.PPSize(this.layer.w.curVal(),this.layer.h.curVal())},e.prototype.onChange=function(t){var e=t.scaleRatio-1;this.direction!=a.DragAxis.VERTICAL&&this.applyIncrement(this.initialSize.w*e,this.layer.w,this.wChange),this.direction!=a.DragAxis.HORIZONTAL&&this.applyIncrement(this.initialSize.h*e,this.layer.h,this.hChange)},e.prototype.onEnd=function(t){var e=t.time;this.direction!=a.DragAxis.VERTICAL&&this.layer.w.endContinuousChange(this.wChange,e),this.direction!=a.DragAxis.HORIZONTAL&&this.layer.h.endContinuousChange(this.hChange,e),this.originMoved&&(this.layer.moveOrigin(this.originalOrigin),this.originMoved=!1)},e.prototype.applyIncrement=function(t,e,n){var r=e.curVal()-n.increment,i=this.applyMinMax(r+t,n.min,n.max);n.increment=i-r},e.prototype.applyMinMax=function(t,e,n){var r=t;return!h.LangUtils.isNil(e)&&r<e&&(r=e),!h.LangUtils.isNil(n)&&r>n&&(r=n),r},e}(i.PinchResponse);e.PinchScaleResponse=p},function(t,e){function n(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return n(t)}catch(t){return r}}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function i(t,e,n){switch(n){case"iOS":return"protopie://cloud/"+t+"/"+e;case"Android":return"Intent://cloud/"+t+"/"+e+"#Intent;scheme=protopie;package=io.protopie.companion;end";default:return""}}e.a=r,e.b=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e){this.position=t,this.size=e}return t.prototype.getTop=function(){return this.position.y},t.prototype.getBottom=function(){return this.position.y+this.size.h},t.prototype.getLeft=function(){return this.position.x},t.prototype.getRight=function(){return this.position.x+this.size.w},t.prototype.getMin=function(t){return t==r.Axis2D.X?this.getLeft():t==r.Axis2D.Y?this.getTop():void 0},t.prototype.getMax=function(t){return t==r.Axis2D.X?this.getRight():t==r.Axis2D.Y?this.getBottom():void 0},t}();e.PPRect=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.value=t,this.velocity=e,this.friction=n,this.finished=!1}return t.prototype.integrate=function(t){this.finished||(this.value+=this.velocity*t,this.velocity>0?this.velocity=Math.max(this.velocity-this.friction*t,0):this.velocity=Math.min(this.velocity+this.friction*t,0),0==this.velocity&&(this.finished=!0),null!==this.minValue&&this.value<=this.minValue&&(this.value=this.minValue,this.finished=!0),null!==this.maxValue&&this.value>=this.maxValue&&(this.value=this.maxValue,this.finished=!0))},t.prototype.getValue=function(){return this.value},t.prototype.getVelocity=function(){return this.velocity},t.prototype.isFinished=function(){return this.finished},t.prototype.setMinValue=function(t){this.minValue=t},t.prototype.setMaxValue=function(t){this.maxValue=t},t}();e.FrictionMovement=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.duration=0,this.values=[];for(var r=0;!t.isFinished();){if(this.duration+=e,r>=n){this.values.push(1);break}this.values.push(t.getNext(e)),r++}}return t.prototype.computeValueProgress=function(t){var e=Math.min(Math.round(t*this.values.length)-1,this.values.length-1);return e<0?0:this.values[e]},t.prototype.getDuration=function(){return this.duration},t}();e.PopulatingEasingFunc=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.yValues=[],this.xStart=t,this.xInterval=e,this.yValues.push(n)}return t.prototype.addSample=function(t){this.yValues.push(t)},t.prototype.getXRange=function(){return this.xInterval*(this.yValues.length-1)},t.prototype.getY=function(t){var e=Math.round((t-this.xStart)/this.xInterval);return this.yValues[Math.min(Math.max(e,0),this.yValues.length-1)]},t.prototype.update=function(t){for(var e=0;e<this.yValues.length;e++)this.yValues[e]=t(this.yValues[e])},t}();e.Sampler=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=function(t){function e(e,n){var r=t.call(this,e)||this;return r.sampler=n,r.duration=Math.ceil(1e3*n.getXRange()),r}return r(e,t),e.prototype.clone=function(t){throw new Error("Not implemented")},e.prototype.getDuration=function(){return this.duration},e.prototype.start=function(t,e){},e.prototype.isEnded=function(t){return t>this.startTime+this.duration},e.prototype.getValueAt=function(t){return this.sampler.getY((t-this.startTime)/1e3)},e}(i.SetNumberAnimation);e.SamplerAnimation=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2),o=n(1);!function(t){t[t.NONE=0]="NONE",t[t.ALL_DOWN=1]="ALL_DOWN",t[t.RELEASING=2]="RELEASING"}(r||(r={}));var s=function(){function t(){this.requiredFingerCount=1,this.downPoint=new o.Point(0,0)}return t.prototype.onTouchEvent=function(t){if(t.lastAction==i.TouchEventAction.DOWN)t.getTouchCount()==this.requiredFingerCount?(this.state=r.ALL_DOWN,this.downPoint.copyFrom(t.focus)):this.state=r.NONE,this.downPoint.copyFrom(t.focus);else if(t.lastAction==i.TouchEventAction.MOVE){if(this.state==r.ALL_DOWN||this.state==r.RELEASING){var e=t.focus.x-this.downPoint.x,n=t.focus.y-this.downPoint.y;e*e+n*n>400&&(this.state=r.NONE)}}else t.lastAction==i.TouchEventAction.UP&&(this.state==r.ALL_DOWN||this.state==r.RELEASING?0==t.getTouchCount()?(this.listener.onTap(t.lastActionTime),this.state=r.NONE):this.state=r.RELEASING:this.state=r.NONE)},t}();e.TapDetector=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(i.Layer);e.ImageLayer=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(i.ShapeLayer);e.OvalLayer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(){function t(){}return t.prototype.applyScaleFactor=function(t){r.LangUtils.isNil(this.fontSize)||(this.fontSize*=t)},t.prototype.copyFrom=function(t){this.text=r.LangUtils.ifNil(t.text,this.text),this.fontSize=r.LangUtils.ifNil(t.fontSize,this.fontSize),this.lineHeight=r.LangUtils.ifNil(t.lineHeight,this.lineHeight),this.textAlign=r.LangUtils.ifNil(t.textAlign,this.textAlign),this.verticalAlign=r.LangUtils.ifNil(t.verticalAlign,this.verticalAlign),this.fontWeight=r.LangUtils.ifNil(t.fontWeight,this.fontWeight)},t}();e.PPTextAttributes=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(4),s=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,r,i)||this;return a.circleSize=o,a.dir=s,a}return r(e,t),e.prototype.clone=function(t){return new e(t,this.endValue,this.getDuration(),this.easingFunc,this.circleSize,this.dir)},e.prototype.start=function(e,n){t.prototype.start.call(this,e,n),this.dir==i.RotateDirection.CW&&this.endValue<e||this.dir==i.RotateDirection.NEAR&&e-this.endValue>this.circleSize/2?this.circularEndValue=this.endValue+this.circleSize:this.dir==i.RotateDirection.CCW&&this.endValue>e||this.dir==i.RotateDirection.NEAR&&this.endValue-e>this.circleSize/2?this.circularEndValue=this.endValue-this.circleSize:this.circularEndValue=this.endValue},e.prototype.getValueAt=function(t){for(var e=this.computeValueAt(this.startValue,this.circularEndValue,t);e>this.circleSize;)e-=this.circleSize;for(;e<0;)e+=this.circleSize;return e},e}(o.EasingSetNumberAnimation);e.CircularSetNumberAnimation=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.startTime=t}return t}();e.NumberAnimation=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e){this.observers=[],this.name=e,t.idCounter++,this.id=e+"_"+t.idCounter}return t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.notifyShouldProgress=function(){for(var t=0,e=this.observers;t<e.length;t++){e[t].onPropertyShouldProgress(this)}},t.prototype.notifySetImmediate=function(){for(var t=0,e=this.observers;t<e.length;t++){e[t].onPropertySetImmediate(this)}},t.idCounter=0,t}();e.Property=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.shapeLayer=e,r}return r(e,t),e.prototype.getMaskElementId=function(){return this.maskElementId},e.prototype.createElement=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(this.shapeElement=this.createShapeElement(),t.appendChild(this.shapeElement),this.shapeLayer.isMask){this.maskElementId="MASK-"+this.shapeLayer.id;var e=document.createElementNS("http://www.w3.org/2000/svg","defs");t.appendChild(e);var n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.setAttribute("id",this.maskElementId),e.appendChild(n),this.maskElement=this.createMaskElement(),n.appendChild(this.maskElement)}return t},e.prototype.updateToElement=function(e){t.prototype.updateToElement.call(this,e);var n=this.shapeLayer;if(this.shapeElement.setAttribute("fill",n.getFillColorWithAlpha()),this.updateModelToShapeElement(this.shapeElement),this.maskElement){this.updateModelToMaskElement(this.maskElement);var r=[];if(0!==n.r.curVal()&&r.push("rotate("+n.r.curVal()+"deg)"),100===n.scaleX.curVal()&&100===n.scaleY.curVal()||r.push("scale("+n.scaleX.curVal()/100+","+n.scaleY.curVal()/100+")"),r.length>0){var i="transform-origin: "+100*n.origin.x+"% "+100*n.origin.y+"%";i+="; transform: "+r.join(" ")+";",this.maskElement.setAttribute("style",i)}}},e}(i.BaseLayerRenderer);e.ShapeLayerRenderer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.init=function(t){this.scheduler=t},t}();e.PPResponse=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(11),s=n(0),a=n(73),u=function(t){function e(e){var n=t.call(this)||this;return n.direction=s.DragAxis.FREE,n.ratio=1,n.xChange=new o.NumberChange,n.yChange=new o.NumberChange,n.layer=e,n}return r(e,t),e.prototype.applyScaleFactor=function(t){this.xLimit&&this.xLimit.applyScaleFactor(t),this.yLimit&&this.yLimit.applyScaleFactor(t)},e.prototype.onStart=function(t){var e=t.time;this.direction!=s.DragAxis.VERTICAL&&(this.xChange.increment=0,this.layer.x.startContinuousChange(this.xChange,e)),this.direction!=s.DragAxis.HORIZONTAL&&(this.yChange.increment=0,this.layer.y.startContinuousChange(this.yChange,e))},e.prototype.onChange=function(t){if(this.limitToParent){var e=a.CoordUtils.computeContainingRect(this.layer);this.direction!=s.DragAxis.VERTICAL&&this.setLimitToParent(this.xChange,s.Axis2D.X,e),this.direction!=s.DragAxis.HORIZONTAL&&this.setLimitToParent(this.yChange,s.Axis2D.Y,e)}else this.direction!=s.DragAxis.VERTICAL&&this.xChange.setLimit(this.xLimit),this.direction!=s.DragAxis.HORIZONTAL&&this.yChange.setLimit(this.yLimit);this.direction!=s.DragAxis.VERTICAL&&(this.xChange.increment=t.drag.x*this.ratio),this.direction!=s.DragAxis.HORIZONTAL&&(this.yChange.increment=t.drag.y*this.ratio)},e.prototype.onEnd=function(t){var e=t.time;this.direction!=s.DragAxis.VERTICAL&&this.layer.x.endContinuousChange(this.xChange,e),this.direction!=s.DragAxis.HORIZONTAL&&this.layer.y.endContinuousChange(this.yChange,e)},e.prototype.setLimitToParent=function(t,e,n){var r=this.layer.parent;if(r){var i=r.getSize(e).curVal(),o=this.layer.getPositionProp(e).curVal()-n.getMin(e),s=n.getMax(e)-this.layer.getPositionProp(e).curVal();i>n.size.getValue(e)?(t.min=o,t.max=i-s):(t.min=i-s,t.max=o)}},e}(i.DragResponse);e.DragMoveResponse=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(1),s=n(0),a=n(11),u=n(3),c=function(t){function e(e){var n=t.call(this)||this;return n.useAutoPivot=!0,n.rChange=new a.NumberChange,n.originMoved=!1,n.layer=e,n.originalOrigin=new o.Point(e.origin.x,e.origin.y),n}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.onStart=function(t){this.rChange.increment=0,this.layer.r.startContinuousChange(this.rChange,t.time),this.useAutoPivot&&(this.layer.moveOrigin(this.layer.absToPivot(t.currentFocus)),this.originMoved=!0),this.initialRotation=this.layer.r.curVal()},e.prototype.onChange=function(t){var e=u.AngleUtils.normalize(this.initialRotation+t.angleChange);this.rChange.increment=u.AngleUtils.getAngleDelta(this.initialRotation,e,s.RotateDirection.NEAR)},e.prototype.onEnd=function(t){this.layer.r.endContinuousChange(this.rChange,t.time),this.originMoved&&(this.layer.moveOrigin(this.originalOrigin),this.originMoved=!1)},e}(i.RotateResponse);e.RotateRotateResponse=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=n(5),s=function(t){function e(e){var n=t.call(this)||this;return n.lastValue=Number.NaN,n.responses=[],n.property=e,n}return r(e,t),e.prototype.addResponse=function(t){this.responses.push(t)},e.prototype.reset=function(){this.lastValue=Number.NaN},e.prototype.applyScaleFactor=function(t){if(this.property.unit==o.Unit.PIXEL)for(var e=0,n=this.responses;e<n.length;e++){var r=n[e];r.applyScaleFactorToRange(t)}for(var i=0,s=this.responses;i<s.length;i++){var r=s[i];r.applyScaleFactor(t)}},e.prototype.run=function(t){var e=!1,n=this.property.curVal();if(n!=this.lastValue){for(var r=0,i=this.responses;r<i.length;r++){i[r].run(n,t)&&(e=!0)}this.lastValue=n}return e},e}(i.Trigger);e.ChainTrigger=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=function(t){function e(e){var n=t.call(this)||this;return n.executed=!1,n.responses=e,n}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.reset=function(){this.executed=!1},e.prototype.applyScaleFactor=function(t){this.responses.applyScaleFactor(t)},e.prototype.run=function(t){this.executed||(this.responses.run(t),this.executed=!0)},e}(i.Trigger);e.OnLoadTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=n(5),s=function(t){function e(e,n,r){var i=t.call(this)||this;return i.matched=!1,i.property=e,i.range=n,i.responses=r,i}return r(e,t),e.prototype.reset=function(){this.matched=!1},e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.applyScaleFactor=function(t){this.property.unit==o.Unit.PIXEL&&this.range.applyScaleFactor(t),this.responses.applyScaleFactor(t)},e.prototype.run=function(t){this.range.isInRange(this.property.curVal())?this.matched||(this.responses.run(t),this.matched=!0):this.matched=!1},e}(i.Trigger);e.RangeTrigger=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=function(t){function e(e){var n=t.call(this)||this;return n.responses=e,n}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.reset=function(){},e.prototype.applyScaleFactor=function(t){this.responses.applyScaleFactor(t)},e.prototype.run=function(t){this.responses.run(t)},e}(i.Trigger);e.ReceiveTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.layer=n,r}return r(e,t),e}(i.Trigger);e.AbstractMouseTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(67),o=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.responses=r,i}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.applyScaleFactor=function(t){this.responses.applyScaleFactor(t)},e.prototype.runResponses=function(t){this.responses.run(t)},e}(i.AbstractMouseTrigger);e.AbstractOneTimeMouseTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(29),a=n(0),u=n(61),c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.responses=[],r.fingerCount=1,r.dragDetector=new s.DragDetector(a.DragAxis.FREE,r),r}return r(e,t),e.prototype.setFingerCount=function(t){this.fingerCount=t,this.dragDetector.fingerCount=t},e.prototype.getFingerCount=function(){return this.fingerCount},e.prototype.onTouchEvent=function(t){this.dragDetector.onTouchEvent(t)},e.prototype.reset=function(){this.dragDetector.reset()},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].applyScaleFactor(t)}},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.MOVE_FREE},e.prototype.isOptimizable=function(){if(1==this.responses.length&&2==this.fingerCount&&this.responses[0]instanceof u.DragMoveResponse){var t=this.responses[0];return t.layer.id==this.layer.id&&t.direction==a.DragAxis.FREE}return!1},e.prototype.onDragTouchDown=function(t){return!1},e.prototype.onDragStart=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].onStart(t)}},e.prototype.onDragMove=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].onChange(t)}},e.prototype.onDragEnd=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].onEnd(t)}},e}(i.TouchTrigger);e.DragTrigger=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(0),o=function(){function t(t,e,n){this.change=new r.NumberChange,this.layer=t,this.axis=e,this.overScrollRatio=n,this.axis==i.Axis2D.X?this.scrollProp=this.layer.sX:this.axis==i.Axis2D.Y&&(this.scrollProp=this.layer.sY)}return t.prototype.start=function(t){var e=this.layer.getChildrenRect();this.contentSize=e.position.getValue(this.axis)+e.size.getValue(this.axis),this.containerSize=this.layer.getSize(this.axis).curVal(),this.scrollMax=Math.max(this.contentSize-this.containerSize,0),this.scrollOffset=this.scrollProp.curVal(),this.startScrollOffset=this.scrollOffset,this.startTouchOffset=this.scrollOffsetToTouchOffset(this.startScrollOffset),this.change.increment=0,this.scrollProp.startContinuousChange(this.change,t)},t.prototype.getScrollProp=function(){return this.scrollProp},t.prototype.getScrollOffset=function(){return this.scrollOffset},t.prototype.getScrollMax=function(){return this.scrollMax},t.prototype.getContentSize=function(){return this.contentSize},t.prototype.getContainerSize=function(){return this.containerSize},t.prototype.scrollBy=function(t){this.scrollOffset=this.touchOffsetToScrollOffset(this.startTouchOffset+t),this.applyScrollOffsetToChange()},t.prototype.scrollTo=function(t){this.scrollOffset=t,this.applyScrollOffsetToChange()},t.prototype.end=function(t){this.scrollProp.endContinuousChange(this.change,t)},t.prototype.applyScrollOffsetToChange=function(){this.change.increment=this.scrollOffset-this.startScrollOffset},t.prototype.scrollOffsetToTouchOffset=function(t){return t<0?t/this.overScrollRatio:t>this.scrollMax?this.scrollMax+(t-this.scrollMax)/this.overScrollRatio:t},t.prototype.touchOffsetToScrollOffset=function(t){return t<0?t*this.overScrollRatio:t>this.scrollMax?this.scrollMax+(t-this.scrollMax)*this.overScrollRatio:t},t}();e.PPScroller=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(1),a=n(43),u=function(){function t(){this.initialFocus=new s.Point(0,0),this.currentFocus=new s.Point(0,0)}return t.prototype.reset=function(t){this.time=t.lastActionTime,this.initialFocus.copyFrom(t.focus),this.initialSpan=t.getSpan(),this.updateValues(t)},t.prototype.updateValues=function(t){this.time=t.lastActionTime,this.currentFocus.copyFrom(t.focus),this.currentSpan=t.getSpan(),this.scaleRatio=this.currentSpan/this.initialSpan},t}();e.PPPinchEvent=u;var c;!function(t){t[t.NONE=0]="NONE",t[t.DETECTING_MOVE=1]="DETECTING_MOVE",t[t.IN_PROGRESS=2]="IN_PROGRESS"}(c||(c={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.responses=[],e.pinchEvent=new u,e.state=c.NONE,e}return r(e,t),e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN?(t.getTouchCount()>=2&&t.enableSpanTracking(),this.handleTouchCountChange(t)):t.lastAction==o.TouchEventAction.MOVE?this.handleTouchMove(t):t.lastAction==o.TouchEventAction.UP&&this.handleTouchCountChange(t)},e.prototype.reset=function(){this.state=c.NONE},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.PINCH},e.prototype.isOptimizable=function(){if(1==this.responses.length&&this.responses[0]instanceof a.PinchScaleResponse){var t=this.responses[0];return t.layer.id==this.layer.id&&t.useAutoPivot}return!1},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].applyScaleFactor(t)}},e.prototype.handleTouchCountChange=function(t){this.state==c.IN_PROGRESS&&this.end(),t.getTouchCount()>=2?(this.pinchEvent.reset(t),this.state=c.DETECTING_MOVE):this.state!=c.NONE&&(this.state=c.NONE)},e.prototype.handleTouchMove=function(t){this.state==c.DETECTING_MOVE?(this.state=c.IN_PROGRESS,this.start(),this.pinchEvent.updateValues(t),this.updateChange()):this.state==c.IN_PROGRESS&&(this.pinchEvent.updateValues(t),this.updateChange())},e.prototype.start=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onStart(this.pinchEvent)}},e.prototype.updateChange=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onChange(this.pinchEvent)}},e.prototype.end=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onEnd(this.pinchEvent)}},e}(i.TouchTrigger);e.PinchTrigger=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(1),a=n(6),u=n(3),c=n(0),h=n(62),p=function(){function t(){this.initialFocus=new s.Point(0,0),this.currentFocus=new s.Point(0,0)}return t}();e.PPRotateEvent=p;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.responses=[],e.outEvent=new p,e}return r(e,t),e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN?this.onTouchDown(t):t.lastAction==o.TouchEventAction.MOVE?this.onTouchMove(t):t.lastAction==o.TouchEventAction.UP&&this.onTouchUp(t)},e.prototype.reset=function(){this.touch1Id=null,this.touch2Id=null},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.ROTATE},e.prototype.isOptimizable=function(){if(1==this.responses.length&&this.responses[0]instanceof h.RotateRotateResponse){var t=this.responses[0];return t.layer.id==this.layer.id&&t.useAutoPivot}return!1},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].applyScaleFactor(t)}},e.prototype.onTouchDown=function(t){for(var e in t.pointerMap)if(a.LangUtils.isNil(this.touch1Id))this.touch1Id=e;else{if(!a.LangUtils.isNil(this.touch2Id))break;e!=this.touch1Id&&(this.touch2Id=e,this.updateVars(t,!0),this.start())}},e.prototype.onTouchMove=function(t){a.LangUtils.isNil(this.touch2Id)||(this.updateVars(t,!1),this.updateChange())},e.prototype.onTouchUp=function(t){a.LangUtils.isNil(this.touch1Id)||a.LangUtils.isNil(this.touch2Id)?a.LangUtils.isNil(this.touch1Id)||(this.touch1Id=null):t.pointerMap[this.touch1Id]&&t.pointerMap[this.touch2Id]||(this.end(),this.touch1Id=null,this.touch2Id=null)},e.prototype.start=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onStart(this.outEvent)}},e.prototype.updateChange=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onChange(this.outEvent)}},e.prototype.end=function(){for(var t=0,e=this.responses;t<e.length;t++){e[t].onEnd(this.outEvent)}},e.prototype.updateVars=function(t,e){var n=t.pointerMap[this.touch1Id],r=t.pointerMap[this.touch2Id];if(n&&r){var i=u.AngleUtils.getLineAngle(n,r);e&&(this.outEvent.initialAngle=i,this.outEvent.initialFocus=t.focus),this.outEvent.time=t.lastActionTime,this.outEvent.currentAngle=i,this.outEvent.currentFocus=t.focus,this.outEvent.angleChange=u.AngleUtils.getAngleDelta(this.outEvent.initialAngle,this.outEvent.currentAngle,c.RotateDirection.NEAR)}},e}(i.TouchTrigger);e.RotateTrigger=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),i=n(1),o=n(35),s=n(3),a=function(){function t(){}return t.computeContainingRect=function(t){if(0==t.r.curVal())return new r.PPRect(new i.Point(t.getLeft(),t.getTop()),new o.PPSize(t.w.curVal(),t.h.curVal()));for(var e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=t.r.curVal(),h=new i.Point(t.x.curVal(),t.y.curVal()),p=new i.Point(0,0),l=[t.getLeft(),t.getRight()],f=[t.getTop(),t.getBottom()],d=0,y=l;d<y.length;d++)for(var g=y[d],v=0,m=f;v<m.length;v++){var E=m[v];s.AngleUtils.rotate(new i.Point(g,E),c,h,p),e=Math.min(e,p.x),a=Math.max(a,p.x),n=Math.min(n,p.y),u=Math.max(u,p.y)}return new r.PPRect(new i.Point(e,n),new o.PPSize(a-e,u-n))},t.computePositionChangeForScale=function(t,e,n,r,i){var o=s.AngleUtils.toRadians(t.r.curVal());i.x=-(e.x-t.origin.x)*n*Math.cos(o)+(e.y-t.origin.y)*r*Math.sin(o),i.y=-(e.x-t.origin.x)*n*Math.sin(o)-(e.y-t.origin.y)*r*Math.cos(o)},t}();e.CoordUtils=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.once=function(t,e,n){var r=function(i){n(i),t.removeEventListener(e,r)};t.addEventListener(e,r)},t}();e.EventUtils=r},function(t,e,n){var r=n(44),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}}},function(t,e){var n="(?:[　-〿]|[぀-ゟ]|[゠-ヿ]|[＀-￯]|[一-龯]|[★-☆]|[←-↕]|※|[‐―‘’‥…“”∥≠]|[Α-ё]|[§¨±´×÷])+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+-./:]+","g"),e.BYTE=new RegExp("(?:(?![A-Z0-9 $%*+-./:]|(?:[　-〿]|[぀-ゟ]|[゠-ヿ]|[＀-￯]|[一-龯]|[★-☆]|[←-↕]|※|[‐―‘’‥…“”∥≠]|[Α-ё]|[§¨±´×÷])+).)+","g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+-./:]+","g");var r=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return i.test(t)},e.testAlphanumeric=function(t){return o.test(t)}},function(t,e,n){function r(t,n,r){for(var i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}function i(t,e){return h.getCharCountIndicator(t,e)+4}function o(t,e){var n=0;return t.forEach(function(t){var r=i(t.mode,e);n+=r+t.getBitsLength()}),n}function s(t,n){for(var r=1;r<=40;r++){if(o(t,r)<=e.getCapacity(r,n,h.MIXED))return r}}var a=n(14),u=n(75),c=n(44),h=n(13),p=n(45),l=a.getBCHDigit(7973);e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40},e.from=function(t,n){return e.isValid(t)?parseInt(t,10):n},e.getCapacity=function(t,n,r){if(!e.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=h.BYTE);var o=a.getSymbolTotalCodewords(t),s=u.getTotalCodewordsCount(t,n),c=8*(o-s);if(r===h.MIXED)return c;var p=c-i(r,t);switch(r){case h.NUMERIC:return Math.floor(p/10*3);case h.ALPHANUMERIC:return Math.floor(p/11*2);case h.KANJI:return Math.floor(p/13);case h.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(t,e){var n,i=c.from(e,c.M);if(p(t)){if(t.length>1)return s(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return r(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!e.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var n=t<<12;a.getBCHDigit(n)-l>=0;)n^=7973<<a.getBCHDigit(n)-l;return t<<12|n}},function(t,e){function n(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin;return{scale:t.scale||4,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.qrToImageData=function(t,e,n,r,i){for(var o=e.modules.size,s=e.modules.data,a=n*r,u=o*r+2*a,c=[i.light,i.dark],h=0;h<u;h++)for(var p=0;p<u;p++){var l=4*(h*u+p),f=i.light;if(h>=a&&p>=a&&h<u-a&&p<u-a){var d=Math.floor((h-a)/r),y=Math.floor((p-a)/r);f=c[s[d*o+y]]}t[l++]=f.r,t[l++]=f.g,t[l++]=f.b,t[l]=f.a}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(34),i=n.n(r),o=n(87),s=n(46),a=function(){function t(t,e,r,i){var a=document.createElement("div");(p=a.classList).add.apply(p,["Button","Button--primary","AppOpenButton"]);var u=document.createElement("a");u.classList.add("AppOpenButton__opener"),u.innerText="Open in ProtoPie Player";var c=n.i(s.b)(t,e,r);if("iOS"===r?u.addEventListener("click",function(){location.href=c,"iOS"===r&&setTimeout(function(){location.href=o.a},300)}):"Android"===r?u.href=c:u.addEventListener("click",function(){throw new Error("Your device is not available to use ProtoPie Player. Please try with iOS or Android Phone.")}),a.appendChild(u),i){var h=document.createElement("button");(l=h.classList).add.apply(l,["Button","Button--close","AppOpenButton__close"]),h.addEventListener("click",this.close.bind(this)),a.appendChild(h),a.classList.add("AppOpenButton--closable")}this.elem=a;var p,l}return t.prototype.getElement=function(){return this.elem},t.prototype.open=function(){var t=this.elem;i()({targets:t,bottom:"24px",opacity:1,duration:300,easing:"easeInQuad",begin:function(){t.style.display="inline-block"}})},t.prototype.close=function(){var t=this.elem;i()({targets:t,bottom:0,opacity:0,duration:300,easing:"easeInQuad",complete:function(){t.style.display="none"}})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(34),i=n.n(r),o=function(){function t(t){var e=this;this.changeHandlers=[];var n=t.querySelector("[data-dropup-button]"),r=t.querySelector("[data-dropup-label]");this.menu=t.querySelector("[data-dropup-menu]");var i=Array.prototype.slice.call(t.querySelectorAll("[data-dropup-item]")),o=i.filter(function(t){return void 0!==t.dataset.dropupSelected})[0];r.innerText=o.innerText,this.value=o.dataset.dropupItem,window.addEventListener("click",function(t){var r=t.target;n.contains(r)?e.opened()?e.close():e.open():e.close()}),i.forEach(function(t){t.addEventListener("click",function(){e.close(),r.innerText=t.innerHTML,e.value!==t.dataset.dropupItem&&(e.value=t.dataset.dropupItem,e.changeHandlers.forEach(function(t){return t(e.value)}))})})}return t.prototype.open=function(){var t=this.menu;i()({targets:t,bottom:"24px",opacity:1,duration:300,easing:"easeInOutCirc",begin:function(){t.style.display="block"}})},t.prototype.close=function(){var t=this.menu;i()({targets:t,bottom:0,opacity:0,duration:300,easing:"easeInOutCirc",complete:function(){t.style.display="none"}})},t.prototype.opened=function(){return"block"===this.menu.style.display},t.prototype.onChange=function(t){this.changeHandlers.push(t)},t.prototype.val=function(){return this.value},t}()},function(t,e,n){"use strict";function r(t){switch(t){case"FingerTrigger":case"RotateTrigger":case"FingerCount":return"Multi-Touch Interactions";case"TiltTrigger":return"Tilt Sensor";case"3DTouchTrigger":return"3D Touch";case"MultipleVideo":return"Multiple Videos";case"VideoSound":return"Video Sound";case"CompassTrigger":return"Compass Sensor";case"SoundTrigger":return"Sound Sensor";case"Mask":default:return t}}function i(t,e){return t.indexOf(e)>-1?t:(t.push(e),t)}n.d(e,"a",function(){return a});var o='<h4 class="Popup__header">This browser you\'re using may not support following features.</h4>',s='<p class="Popup__comment">Chrome and Firefox browsers work better on the desktop</p>',a=function(){function t(t,e){if(!e.length)return this;var n=t.dataset.hideComment;this.elem=t;var a='<ul class="Popup__list">'+e.map(r).reduce(i,[]).map(function(t){return"<li>"+t+"</li>"}).join("")+"</ul>";this.elem.innerHTML=n?o+a:o+a+s,this.appendCloseButton()}return t.prototype.open=function(){var t=this;this.elem&&(this.elem.style.display="block",setTimeout(function(){t.elem.classList.add("Popup--opened")},10))},t.prototype.close=function(){var t=this;this.elem&&(this.elem.classList.remove("Popup--opened"),setTimeout(function(){t.elem.style.display="none"},300))},t.prototype.toggle=function(){if(this.elem){this.elem.classList.contains("Popup--opened")?this.close():this.open()}},t.prototype.appendChild=function(t){this.elem&&this.elem.appendChild(t)},t.prototype.appendCloseButton=function(){var t=document.createElement("button");(e=t.classList).add.apply(e,["Popup__button","Button","Button--close"]),t.addEventListener("click",this.close.bind(this)),this.elem.appendChild(t);var e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(178),i=(n.n(r),n(34)),o=n.n(i),s=function(){function t(t){var e=this;this.img=document.createElement("img"),this.img.height=180,this.img.width=180,this.img.style.display="none",this.img.style.opacity="0",this.img.classList.add("Information__qrcode"),r.toDataURL(t,function(t,n){if(t)throw t;e.img.src=n})}return t.prototype.insertAfter=function(t){t.parentNode.insertBefore(this.img,t.nextSibling)},t.prototype.open=function(){var t=this.img;o()({targets:t,opacity:1,duration:300,easing:"easeInQuad",begin:function(){t.style.display="block"}})},t.prototype.close=function(){var t=this.img;o()({targets:t,opacity:0,duration:300,easing:"easeInQuad",complete:function(){t.style.display="none"}})},t.prototype.isOpened=function(){return"block"===this.img.style.display},t.prototype.toggle=function(){this.isOpened()?this.close():this.open()},t}()},function(t,e,n){(function(e,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){H=t}function s(t){Y=t}function a(){return void 0!==W?function(){W(c)}:u()}function u(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<z;t+=2){(0,J[t])(J[t+1]),J[t]=void 0,J[t+1]=void 0}z=0}function h(t,e){var n=arguments,r=this,i=new this.constructor(l);void 0===i[tt]&&L(i);var o=r._state;return o?function(){var t=n[o-1];Y(function(){return C(o,i,t,r._result)})}():A(r,i,t,e),i}function p(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(l);return _(n,t),n}function l(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function y(t){try{return t.then}catch(t){return it.error=t,it}}function g(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){Y(function(t){var r=!1,i=g(n,e,function(n){r||(r=!0,e!==n?_(t,n):w(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,b(t,i))},t)}function m(t,e){e._state===nt?w(t,e._result):e._state===rt?b(t,e._result):A(e,void 0,function(e){return _(t,e)},function(e){return b(t,e)})}function E(t,e,n){e.constructor===t.constructor&&n===h&&e.constructor.resolve===p?m(t,e):n===it?(b(t,it.error),it.error=null):void 0===n?w(t,e):i(n)?v(t,e,n):w(t,e)}function _(e,n){e===n?b(e,f()):t(n)?E(e,n,y(n)):w(e,n)}function T(t){t._onerror&&t._onerror(t._result),P(t)}function w(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&Y(P,t))}function b(t,e){t._state===et&&(t._state=rt,t._result=e,Y(T,t))}function A(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+nt]=n,i[o+rt]=r,0===o&&t._state&&Y(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?C(n,r,i,o):i(o);t._subscribers.length=0}}function R(){this.error=null}function O(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function C(t,e,n,r){var o=i(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=O(n,r),s===ot?(c=!0,a=s.error,s.error=null):u=!0,e===s)return void b(e,d())}else s=r,u=!0;e._state!==et||(o&&u?_(e,s):c?b(e,a):t===nt?w(e,s):t===rt&&b(e,s))}function S(t,e){try{e(function(e){_(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function x(){return st++}function L(t){t[tt]=st++,t._state=void 0,t._result=void 0,t._subscribers=[]}function I(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[tt]||L(this.promise),G(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):b(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function M(t){return new I(this,t).promise}function D(t){var e=this;return new e(G(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(l);return b(n,t),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[tt]=x(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&U(),this instanceof j?S(this,t):V())}function B(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=j}var k=void 0;k=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G=k,z=0,W=void 0,H=void 0,Y=function(t,e){J[z]=t,J[z+1]=e,2===(z+=2)&&(H?H(c):$())},X="undefined"!=typeof window?window:void 0,q=X||{},K=q.MutationObserver||q.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),$=void 0;$=Q?function(){return function(){return e.nextTick(c)}}():K?function(){var t=0,e=new K(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Z?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===X?function(){try{var t=n(198);return W=t.runOnLoop||t.runOnContext,a()}catch(t){return u()}}():u();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,it=new R,ot=new R,st=0;return I.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},I.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===p){var i=y(t);if(i===h&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===j){var o=new n(l);E(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},I.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?b(r,n):this._result[e]=n),0===this._remaining&&w(r,this._result)},I.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},j.all=M,j.race=D,j.resolve=p,j.reject=F,j._setScheduler=o,j._setAsap=s,j._asap=Y,j.prototype={constructor:j,then:h,catch:function(t){return this.then(null,t)}},j.polyfill=B,j.Promise=j,j})}).call(e,n(90),n(196))},function(t,e){},function(t,e,n){n(197),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(122),i=n(107),o=n(104),s=n(163),a=n(133),u=n(36),c=n(8),h=n(32),p=function(){function t(t){this.frameCount=0,this.frameDuration=0,this.clock=new o.PPClock,this.pieReader=new r.PieReader,this.sceneHistory=[],this.sceneRenderers={},this.stopped=!0,this.pieFrameCount=0,this.wrapElement=t,this.touchHandler=new i.SceneTouchHandler(this.wrapElement,this.clock),this.boundStep=this.doFrame.bind(this),this.systemInfo=u.SystemInfo.getInstance(),this.wrapElement.style.webkitUserSelect="none"}return t.prototype.run=function(t,e,n,r){void 0===n&&(n=null),void 0===r&&(r=1),this.clearAll(),this.sceneHistory.length=0;var i=new h.PieReadResult;this.runningPie=this.pieReader.readPie(t,i),this.runningPie.applyScaleFactor(r);for(var o=0,s=this.runningPie.getAllScenes();o<s.length;o++){s[o].reset()}return this.fitWrapElementSize(this.runningPie.deviceInfo,r),this.initSceneRenderers(e),this.startInitialScene(n),i},t.prototype.updateCanvasPosition=function(){this.touchHandler.updateCanvasPosition()},t.prototype.stop=function(){this.stopped=!0,this.clearAll()},t.prototype.pause=function(){this.stopped=!0,this.clock.pause(),this.runningSceneRenderer&&this.runningSceneRenderer.updateClockScale(0)},t.prototype.resume=function(){this.stopped=!1,this.clock.resume(),this.runningSceneRenderer&&this.runningSceneRenderer.updateClockScale(this.clock.scale),window.requestAnimationFrame(this.boundStep)},t.prototype.setClockScale=function(t){this.clock.scale=t,this.runningSceneRenderer&&this.runningSceneRenderer.updateClockScale(t)},Object.defineProperty(t.prototype,"onStart",{get:function(){return this._onStart},set:function(t){this._onStart=t,this.runningSceneRenderer&&this.runningSceneRenderer.isReady()&&this._onStart(this.runningSceneRenderer.getResourceLoadingErrorCount())},enumerable:!0,configurable:!0}),t.prototype.handleReceivedMessage=function(t,e){this.runningScene&&this.runningScene.runReceiveTriggers(this.clock.getNow(),t,e)},t.prototype.send=function(t,e){this.onSend&&this.onSend(t,e)},t.prototype.jump=function(t,e,n){var r;if("!BACK!"==t){if(0==this.sceneHistory.length)return void c.Logger.w("Ignoring jump back. History is empty.");var i=this.sceneHistory.pop();c.Logger.d("Jump back to "+i),r=this.runningPie.getSceneById(i)}else{if(t==this.runningScene.id)return void c.Logger.w("Ignoring jump to self");if(c.Logger.d("Jumping to "+t),!(r=this.runningPie.getSceneById(t)))return void c.Logger.w("Ignoring jump to invalid sceneId: "+t);this.sceneHistory.push(this.runningScene.id)}if(r){n&&r.reset(),this.runningScene.taskRunner=null;var o=this.runningSceneRenderer,a=this.sceneRenderers[r.id],u=s.SceneTransitionFactory.fromName(e,o,a,this.runningScene,r);u?this.startTransition(u):(a.attachTo(this.wrapElement),o.detachFromParent(),this.startScene(r,a))}},t.prototype.setLogLevel=function(t){c.Logger.setLogLevel(t)},t.prototype.clearAll=function(){for(var t in this.sceneRenderers)this.sceneRenderers[t].detachFromParent(),this.sceneRenderers[t].cleanUpResources();this.runningPie=null,this.sceneRenderers={},this.runningScene=null,this.runningSceneRenderer=null,this.runningTransition=null},t.prototype.initSceneRenderers=function(t){for(var e=0,n=this.runningPie.getAllScenes();e<n.length;e++){var r=n[e];this.sceneRenderers[r.id]=new a.SceneRenderer(r,t,this.clock)}},t.prototype.startInitialScene=function(t){var e=this,n=this.runningPie.getInitialScene(t),r=this.sceneRenderers[n.id];r.attachTo(this.wrapElement),r.setOnReady(function(t){e.stopped=!1,e.startScene(n,r),window.requestAnimationFrame(e.boundStep),e._onStart&&e._onStart(t)})},t.prototype.fitWrapElementSize=function(t,e){this.wrapElement.style.width=t.width*e+"px",this.wrapElement.style.height=t.height*e+"px",this.updateCanvasPosition()},t.prototype.doFrame=function(t){this.frameCount++;var e=Date.now(),n=this.clock.updateNow();this.runningTransition?(this.runningTransition.progress(n),this.runningTransition.isEnded(n)&&this.endCurrentTransition(n)):this.runningScene&&(this.pieFrameCount++,2==this.pieFrameCount&&this.onFirstFrame&&this.onFirstFrame(),this.runningScene.progress(n)),this.frameDuration+=Date.now()-e,this.stopped||window.requestAnimationFrame(this.boundStep)},t.prototype.startScene=function(t,e){this.runningScene=t,this.runningSceneRenderer=e,this.runningSceneRenderer.updateClockScale(this.clock.scale),this.touchHandler.scene=t,this.pieFrameCount=0,this.clock.updateNow(),t.taskRunner=this,t.start(this.clock.getNow())},t.prototype.startTransition=function(t){t.shouldAttachedToFront()?t.nextSceneRenderer.attachTo(this.wrapElement):(t.prevSceneRenderer.detachFromParent(),t.nextSceneRenderer.attachTo(this.wrapElement),t.prevSceneRenderer.attachTo(this.wrapElement)),t.start(this.clock.getNow()),this.runningTransition=t},t.prototype.endCurrentTransition=function(t){this.runningTransition&&(this.runningTransition.end(t),this.runningTransition.prevSceneRenderer.detachFromParent(),this.startScene(this.runningTransition.nextScene,this.runningTransition.nextSceneRenderer),this.runningTransition=null)},t}();e.default=p},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="https://itunes.apple.com/us/app/protopie-player-code-free-prototyping-tool/id1015837511?mt=8"},function(t,e,n){"use strict";function r(t,e,n){return new h.Promise(function(r,o){if("pending"!==n)return r();var s=0,a=setInterval(function(){s++,fetch("/status/"+t+"/"+e).then(i).then(function(t){"active"===t?(clearInterval(a),r()):"pending"===t&&s>=T&&(clearInterval(a),o(new Error("Pie uploading is delayed.. Please reload whole page.")))})},_)})}function i(t){if(200!==t.status)throw new Error("Server is not available.");return t.text()}function o(t){if(200!==t.status)throw new Error("Could not access to Pie data.");return t.json()}function s(t,e,n,r){var i=(t.clientWidth-n)/e.clientWidth,o=(t.clientHeight-n)/e.clientHeight,s=(u(e),Math.min.apply(Math,[i,o,r])),a="viewer"===e.id;i<1&&s===i&&a?e.classList.add("Viewer--small"):e.classList.remove("Viewer--small"),e.style.transform="scale("+s+")",e.style.webkitTransform="scale("+s+")"}function a(){return window.location.protocol+"//"+window.location.host+window.location.pathname}function u(t){var e=/scale\((.+)\)/.exec(t.style.transform||t.style.webkitTransform);return e?parseFloat(e[1]):1}function c(t){switch(t){case"Galaxy Note5":case"Galaxy S7":case"Galaxy S8":case"Google Pixel":case"iPhone 7 Plus":case"iPhone 7":case"iPhone SE":case"Nexus 6P":return t;case"iPhone 5":return"iPhone SE";case"iPhone 6s":return"iPhone 7";case"iPhone 6+":return"iPhone 7 Plus";case"Galaxy S6":return"Galaxy S7";default:return"custom"}}Object.defineProperty(e,"__esModule",{value:!0});var h=n(83),p=(n.n(h),n(85)),l=(n.n(p),n(86)),f=n.n(l),d=n(80),y=n(81),g=n(84),v=(n.n(g),n(79)),m=n(46),E=n(82);n.i(h.polyfill)();n.i(m.a)(function(){var t=document.getElementById("viewer"),e=document.getElementById("viewerWrapper"),n=t.dataset,i=n.baseurl,u=n.revision,h=n.sharedKey,p=n.osName,l=!!t.dataset.mobileView,g=new f.a(t),m=function(t){return i+"/resources/"+t},_=new E.a(a()),T=document.getElementById("overlay"),w=T.dataset.pieStatus;if(r(h,u,w).then(function(){return fetch(i+"/models/model-"+u+".json")}).then(o).then(function(n){var r=n.cursorType,i=n.device,o=(i.height,i.width,i.name),a=l?0:110,f=l?t:t.parentElement,E=l?10:1,w=g.run(n,{getImageUrl:m}).unsupportedFeatures,b=(new v.a(h,u,p,!w.length),new y.a(document.getElementById("popup"),w));if(r&&"desktop"===r&&t.classList.add("Viewer--cursorDesktop"),!l){var A=t.parentElement,P=c(o);A.classList.add("ViewerMock--"+P.replace(/ /g,""));var R=document.getElementById("helpButton");w.length?R.addEventListener("click",function(){return b.toggle()}):R.style.display="none";var O=document.getElementById("reloadButton");O.addEventListener("click",function(){g.run(n,{getImageUrl:m}),O.blur()});new d.a(document.getElementById("speedDropup")).onChange(function(t){g.setClockScale(parseFloat(t)),g.run(n,{getImageUrl:m})}),_.insertAfter(document.getElementById("buttonGroup"));var C=document.getElementById("qrcodeOpener");C&&C.addEventListener("click",function(){return _.toggle()})}window.addEventListener("resize",function(){s(e,f,a,E),g.updateCanvasPosition()}),g.onStart=function(){T.style.opacity="0",setTimeout(function(){T.style.display="none",setTimeout(function(){w.length&&b.open()},300)},300),s(e,f,a,E),g.updateCanvasPosition()}}).catch(function(t){T.style.display="none",alert(t.message)}),!l){var b=document.getElementById("moreButton");b&&b.addEventListener("click",function(){document.getElementById("description").innerHTML=b.dataset.fullText});var A=document.getElementById("downloader");A.addEventListener("click",function(){A.classList.add("Button--loading"),A.disabled=!0,fetch(A.dataset.downloadUrl).then(function(t){if(200!==t.status)throw new Error("Pie is not downloadable.");return t.text()}).then(function(t){location.replace(t),A.classList.remove("Button--loading"),A.disabled=!1}).catch(function(t){A.style.display="none",alert(t.message)})});Array.prototype.slice.call(document.querySelectorAll("[data-shareurl]")).forEach(function(t){t.addEventListener("click",function(){window.open(t.dataset.shareurl+a(),"Share pie","toolbar=0,location=0,menubar=0,height=400,width=600")})}),Array.prototype.slice.call(document.querySelectorAll("[data-event]")).forEach(function(t){t.addEventListener("click",function(){ga("send","event",t.dataset)})})}});var _=3e3,T=100},function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,e,n){var i={},o={};o[e]=0;var s=r.PriorityQueue.make();s.push(e,0);for(var a,u,c,h,p,l,f,d;!s.empty();){a=s.pop(),u=a.value,h=a.cost,p=t[u]||{};for(c in p)p.hasOwnProperty(c)&&(l=p[c],f=h+l,d=o[c],(void 0===o[c]||d>f)&&(o[c]=f,s.push(c,f),i[c]=u))}if(void 0!==n&&void 0===o[n]){var y=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var i=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,i={};t=t||{};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&f&&(y=!1,f.length?d=f.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(f=d,d=[];++g<e;)f&&f[g].run();g=-1,e=d.length}f=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,p,l=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var f,d=[],y=!1,g=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.prependListener=c,l.prependOnceListener=c,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Number.MAX_VALUE,i=function(){function t(t,e,n,i){this.task=t,this.interval=n,i>0?(this.nextRepeatTime=e,this.remainedCount=i-1):(this.nextRepeatTime=r,this.remainedCount=0)}return t.prototype.progress=function(t){if(t>=this.nextRepeatTime){var e=!this.task.doNotExpire&&t>this.nextRepeatTime+100;return this.scheduleNext(),e?null:this.task}return null},t.prototype.isEnded=function(){return 0==this.remainedCount&&this.nextRepeatTime==r},t.prototype.scheduleNext=function(){this.remainedCount>0?(this.remainedCount--,this.nextRepeatTime+=this.interval):this.nextRepeatTime=r},t}(),o=function(){function t(t,e){this.task=t,this.time=e}return t}(),s=function(){function t(t){this.scheduledTasks=[],this.repeatingTasks=[],this.runner=t}return t.prototype.progress=function(t){for(var e=0;e<this.repeatingTasks.length;e++){var n=this.repeatingTasks[e],r=n.progress(t);null!=r&&this.run(r,t),n.isEnded()&&(this.repeatingTasks.splice(e,1),e--)}for(var e=0;e<this.scheduledTasks.length;e++){var i=this.scheduledTasks[e];i.time<=t&&((i.task.doNotExpire||t<=i.time+100)&&this.run(i.task,t),this.scheduledTasks.splice(e,1),e--)}},t.prototype.clearAll=function(){this.scheduledTasks.length=0,this.repeatingTasks.length=0},t.prototype.scheduleTask=function(t,e,n){if(void 0===n&&(n=null),n){var r=new i(t,e,n.interval,n.repeatCount);this.repeatingTasks.push(r)}else this.scheduledTasks.push(new o(t,e))},t.prototype.removeTask=function(t){for(var e=0;e<this.scheduledTasks.length;e++)if(this.scheduledTasks[e].task===t){this.scheduledTasks.splice(e,1);break}},t.prototype.run=function(t,e){t.run(e,this.runner)},t}();e.PPScheduler=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.expressions=[]}return t.prototype.addExpr=function(t){this.expressions.push(t)},t.prototype.eval=function(){if(0==this.expressions.length)return!1;for(var t=0,e=this.expressions;t<e.length;t++){if(!e[t].eval())return!1}return!0},t.prototype.applyScaleFactor=function(t){for(var e=0,n=this.expressions;e<n.length;e++){n[e].applyScaleFactor(t)}},t}();e.BooleanAndComposition=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e,n){this.operator=t,this.left=e,this.right=n}return t.prototype.eval=function(){switch(this.operator){case r.ComparisonOperator.GT:return this.left.eval()>this.right.eval();case r.ComparisonOperator.GTE:return this.left.eval()>=this.right.eval();case r.ComparisonOperator.LT:return this.left.eval()<this.right.eval();case r.ComparisonOperator.LTE:return this.left.eval()<=this.right.eval();case r.ComparisonOperator.EQ:return Math.abs(this.left.eval()-this.right.eval())<=.01;case r.ComparisonOperator.NEQ:return Math.abs(this.left.eval()-this.right.eval())>.01;default:throw new Error("Unsupported ComparisonOperator: "+this.operator)}},t.prototype.applyScaleFactor=function(t){this.left.isAppliedByScaleFactor()&&!this.right.isAppliedByScaleFactor()?this.right.applyScaleFactor(t):!this.left.isAppliedByScaleFactor()&&this.right.isAppliedByScaleFactor()&&this.left.applyScaleFactor(t)},t}();e.ComparisonExpr=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=function(){function t(t){this.value=t}return t.prototype.eval=function(){return this.value},t.prototype.isAppliedByScaleFactor=function(){return!1},t.prototype.applyScaleFactor=function(t){this.value*=t},t}();e.NumberConstantExpr=i;var o=function(){function t(t){this.scaleFactor=1,this.property=t}return t.prototype.eval=function(){return this.property.curVal()*this.scaleFactor},t.prototype.isAppliedByScaleFactor=function(){return this.property.unit==r.Unit.PIXEL},t.prototype.applyScaleFactor=function(t){this.scaleFactor*=t},t}();e.NumberPropertyExpr=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.fromValue=t}return t.prototype.applyScaleFactor=function(t){this.fromValue*=t},t.prototype.isInRange=function(t){return t>=this.fromValue},t}();e.GteNumberRange=r;var i=function(){function t(t){this.toValue=t}return t.prototype.applyScaleFactor=function(t){this.toValue*=t},t.prototype.isInRange=function(t){return t<=this.toValue},t}();e.LteNumberRange=i;var o=function(){function t(t,e){this.fromValue=t,this.toValue=e}return t.prototype.applyScaleFactor=function(t){this.toValue*=t,this.fromValue*=t},t.prototype.isInRange=function(t){return t>=this.fromValue&&t<=this.toValue},t}();e.BetweenNumberRange=o;var s=function(){function t(t,e){this.fromValue=t,this.toValue=e}return t.prototype.applyScaleFactor=function(t){this.toValue*=t,this.fromValue*=t},t.prototype.isInRange=function(t){return t<=this.fromValue||t>=this.toValue},t}();e.NotBetweenNumberRange=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.type=t}return t.prototype.computeValueProgress=function(e){return this.type==t.EASE_IN?this.easeInBounce(e):this.type==t.EASE_IN_OUT?this.easeInOutBounce(e):this.easeOutBounce(e)},t.prototype.easeInOutBounce=function(t){return t<.5?.5*this.easeInBounce(2*t):.5*this.easeOutBounce(2*t-1)+.5},t.prototype.easeInBounce=function(t){return 1-this.easeOutBounce(1-t)},t.prototype.easeOutBounce=function(t){var e,n;return t<1/2.75?(e=t,n=0):t<2/2.75?(e=t-1.5/2.75,n=.75):t<2.5/2.75?(e=t-2.25/2.75,n=.9375):(e=t-2.625/2.75,n=.984375),7.5625*e*e+n},t.EASE_IN="EASE_IN",t.EASE_OUT="EASE_OUT",t.EASE_IN_OUT="EASE_IN_OUT",t}();e.BounceEasingFunc=r},function(t,e,n){"use strict";function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function s(t,e,n){return((r(e,n)*t+i(e,n))*t+o(e))*t}function a(t,e,n){return 3*r(e,n)*t*t+2*i(e,n)*t+o(e)}function u(t,e,n,r,i){var o,a,u=0;do{a=e+(n-e)/2,o=s(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>f&&++u<d);return a}function c(t,e,n,r){for(var i=0;i<p;++i){var o=a(e,n,r);if(0===o)return e;e-=(s(e,n,r)-t)/o}return e}function h(t,e,n,r){function i(e){for(var r=0,i=1,s=y-1;i!==s&&o[i]<=e;++i)r+=g;--i;var h=(e-o[i])/(o[i+1]-o[i]),p=r+h*g,f=a(p,t,n);return f>=l?c(e,p,t,n):0===f?p:u(e,r,r+g,t,n)}if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var o=v?new Float32Array(y):new Array(y);if(t!==e||n!==r)for(var h=0;h<y;++h)o[h]=s(h*g,t,n);return function(o){return t===e&&n===r?o:0===o?0:1===o?1:s(i(o),e,r)}}Object.defineProperty(e,"__esModule",{value:!0});var p=4,l=.001,f=1e-7,d=10,y=11,g=1/(y-1),v="function"==typeof Float32Array,m=function(){function t(t,e,n,r){this.bezierEasing=h(t,e,n,r)}return t.prototype.computeValueProgress=function(t){return this.bezierEasing(t)},t}();e.CubicBezierEasingFunc=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e){this.type=e,e==t.EASE_IN_OUT?this.p=.45:this.p=.3,this.s=this.p/(2*Math.PI)*Math.asin(1)}return t.prototype.computeValueProgress=function(e){return e<=0?0:e>=1?1:this.type==t.EASE_IN?-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-.075)*Math.PI/this.p):this.type==t.EASE_IN_OUT?e<.5?Math.pow(2,10*(2*e-1))*Math.sin((2*e-1-this.s)*(2*Math.PI)/this.p)*-.5:Math.pow(2,-10*(2*e-1))*Math.sin((2*e-1-this.s)*(2*Math.PI)/this.p)*.5+1:Math.pow(2,-10*e)*Math.sin(2*(1*e-.075)*Math.PI/this.p)+1},t.EASE_IN="EASE_IN",t.EASE_OUT="EASE_OUT",t.EASE_IN_OUT="EASE_IN_OUT",t}();e.ElasticEasingFunc=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),o=n(100),s=function(){function t(t,e){this.springRK4=new o.SpringRK4(t,e)}return t.prototype.getNext=function(t){return this.springRK4.next(t/1e3)},t.prototype.isFinished=function(){return this.springRK4.isFinished()},t}(),a=function(t){function e(e,n,r,i){return t.call(this,new s(e,n),r,i)||this}return r(e,t),e}(i.PopulatingEasingFunc);e.SpringEasingFunc=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.reset=function(t,e){this.x=t,this.v=e,this.dx=0,this.dv=0},t}(),i=function(){function t(t,e){this.state=new r,this.a=new r,this.b=new r,this.c=new r,this.d=new r,this.tension=t,this.friction=e,this.value=0,this.velocity=0,this.finished=!1}return t.prototype.next=function(t){return this.finished?1:(this.state.reset(this.value-1,this.velocity),this.integrateState(this.state,t),this.finished=Math.abs(this.state.x)<.01&&Math.abs(this.state.v)<.01,this.value=1+this.state.x,this.velocity=this.state.v,this.value)},t.prototype.isFinished=function(){return this.finished},t.prototype.integrateState=function(t,e){this.evaluateState(t,this.a),this.evaluateStateWithDerivative(t,.5*e,this.a,this.b),this.evaluateStateWithDerivative(t,.5*e,this.b,this.c),this.evaluateStateWithDerivative(t,e,this.c,this.d);var n=1/6*(this.a.dx+2*(this.b.dx+this.c.dx)+this.d.dx),r=1/6*(this.a.dv+2*(this.b.dv+this.c.dv)+this.d.dv);t.x=t.x+n*e,t.v=t.v+r*e},t.prototype.evaluateState=function(t,e){e.reset(0,0),e.dx=t.v,e.dv=this.accelerationForState(t.x,t.v)},t.prototype.evaluateStateWithDerivative=function(t,e,n,r){var i=t.x+n.dx*e,o=t.v+n.dv*e;r.reset(0,0),r.dx=o,r.dv=this.accelerationForState(i,o)},t.prototype.accelerationForState=function(t,e){return-this.tension*t-this.friction*e},t}();e.SpringRK4=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.value=0,this.k=e,this.speed=t}return t.prototype.integrate=function(t){this.finished||(this.value+=this.speed*t,this.speed=Math.max(this.speed-this.value*this.k*t,0),0==this.speed&&(this.finished=!0))},t.prototype.getValue=function(){return this.value},t.prototype.getSpeed=function(){return this.speed},t.prototype.isFinished=function(){return this.finished},t}();e.TensionMovement=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(48),o=n(101),s=n(50),a=n(36),u=n(51),c=50,h=r.EasingFuncFactory.fromName(r.EasingFuncFactory.EASE_OUT_CUBIC),p=1/120,l=450,f=function(){function t(){}return t.prototype.getAnimation=function(t,e,n,r,i){return Math.abs(n)>=c||e<0||e>i?new u.SamplerAnimation(t,new d(e,n,i).sampler):null},t}();e.BounceScrollEndEffect=f;var d=function(){function t(t,e,n){var r=l/a.SystemInfo.getInstance().getPpi();this.maxValue=n*r,this.value=t*r,this.velocity=e*r,this.sampler=new s.Sampler(0,p,this.value),t<0||t>n?this.backToBoundary():Math.abs(this.velocity)>=c&&(this.speedDownWithFriction(),0!=this.velocity&&(this.speedDownWithTension(),this.backToBoundary())),this.sampler.update(function(t){return t/r})}return t.prototype.speedDownWithFriction=function(){for(var t=new i.FrictionMovement(this.value,this.velocity,4e3);!(t.isFinished()||(t.integrate(p),this.value=t.getValue(),this.velocity=t.getVelocity(),this.sampler.addSample(this.value),this.velocity<0&&this.value<0||this.velocity>0&&this.value>this.maxValue)););},t.prototype.speedDownWithTension=function(){for(var t=this.value,e=t<0?-1:1,n=new o.TensionMovement(e*this.velocity,600);!n.isFinished();)n.integrate(p),this.value=t+n.getValue()*e,this.sampler.addSample(this.value)},t.prototype.backToBoundary=function(){for(var t=this.value,e=t<0?0:this.maxValue,n=e-t,r=0;r<=.4;r+=p){var i=r/.4;this.sampler.addSample(t+n*h.computeValueProgress(i))}},t}()},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),o=n(50),s=n(48),a=n(36),u=function(){function t(){}return t.prototype.getAnimation=function(t,e,n,r,i){return Math.abs(n)>=50&&e>r&&e<i?new c(t,e,n,r,i):null},t}();e.NoBounceScrollEndEffect=u;var c=function(t){function e(n,r,i,o,s){return t.call(this,n,e.populate(r,i,o,s))||this}return r(e,t),e.populate=function(t,e,n,r){var i=450/a.SystemInfo.getInstance().getPpi(),u=new o.Sampler(0,1/120,t),c=new s.FrictionMovement(t*i,e*i,4e3);for(c.setMinValue(n*i),c.setMaxValue(r*i);!c.isFinished();)c.integrate(1/120),u.addSample(c.getValue());return u.update(function(t){return t/i}),u},e}(i.SamplerAnimation)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.scale=1,this.paused=!1,this.now=0,this.lastUpdateTime=Date.now()}return t.prototype.pause=function(){this.paused=!0},t.prototype.resume=function(){this.lastUpdateTime=Date.now(),this.paused=!1},t.prototype.updateNow=function(){if(!this.paused){var t=Date.now();this.now+=Math.round(this.scale*(t-this.lastUpdateTime)),this.lastUpdateTime=t}return this.now},t.prototype.getNow=function(){return this.now},t.prototype.isPaused=function(){return this.paused},t}();e.PPClock=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.layer=t,this.triggers=e}return t.prototype.onMouseOver=function(t){for(var e=!1,n=0,r=this.triggers;n<r.length;n++){r[n].onMouseOver(t)&&(e=!0)}return e},t.prototype.onMouseOut=function(t){for(var e=0,n=this.triggers;e<n.length;e++){n[e].onMouseOut(t)}},t}();e.LayerMouseEventHandler=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.time=t}return t}();e.PPMouseEvent=r},function(t,e,n){"use strict";function r(t,e){return t==i.TouchEventUsageType.MOVE_VERTICAL?e==i.TouchEventUsageType.MOVE_HORIZONTAL:t==i.TouchEventUsageType.MOVE_HORIZONTAL?e==i.TouchEventUsageType.MOVE_VERTICAL:t==i.TouchEventUsageType.LONG_PRESS&&e==i.TouchEventUsageType.TAP}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(8),s=function(){function t(t,e){this.canceled=!1,this.layer=t,this.trigger=e}return t}(),a=function(){function t(t,e){this.element=t,this.clock=e,this.boundOnTouchDown=this.onTouchDown.bind(this),this.boundOnTouchUp=this.onTouchUp.bind(this),this.boundOnTouchMove=this.onTouchMove.bind(this),this.updateCanvasPosition(),t.addEventListener("mousedown",this.boundOnTouchDown),t.addEventListener("touchstart",this.boundOnTouchDown)}return t.prototype.onTouchEventUsed=function(t,e){this.cancelConflictingTriggers(t,e)},t.prototype.updateCanvasPosition=function(){this.canvasBoundingRect=this.element.getBoundingClientRect(),o.Logger.i("Updating canvas rect",this.canvasBoundingRect)},t.prototype.onTouchDown=function(t){if(this.currentEvent||(this.currentEvent=new i.PPTouchEvent(this)),t.changedTouches)for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=this.convertCoordinate(n.pageX,n.pageY);this.currentEvent.addPointer(n.identifier,r.x,r.y,this.clock.getNow())}else{var r=this.convertCoordinate(t.pageX,t.pageY);this.currentEvent.addPointer("MOUSE",r.x,r.y,this.clock.getNow())}return this.touchTargets=this.buildTouchTargets(),null!=this.touchTargets&&this.sendEventToTargets(this.currentEvent),document.addEventListener("mousemove",this.boundOnTouchMove),document.addEventListener("mouseup",this.boundOnTouchUp),document.addEventListener("touchmove",this.boundOnTouchMove),document.addEventListener("touchend",this.boundOnTouchUp),t.preventDefault(),!0},t.prototype.onTouchMove=function(t){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],r=this.convertCoordinate(n.pageX,n.pageY);this.currentEvent.addMovement(n.identifier,r.x,r.y,this.clock.getNow())}else{var r=this.convertCoordinate(t.pageX,t.pageY);this.currentEvent.addMovement("MOUSE",r.x,r.y,this.clock.getNow())}null!=this.touchTargets&&this.sendEventToTargets(this.currentEvent)},t.prototype.onTouchUp=function(t){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e];this.currentEvent.removePointer(n.identifier,this.clock.getNow())}else this.currentEvent.removePointer("MOUSE",this.clock.getNow());null!=this.touchTargets&&this.sendEventToTargets(this.currentEvent),0==this.currentEvent.getTouchCount()&&(this.currentEvent=null,document.removeEventListener("mousemove",this.boundOnTouchMove),document.removeEventListener("mouseup",this.boundOnTouchUp),document.removeEventListener("touchmove",this.boundOnTouchMove),document.removeEventListener("touchend",this.boundOnTouchUp))},t.prototype.buildTouchTargets=function(){if(this.scene&&this.currentEvent){var t=[];this.scene.rootLayer.findLayersAt(this.currentEvent.focus,t);for(var e=[],n=0,r=t;n<r.length;n++)for(var i=r[n],o=0,a=i.touchTriggers;o<a.length;o++){var u=a[o];this.isHidden(u,e)||e.push(new s(i,u))}return e}},t.prototype.sendEventToTargets=function(t){for(var e=0,n=this.touchTargets;e<n.length;e++){var r=n[e];r.canceled||r.trigger.onTouchEvent(t)}},t.prototype.isHidden=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.trigger!==t&&i.layer!=t.layer&&t.getTouchEventUsageType()===i.trigger.getTouchEventUsageType())return!0}return!1},t.prototype.cancelConflictingTriggers=function(t,e){for(var n=0,i=this.touchTargets;n<i.length;n++){var s=i[n],a=s.trigger;s.trigger.getId()!=e&&(r(t,a.getTouchEventUsageType())&&(o.Logger.i(a.constructor.name+" canceled by conflicting trigger "+e+"/"+t),a.reset(),s.canceled=!0))}},t.prototype.convertCoordinate=function(t,e){var n=-this.canvasBoundingRect.left,r=-this.canvasBoundingRect.top;return{x:(t+n)*(this.scene.rootLayer.w.curVal()/this.canvasBoundingRect.width),y:(e+r)*(this.scene.rootLayer.h.curVal()/this.canvasBoundingRect.height)}},t}();e.SceneTouchHandler=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t,e){this.lastPoint=new r.Point(t.x,t.y),this.lastTime=e,this.velocity=new r.Point(0,0)}return t.prototype.update=function(t,e){if(e>this.lastTime){var n=.001*(e-this.lastTime),r=(t.x-this.lastPoint.x)/n,i=(t.y-this.lastPoint.y)/n,o=1-Math.exp(-n/.1);this.velocity.x=o*r+(1-o)*this.velocity.x,this.velocity.y=o*i+(1-o)*this.velocity.y}this.lastPoint.copyFrom(t),this.lastTime=e},t.prototype.getVelocity=function(){return this.velocity},t}();e.VelocityTracker=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.extendAbove=0,this.extendBelow=0,this.extendLeft=0,this.extendRight=0}return t.prototype.isPointIncludedIn=function(t,e,n){return t.x>=-this.extendLeft&&t.x<=e+this.extendRight&&t.y>=-this.extendAbove&&t.y<=n+this.extendBelow},t.prototype.applyScaleFactor=function(t){this.extendAbove*=t,this.extendBelow*=t,this.extendLeft*=t,this.extendRight*=t},t.prototype.hasExtension=function(){return this.extendAbove>0||this.extendBelow>0||this.extendLeft>0||this.extendRight>0},t}();e.HitArea=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.duration=null,this.looping=!1,this.playTime=null,this.pauseTime=null,this.duration=t}return t.prototype.reset=function(){this.looping=!1,this.playTime=null,this.pauseTime=null},t.prototype.play=function(t,e){null===this.playTime?(this.playTime=t,this.looping=e):null!==this.pauseTime?(this.playTime=this.playTime+(t-this.pauseTime),this.pauseTime=null):e!=this.looping&&(e?this.isPlaying(t)||(this.playTime=t):this.playTime=t-this.getPlayPosition(t),this.looping=e)},t.prototype.pause=function(t){this.isPlaying(t)&&(this.pauseTime=t)},t.prototype.seek=function(t,e){this.isPlaying(t)?this.playTime+=Math.min(Math.max(e,0),this.duration)-this.getPlayPosition(t):(this.playTime=t-e,this.pauseTime=t)},t.prototype.isLooping=function(){return this.looping},t.prototype.isPlaying=function(t){return null!=this.playTime&&(!(this.duration<=0)&&(!(null!=this.pauseTime&&t>=this.pauseTime)&&(this.looping?t>=this.playTime:t>=this.playTime&&t<this.playTime+this.duration)))},t.prototype.getPlayPosition=function(t){return null==this.playTime?0:this.duration<=0?0:null!=this.pauseTime&&t>this.pauseTime?this.getPlayPosition(this.pauseTime):this.looping?t<this.playTime?0:(t-this.playTime)%this.duration:t<this.playTime?0:t>this.playTime+this.duration?this.duration:t-this.playTime},t}();e.PPPlayState=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42),i=n(41),o=function(){function t(t,e){this.incrementBase=0,this.endedIncrement=0,this.runningIncrement=0,this.repeatingAnimations=[],this.scheduledAnimations=[],this.runningIncrementalAnimations=[],this.value=t,this.normalizer=e,this.incrementBase=t}return t.prototype.clearAll=function(t){this.value=t,this.incrementBase=t,this.endedIncrement=0,this.runningIncrement=0,this.scheduledAnimations.length=0,this.runningSetAnimation=null,this.runningIncrementalAnimations.length=0,this.repeatingAnimations.length=0},t.prototype.clearStarted=function(t,e){this.value=t,this.incrementBase=t,this.endedIncrement=0,this.runningIncrement=0,this.runningSetAnimation=null,this.runningIncrementalAnimations.length=0;for(var n=this.scheduledAnimations.length-1;n>=0;n--){this.scheduledAnimations[n].startTime<e&&this.scheduledAnimations.splice(n,1)}},t.prototype.shouldProgress=function(){return this.isChanging()||this.scheduledAnimations.length>0||this.repeatingAnimations.length>0},t.prototype.isChanging=function(){return!!this.runningSetAnimation||this.runningIncrementalAnimations.length>0},t.prototype.addAnimation=function(t){this.scheduledAnimations.push(t)},t.prototype.addRepeatingAnimation=function(t){this.repeatingAnimations.push(t)},t.prototype.getValue=function(){return this.value},t.prototype.progress=function(t){this.scheduleRepeatingAnimations(t),this.startScheduledAnimations(t);var e=this.updateBaseValue(t),n=this.updateIncrements(t);if(e||n){var r=this.incrementBase+this.endedIncrement+this.runningIncrement;if(this.normalizer&&(r=this.normalizer.normalize(r)),r!=this.value)return this.value=r,!0}return!1},t.prototype.scheduleRepeatingAnimations=function(t){for(var e=0;e<this.repeatingAnimations.length;e++){var n=this.repeatingAnimations[e],r=n.progress(t);r&&this.addAnimation(r),n.isEnded(t)&&(this.repeatingAnimations.splice(e,1),e--)}},t.prototype.startScheduledAnimations=function(t){if(this.scheduledAnimations.length>0)for(var e=0;e<this.scheduledAnimations.length;e++){var n=this.scheduledAnimations[e];t>=n.startTime&&(this.scheduledAnimations.splice(e,1),this.startAnimation(n,t),e--)}},t.prototype.updateBaseValue=function(t){return!!this.runningSetAnimation&&(this.incrementBase=this.runningSetAnimation.getValueAt(t),this.runningSetAnimation.isEnded(t)&&(this.runningSetAnimation=null),!0)},t.prototype.updateIncrements=function(t){if(0==this.runningIncrementalAnimations.length)return!1;this.runningIncrement=0;for(var e=0;e<this.runningIncrementalAnimations.length;e++){var n=this.runningIncrementalAnimations[e];n.isEnded(t)?(this.endedIncrement+=n.getIncrementAt(t),this.runningIncrementalAnimations.splice(0,1),e--):this.runningIncrement+=n.getIncrementAt(t)}return!0},t.prototype.startAnimation=function(t,e){t instanceof r.SetNumberAnimation?(this.runningSetAnimation=t,t.start(this.value,e),this.endedIncrement=0,this.runningIncrement=0,this.runningIncrementalAnimations.length=0):t instanceof i.IncrementNumberAnimation&&this.runningIncrementalAnimations.push(t)},t}();e.AnimationAccumulator=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=n(5),s=n(58),a=n(4),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.rProp=new i.NumberProperty("fillColorRed",255,o.Unit.HEX,0,255),r.gProp=new i.NumberProperty("fillColorGreen",255,o.Unit.HEX,0,255),r.bProp=new i.NumberProperty("fillColorBlue",255,o.Unit.HEX,0,255),r.setInitial(n),r}return r(e,t),e.prototype.setInitial=function(t){this.rProp.setInitial(t.r),this.gProp.setInitial(t.g),this.bProp.setInitial(t.b)},e.prototype.applyScaleFactor=function(t){},e.prototype.shouldProgress=function(){return this.rProp.shouldProgress()||this.gProp.shouldProgress()||this.bProp.shouldProgress()},e.prototype.isChanging=function(){return this.rProp.isChanging()||this.gProp.isChanging()||this.bProp.isChanging()},e.prototype.progress=function(t){var e=this.rProp.progress(t),n=this.gProp.progress(t),r=this.bProp.progress(t);return e||n||r},e.prototype.reset=function(){this.rProp.reset(),this.gProp.reset(),this.bProp.reset(),this.notifySetImmediate()},e.prototype.setImmediate=function(t){this.rProp.setImmediate(t.r),this.gProp.setImmediate(t.g),this.bProp.setImmediate(t.b),this.notifySetImmediate()},e.prototype.changeTo=function(t,e,n,r){this.rProp.addAnimation(a.EasingSetNumberAnimation.fromDDE(t.r,e,n),r),this.gProp.addAnimation(a.EasingSetNumberAnimation.fromDDE(t.g,e,n),r),this.bProp.addAnimation(a.EasingSetNumberAnimation.fromDDE(t.b,e,n),r),this.notifyShouldProgress()},e.prototype.toString=function(t){return"rgba("+Math.round(this.rProp.curVal())+","+Math.round(this.gProp.curVal())+","+Math.round(this.bProp.curVal())+","+Math.round(t)/100+")"},e}(s.Property);e.ColorProperty=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(28),o=function(){function t(){}return t.prototype.normalize=function(t){return r.AngleUtils.normalize(t)},t}();e.DegreeNormalizer=o;var s=function(){function t(t,e){this.limit=new i.NumberLimit(t,e)}return t.prototype.normalize=function(t){return this.limit.applyTo(t)},t}();e.MinMaxNormalizer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.repeatCount=t,this.interval=e}return t}();e.RepeatDef=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this.animation=t,this.nextRepeatTime=e,this.interval=n,this.maxRepeatTime=e+(r-1)*(n+t.getDuration())}return t.fromDef=function(e,n){return new t(e,e.startTime,n.interval,n.repeatCount)},t.prototype.progress=function(t){if(t>=this.nextRepeatTime&&this.nextRepeatTime<=this.maxRepeatTime){var e=this.animation.clone(this.nextRepeatTime);return this.nextRepeatTime+=this.interval+this.animation.getDuration(),e}return null},t.prototype.isEnded=function(t){return t>=this.maxRepeatTime},t}();e.RepeatingAnimation=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(145),i=n(147),o=n(142),s=n(148),a=n(1),u=n(9),c=n(146),h=n(141),p=n(150),l=n(0),f=n(144),d=n(149),y=n(143),g=function(){function t(t){this.layerRefReader=t}return t.prototype.readResponse=function(t){var e=t.type;switch(e){case"xid_move":return this.readMoveResponse(t);case"xid_scale":return this.readScaleResponse(t);case"xid_scroll":return this.readScrollResponse(t);case"xid_res_rotate":return this.readRotateResponse(t);case"xid_rotate_3d":return this.readRotate3DResponse(t);case"xid_opacity":return this.readOpacityResponse(t);case"xid_radius":return this.readRadiusResponse(t);case"xid_color":return this.readColorResponse(t);default:throw new Error("Unhandled response type: "+e)}},t.prototype.readMoveResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new o.ChainPointResponse(e.x,e.y);this.readTimingProperties(t,n);for(var r=0,i=t.mapping;r<i.length;r++){var s=i[r];n.addMappingEntry(this.readPointEntry(s,"x","y"))}return n},t.prototype.readScaleResponse=function(t){var e,n=this.layerRefReader.readLayer(t,"layerId");if("FACTOR"==t.scaleType){e=new o.ChainPointResponse(n.scaleX,n.scaleY);for(var r=0,i=t.mapping;r<i.length;r++){var s=i[r];e.addMappingEntry(this.readPointEntry(s,"scaleX","scaleY"))}}else{e=new o.ChainPointResponse(n.w,n.h);for(var a=0,u=t.mapping;a<u.length;a++){var s=u[a];e.addMappingEntry(this.readPointEntry(s,"width","height"))}}return this.readTimingProperties(t,e),e},t.prototype.readScrollResponse=function(t){var e=this.layerRefReader.readContainerLayer(t,"layerId"),n=e.getScrollOffset();if(n){var i=new r.ChainScalarResponse(n);this.readTimingProperties(t,i);for(var o=0,s=t.mapping;o<s.length;o++){var a=s[o];i.addMappingEntry(this.readOnePropEntry(a,"scrollOffset"))}return i}throw new Error("Scroll response requires scrolling container")},t.prototype.readRotateResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new f.ChainRotateResponse(e.r);this.readTimingProperties(t,n);for(var r=0,i=t.mapping;r<i.length;r++){var o=i[r];n.addMappingEntry(this.readRotateEntry(o,"rotation"))}return n},t.prototype.readRotate3DResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new y.ChainRotate3DResponse(e);if(this.readTimingProperties(t,n),n.depth=u.readNumber(t,"perspectiveDepth",n.depth),"CUSTOM"==t.pivotType){var r=u.readNumber(t,"pivotX",50)/100,i=u.readNumber(t,"pivotY",50)/100;n.pivot=new a.Point(r,i)}for(var o=0,s=t.mapping;o<s.length;o++){var c=s[o];n.addMappingEntry(this.readRotate3DEntry(c,"rotation"))}return n},t.prototype.readOpacityResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new r.ChainScalarResponse(e.o);this.readTimingProperties(t,n);for(var i=0,o=t.mapping;i<o.length;i++){var s=o[i];n.addMappingEntry(this.readOnePropEntry(s,"opacity"))}return n},t.prototype.readRadiusResponse=function(t){var e=this.layerRefReader.readRectLayer(t,"layerId"),n=new r.ChainScalarResponse(e.radius);this.readTimingProperties(t,n);for(var i=0,o=t.mapping;i<o.length;i++){var s=o[i];n.addMappingEntry(this.readOnePropEntry(s,"radius"))}return n},t.prototype.readColorResponse=function(t){var e=this.layerRefReader.readColoredLayer(t,"layerId"),n=new h.ChainColorResponse(e.fillColor);this.readTimingProperties(t,n);for(var r=0,i=t.mapping;r<i.length;r++){var o=i[r];n.addMappingEntry(this.readColorEntry(o,"fillColor"))}return n},t.prototype.readOnePropEntry=function(t,e){var n=t.from,r=t.to,o=u.requireNumber(n,"range"),s=u.requireNumber(r,"range"),a=u.requireNumber(n,e),c=u.requireNumber(r,e);return new i.NumberRangeEntry(o,s,a,c)},t.prototype.readPointEntry=function(t,e,n){var r=t.from,i=t.to,o=u.requireNumber(r,"range"),c=u.requireNumber(i,"range"),h=new a.Point(u.readNumber(r,e),u.readNumber(r,n)),p=new a.Point(u.readNumber(i,e),u.readNumber(i,n));return new s.PointRangeEntry(o,c,h,p)},t.prototype.readRotateEntry=function(t,e){var n=t.from,r=t.to,i=u.requireNumber(n,"range"),o=u.requireNumber(r,"range"),s=u.requireNumber(n,e),a=u.requireNumber(r,e),c=l.stringToRotateDir(t.direction);return new p.RotateRangeEntry(i,o,s,a,c)},t.prototype.readRotate3DEntry=function(t,e){var n=t.from,r=t.to,i=u.requireNumber(n,"range"),o=u.requireNumber(r,"range"),s=u.requireNumber(n,e),a=u.requireNumber(r,e),c=l.stringToRotate3DDir(t.direction);return new d.Rotate3DRangeEntry(i,o,s,a,c)},t.prototype.readColorEntry=function(t,e){var n=t.from,r=t.to,i=u.requireNumber(n,"range"),o=u.requireNumber(r,"range"),s=u.readColor(n,e),a=u.readColor(r,e);return new c.ColorRangeEntry(i,o,s,a)},t.prototype.readTimingProperties=function(t,e){},t}();e.ChainResponseReader=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(92),i=n(94),o=n(9),s=n(93),a=n(0),u=function(){function t(t){this.layerRefReader=t}return t.prototype.readConditionExpressions=function(t,e){for(var n=new r.BooleanAndComposition,i=0,o=t[e];i<o.length;i++){var s=o[i];n.addExpr(this.readBooleanExpr(s))}return n},t.prototype.readBooleanExpr=function(t){var e=a.stringToComparisonOperator(t.operator),n=this.readNumberExpr(t.left),r=this.readNumberExpr(t.right);return new s.ComparisonExpr(e,n,r)},t.prototype.readNumberExpr=function(t){var e=t.type;if("CONSTANT"===e)return new i.NumberConstantExpr(o.readNumber(t,"value"));if("PROPERTY"==e)return new i.NumberPropertyExpr(this.layerRefReader.readLayerProperty(t,"layerId","propertyName"));throw new Error("Unknown number expression type: "+e)},t}();e.ConditionReader=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(61),i=n(0),o=n(9),s=n(152),a=n(1),u=n(151),c=function(){function t(t){this.layerRefReader=t}return t.prototype.readResponse=function(t){var e=t.type;switch(e){case"xid_move":return this.readMoveResponse(t);case"xid_scale":return this.readScaleResponse(t);case"xid_res_rotate":return this.readRotateResponse(t);default:throw new Error("Unhandled response type: "+e)}},t.prototype.readMoveResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new r.DragMoveResponse(e);switch(n.direction=this.readDragAxis(t,"direction"),n.ratio=o.readNumber(t,"ratio",100)/100,t.limitType){case"CUSTOM":n.xLimit=o.readLimit(t,"minX","maxX"),n.yLimit=o.readLimit(t,"minY","maxY"),n.limitToParent=!1;break;case"NONE":n.limitToParent=!1;break;default:n.limitToParent=!0}return n},t.prototype.readScaleResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new s.DragScaleResponse(e);switch(n.ratio=o.readNumber(t,"ratio",100)/100,t.direction){case"UP":n.hDir=i.ScalarDir.DECREASE,n.pivot=new a.Point(.5,1);break;case"DOWN":n.hDir=i.ScalarDir.INCREASE,n.pivot=new a.Point(.5,0);break;case"LEFT":n.wDir=i.ScalarDir.DECREASE,n.pivot=new a.Point(1,.5);break;case"RIGHT":n.wDir=i.ScalarDir.INCREASE,n.pivot=new a.Point(0,.5);break;case"UP_LEFT":n.wDir=i.ScalarDir.DECREASE,n.hDir=i.ScalarDir.DECREASE,n.pivot=new a.Point(1,1);break;case"UP_RIGHT":n.wDir=i.ScalarDir.INCREASE,n.hDir=i.ScalarDir.DECREASE,n.pivot=new a.Point(0,1);break;case"DOWN_LEFT":n.wDir=i.ScalarDir.DECREASE,n.hDir=i.ScalarDir.INCREASE,n.pivot=new a.Point(1,0);break;case"DOWN_RIGHT":n.wDir=i.ScalarDir.INCREASE,n.hDir=i.ScalarDir.INCREASE,n.pivot=new a.Point(0,0)}return n.wLimit=o.readLimit(t,"minWidth","maxWidth"),n.hLimit=o.readLimit(t,"minHeight","maxHeight"),n},t.prototype.readRotateResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId");return new u.DragRotateResponse(e)},t.prototype.readDragAxis=function(t,e){var n=o.readString(t,e,"FREE");if("HORIZONTAL"==n)return i.DragAxis.HORIZONTAL;if("VERTICAL"==n)return i.DragAxis.VERTICAL;if("FREE"==n)return i.DragAxis.FREE;throw new Error("Invalid drag direction: "+n)},t}();e.DragResponseReader=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),i=n(38),o=n(53),s=n(27),a=n(0),u=n(174),c=n(172),h=n(54),p=n(9),l=n(15),f=n(39),d=function(){function t(){}return t.prototype.readLayer=function(t,e){var n,r=t.type;switch(r){case"RECT":n=this.readRectLayer(t,e);break;case"OVAL":n=this.readOvalLayer(t,e);break;case"IMAGE":n=this.readImageLayer(t,e);break;case"VIDEO":n=this.readVideoLayer(t,e);break;case"TEXT":n=this.readTextLayer(t,e);break;case"CONTAINER":n=this.readContainerLayer(t,e);break;default:throw new Error}return n.saveInitialState(),n},t.prototype.readRectLayer=function(t,e){var n=t.id,r=new i.RectLayer(n,e);return this.readShapeLayerProperties(r,t),r.radius.setInitial(p.readNumber(t,"radius",0)),r},t.prototype.readContainerLayer=function(t,e){var n=t.id,i=new r.ContainerLayer(n,e);this.readColoredLayerProperties(i,t),i.clipChildren=t.clipChildren,this.readScrollBehavior(i,t);for(var o=0,s=t.children;o<s.length;o++){var a=s[o];i.addChildLayer(this.readLayer(a,i))}return i},t.prototype.readImageLayer=function(t,e){var n=t.id,r=new o.ImageLayer(n,e);return this.readCommonProperties(r,t),r.resourceId=t.resourceId,r},t.prototype.readVideoLayer=function(t,e){var n=t.id,r=p.readTime(t,"duration",0),i=new l.VideoLayer(n,e,r);return this.readCommonProperties(i,t),i.resourceId=t.resourceId,i.autoPlay=p.readBoolean(t,"autoPlay",!1),i.autoPlayRepeat=p.readBoolean(t,"autoPlayRepeat",!1),i},t.prototype.readTextLayer=function(t,e){var n=t.id,r=new f.TextLayer(n,e);return this.readColoredLayerProperties(r,t),r.textAttributes.text=p.readString(t,"text",""),r.textAttributes.fontSize=p.readNumber(t,"fontSize",16),r.textAttributes.lineHeight=p.readNumber(t,"lineHeight",1.2),r.textAttributes.textAlign=p.readString(t,"textAlign","LEFT"),r.textAttributes.verticalAlign=p.readString(t,"verticalAlign","TOP"),r.textAttributes.fontWeight=p.readString(t,"fontWeight","NORMAL"),r},t.prototype.readOvalLayer=function(t,e){var n=t.id,r=new h.OvalLayer(n,e);return this.readShapeLayerProperties(r,t),r},t.prototype.readShapeLayerProperties=function(t,e){this.readColoredLayerProperties(t,e),t.isMask=p.readBoolean(e,"isMask",!1)},t.prototype.readColoredLayerProperties=function(t,e){this.readCommonProperties(t,e),t.fillColor.setInitial(s.Color.fromString(e.fillColor)),t.fillOpacity.setInitial(p.readNumber(e,"fillOpacity",100))},t.prototype.readScrollBehavior=function(t,e){var n=e.scrollType,r="HORIZONTAL"==e.scrollDirection?a.Axis2D.X:a.Axis2D.Y,i=a.stringToScrollEdgeEffectType(p.readString(e,"edgeEffect","BOUNCE"));t.scrollDir=r,"SCROLL"==n?t.addTouchTrigger(new u.ScrollComponent(t.id,t,r,i)):"PAGING"==n&&t.addTouchTrigger(new c.PageComponent(t.id,t,r,i))},t.prototype.readCommonProperties=function(t,e){t.name=e.name,t.origin.x=p.readNumber(e,"anchorX",0)/100,t.origin.y=p.readNumber(e,"anchorY",0)/100,t.x.setInitial(p.readNumber(e,"x",0)),t.y.setInitial(p.readNumber(e,"y",0)),t.w.setInitial(p.readNumber(e,"width",0)),t.h.setInitial(p.readNumber(e,"height",0)),t.r.setInitial(p.readNumber(e,"rotation",0)),t.o.setInitial(p.readNumber(e,"opacity",100)),t.passTouch=p.readBoolean(e,"passTouch",!1),p.readBoolean(e,"hitExtendEnabled",!1)&&(t.hitArea.extendAbove=p.readNumber(e,"hitExtendAbove",0),t.hitArea.extendBelow=p.readNumber(e,"hitExtendBelow",0),t.hitArea.extendLeft=p.readNumber(e,"hitExtendLeft",0),t.hitArea.extendRight=p.readNumber(e,"hitExtendRight",0))},t}();e.LayerReader=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),i=n(38),o=n(30),s=n(15),a=n(39),u=function(){function t(t){this.layerMap={},this.buildLayerMap(t)}return t.prototype.readLayer=function(t,e){var n=t[e],r=this.layerMap[n];if(r)return r;throw new Error("Layer not found: layerId="+n)},t.prototype.readRectLayer=function(t,e){var n=this.readLayer(t,e);if(n instanceof i.RectLayer)return n;throw new Error("Rect layer required")},t.prototype.readColoredLayer=function(t,e){var n=this.readLayer(t,e);if(n instanceof o.ColoredLayer)return n;throw new Error("ColoredLayer layer required")},t.prototype.readContainerLayer=function(t,e){var n=this.readLayer(t,e);if(n instanceof r.ContainerLayer)return n;throw new Error("Container layer required")},t.prototype.readVideoLayer=function(t,e){var n=this.readLayer(t,e);if(n instanceof s.VideoLayer)return n;throw new Error("Video layer required")},t.prototype.readTextLayer=function(t,e){var n=this.readLayer(t,e);if(n instanceof a.TextLayer)return n;throw new Error("Text layer required")},t.prototype.readLayerProperty=function(t,e,n){var r=this.readLayer(t,e),i=t[n],o=r.getNumberPropertyByName(i);if(o)return o;throw new Error("Property not found. propertyName="+i)},t.prototype.buildLayerMap=function(t){if(this.layerMap[t.id]=t,t instanceof r.ContainerLayer)for(var e=0,n=t.children;e<n.length;e++){var i=n[e];this.buildLayerMap(i)}},t}();e.LayerRefReader=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),i=n(7),o=n(137),s=n(139),a=n(9),u=n(0),c=n(138),h=n(1),p=n(153),l=n(114),f=n(136),d=n(49),y=n(140),g=n(156),v=n(15),m=n(157),E=n(32),_=function(){function t(t){this.layerRefReader=t}return t.prototype.readResponse=function(t,e){var n=t.type;switch(n){case"xid_move":return this.readMoveResponse(t);case"xid_scale":return this.readScaleResponse(t);case"xid_scroll":return this.readScrollResponse(t);case"xid_res_rotate":return this.readRotateResponse(t);case"xid_rotate_3d":return this.readRotate3DResponse(t);case"xid_opacity":return this.readOpacityResponse(t);case"xid_color":return this.readColorResponse(t);case"xid_radius":return this.readRadiusResponse(t);case"xid_reorder":return this.readReorderResponse(t);case"xid_playback":return this.readPlayBackResponse(t);case"xid_text":return this.readTextResponse(t);case"xid_vibrate":e.addUnsupportedFeature(E.PieReadResult.FEATURE_VIBRATE_RESPONSE);break;case"xid_jump":return this.readJumpResponse(t);case"xid_send":return this.readSendResponse(t)}throw new Error("Unhandled response type: "+n)},t.prototype.readMoveResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new o.OneTimePropertyResponse;return t.hasOwnProperty("x")&&n.addEntry(e.x,t.x),t.hasOwnProperty("y")&&n.addEntry(e.y,t.y),this.readTimingProperties(t,n),n},t.prototype.readScaleResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new o.OneTimePropertyResponse;return"FACTOR"==t.scaleType?(t.hasOwnProperty("scaleX")&&n.addEntry(e.scaleX,t.scaleX),t.hasOwnProperty("scaleY")&&n.addEntry(e.scaleY,t.scaleY)):(t.hasOwnProperty("width")&&n.addEntry(e.w,t.width),t.hasOwnProperty("height")&&n.addEntry(e.h,t.height)),this.readTimingProperties(t,n),n},t.prototype.readScrollResponse=function(t){var e=this.layerRefReader.readContainerLayer(t,"layerId"),n=new o.OneTimePropertyResponse;if(t.hasOwnProperty("scrollOffset")){var r=e.getScrollOffset();r&&n.addEntry(r,t.scrollOffset)}return this.readTimingProperties(t,n),n},t.prototype.readRotateResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=u.stringToOperation(t.operation),r=a.requireNumber(t,"degree"),i=new s.OneTimeRotateResponse(e.r,n,r);return i.direction=u.stringToRotateDir(t.direction),this.readTimingProperties(t,i),i},t.prototype.readRotate3DResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=u.stringToOperation(t.operation),r=a.requireNumber(t,"degree"),i=new c.OneTimeRotate3DResponse(e,n,r),o=t.direction;if("X_CW"==o)i.axis=u.Axis3D.X,i.direction=u.RotateDirection.CW;else if("X_CCW"==o)i.axis=u.Axis3D.X,i.direction=u.RotateDirection.CCW;else if("Y_CW"==o)i.axis=u.Axis3D.Y,i.direction=u.RotateDirection.CW;else{if("Y_CCW"!=o)throw new Error("Unknown 3d rotate dir");i.axis=u.Axis3D.Y,i.direction=u.RotateDirection.CCW}if(i.depth=a.readNumber(t,"perspectiveDepth",i.depth),"CUSTOM"==t.pivotType){var s=a.readNumber(t,"pivotX",50)/100,p=a.readNumber(t,"pivotY",50)/100;i.pivot=new h.Point(s,p)}return this.readTimingProperties(t,i),i},t.prototype.readOpacityResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new o.OneTimePropertyResponse;return t.hasOwnProperty("opacity")&&n.addEntry(e.o,t.opacity),this.readTimingProperties(t,n),n},t.prototype.readColorResponse=function(t){var e=this.layerRefReader.readColoredLayer(t,"layerId"),n=new o.OneTimePropertyResponse,r=a.readNumber(t,"fillOpacity");null!==r&&n.addEntry(e.fillOpacity,r);var i=a.readColor(t,"fillColor");return i&&n.addColorEntry(e.fillColor,i),this.readTimingProperties(t,n),n},t.prototype.readRadiusResponse=function(t){var e=this.layerRefReader.readRectLayer(t,"layerId"),n=new o.OneTimePropertyResponse;return t.hasOwnProperty("radius")&&n.addEntry(e.radius,t.radius),this.readTimingProperties(t,n),n},t.prototype.readReorderResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=u.stringToReorderType(t.order),r=new p.ReorderResponse(e,n);return r.delay=a.readTime(t,"delay",0),this.readRepeatDef(t,r),r},t.prototype.readPlayBackResponse=function(t){var e,n=this.layerRefReader.readVideoLayer(t,"layerId"),r=a.requireString(t,"command");if("PLAY"==r)e=new v.VideoLayerCommand(v.VideoLayerCommandType.PLAY),e.repeating=a.readBoolean(t,"repeat",!1);else if("PAUSE"==r)e=new v.VideoLayerCommand(v.VideoLayerCommandType.PAUSE);else{if("SEEK"!=r)throw new Error("Invalid command: "+r);e=new v.VideoLayerCommand(v.VideoLayerCommandType.SEEK),e.seekTime=a.readVideoTime(t,"seekTime")}var i=new g.PlayBackResponse(n,e);return i.delay=a.readTime(t,"delay",0),i},t.prototype.readTextResponse=function(t){var e=this.layerRefReader.readTextLayer(t,"layerId"),n=new m.TextResponse(e);return n.delay=a.readTime(t,"delay",0),this.readRepeatDef(t,n),n.textAttributes.text=a.readString(t,"text",null),n.textAttributes.fontSize=a.readNumber(t,"fontSize",null),n.textAttributes.lineHeight=a.readNumber(t,"lineHeight",null),n.textAttributes.textAlign=a.readString(t,"textAlign",null),n.textAttributes.verticalAlign=a.readString(t,"verticalAlign",null),n.textAttributes.fontWeight=a.readString(t,"fontWeight",null),n},t.prototype.readJumpResponse=function(t){var e=t.sceneId,n=t.transition,r=a.readBoolean(t,"resetTargetScene",!0),i=new f.JumpResponse(e,n,r);return i.delay=a.readTime(t,"delay",0),i},t.prototype.readSendResponse=function(t){var e=t.channel,n=t.messageId,r=new y.SendResponse(e,n);return r.delay=a.readTime(t,"delay",0),this.readRepeatDef(t,r),r},t.prototype.readTimingProperties=function(t,e){var n=a.readTime(t,"delay",0),o=a.readTime(t,"duration",0),s=i.EasingFuncFactory.fromJson(t,null);s instanceof d.PopulatingEasingFunc&&(o=s.getDuration()),e.dde=new r.DDE(n,o,s),this.readRepeatDef(t,e)},t.prototype.readRepeatDef=function(t,e){if(a.readBoolean(t,"repeat",!1)){var n=a.readNumber(t,"repeatCount",10),r=a.readTime(t,"repeatInterval",1e3);r<0||(e.repeatDef=new l.RepeatDef(n,r))}},t}();e.OneTimeResponseReader=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(158),i=n(126),o=function(){function t(){}return t.prototype.readPie=function(t,e){for(var n=new r.Pie(t.device),o=new i.SceneReader(n),s=0,a=t.scenes;s<a.length;s++){var u=a[s];n.addScene(o.readScene(u,e))}return n.selectedSceneId=t.selectedSceneId,n},t}();e.PieReader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(9),o=n(43),s=function(){function t(t){this.layerRefReader=t}return t.prototype.readResponse=function(t){var e=t.type;switch(e){case"xid_scale":return this.readScaleResponse(t);default:throw new Error("Unhandled response type: "+e)}},t.prototype.readScaleResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new o.PinchScaleResponse(e);return n.wLimit=i.readLimit(t,"minWidth","maxWidth"),n.hLimit=i.readLimit(t,"minHeight","maxHeight"),n.useAutoPivot="AUTO"==i.readString(t,"pivotType",""),n.direction=this.readDragAxis(t,"direction"),n},t.prototype.readDragAxis=function(t,e){var n=t[e];if("HORIZONTAL"==n)return r.DragAxis.HORIZONTAL;if("VERTICAL"==n)return r.DragAxis.VERTICAL;if("FREE"==n)return r.DragAxis.FREE;throw new Error("Invalid drag direction: "+n)},t}();e.PinchResponseReader=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(121),i=n(118),o=n(116),s=n(155),a=n(154),u=n(117),c=n(123),h=n(125),p=n(8),l=function(){function t(t){this.oneTimeResponseReader=new r.OneTimeResponseReader(t),this.chainResponseReader=new o.ChainResponseReader(t),this.dragResponseReader=new i.DragResponseReader(t),this.pinchResponseReader=new c.PinchResponseReader(t),this.rotateResponseReader=new h.RotateResponseReader(t),this.conditionReader=new u.ConditionReader(t)}return t.prototype.readOneTimeResponses=function(t,e){for(var n=new s.OneTimeResponseList,r=0,i=t.responses;r<i.length;r++){var o=i[r];try{o.disabled||n.addResponse(this.oneTimeResponseReader.readResponse(o,e))}catch(t){p.Logger.i("Ignoring invalid response",t)}}if(t.conditions)for(var a=0,u=t.conditions;a<u.length;a++){var c=u[a];try{c.disabled||n.addConditionalResponseList(this.readConditionalROneTimeResponseList(c,e))}catch(t){p.Logger.i("Ignoring invalid condition",t)}}return n},t.prototype.readChainResponses=function(t){for(var e=[],n=0,r=t.responses;n<r.length;n++){var i=r[n];try{i.disabled||e.push(this.chainResponseReader.readResponse(i))}catch(t){p.Logger.i("Ignoring invalid response",t)}}return e},t.prototype.readDragResponses=function(t){for(var e=[],n=0,r=t.responses;n<r.length;n++){var i=r[n];try{i.disabled||e.push(this.dragResponseReader.readResponse(i))}catch(t){p.Logger.i("Ignoring invalid response",t)}}return e},t.prototype.readPinchResponses=function(t){for(var e=[],n=0,r=t.responses;n<r.length;n++){var i=r[n];try{i.disabled||e.push(this.pinchResponseReader.readResponse(i))}catch(t){p.Logger.i("Ignoring invalid response",t)}}return e},t.prototype.readRotateResponses=function(t){for(var e=[],n=0,r=t.responses;n<r.length;n++){var i=r[n];try{i.disabled||e.push(this.rotateResponseReader.readResponse(i))}catch(t){p.Logger.i("Ignoring invalid response",t)}}return e},t.prototype.readConditionalROneTimeResponseList=function(t,e){for(var n=this.conditionReader.readConditionExpressions(t,"expressions"),r=new a.ConditionalOneTimeResponseList(n),i=0,o=t.responses;i<o.length;i++){var s=o[i];try{s.disabled||r.addResponse(this.oneTimeResponseReader.readResponse(s,e))}catch(t){p.Logger.i("Ignoring invalid response",t)}}return r},t}();e.ResponseReader=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(62),o=function(){function t(t){this.layerRefReader=t}return t.prototype.readResponse=function(t){var e=t.type;switch(e){case"xid_res_rotate":return this.readRotateResponse(t);default:throw new Error("Unhandled response type: "+e)}},t.prototype.readRotateResponse=function(t){var e=this.layerRefReader.readLayer(t,"layerId"),n=new i.RotateRotateResponse(e);return n.useAutoPivot="AUTO"==r.readString(t,"pivotType",""),n},t}();e.RotateResponseReader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(159),i=n(119),o=n(19),s=n(120),a=n(127),u=n(124),c=n(27),h=n(8),p=n(32),l=n(31),f=n(15),d=n(33),y=function(){function t(t){this.pie=t}return t.prototype.readScene=function(t,e){var n=t.id,i=this.readLayers(t),o=this.readTriggers(t,i,e),s=new r.Scene(n,i,o);return this.getUnsupportedLayerFeatures(s,e),s},t.prototype.readLayers=function(t){var e=new i.LayerReader,n=new o.ContainerLayer("_ROOT_",null);n.name="ROOT",n.clipChildren=!0,n.fillColor.setInitial(c.Color.fromString("#FFFFFF")),n.fillOpacity.setInitial(100),n.w.setInitial(this.pie.deviceInfo.width),n.h.setInitial(this.pie.deviceInfo.height);for(var r=0,s=t.layers;r<s.length;r++){var a=s[r];n.addChildLayer(e.readLayer(a,n))}return n},t.prototype.readTriggers=function(t,e,n){for(var r=new s.LayerRefReader(e),i=new u.ResponseReader(r),o=new a.TriggerReader(r,i),c=[],p=0,l=t.interactions;p<l.length;p++){var f=l[p];if(!f.disabled)try{c.push(o.readTrigger(f,n))}catch(t){h.Logger.i("Ignoring invalid trigger",t)}}return c},t.prototype.getUnsupportedLayerFeatures=function(t,e){for(var n=0,r=0,i=t.getAllLayers();r<i.length;r++){var o=i[r];d.BrowserDetector.supportsMask()||o instanceof l.ShapeLayer&&o.isMask&&e.addUnsupportedFeature(p.PieReadResult.FEATURE_MASK),o instanceof f.VideoLayer&&n++}d.BrowserDetector.isMobile()&&n>1&&e.addUnsupportedFeature(p.PieReadResult.FEATURE_MULTIPLE_VIDEO),d.BrowserDetector.isMobile()&&n>0&&e.addUnsupportedFeature(p.PieReadResult.FEATURE_VIDEO_SOUND)},t}();e.SceneReader=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(175),i=n(69),o=n(63),s=n(173),a=n(0),u=n(9),c=n(7),h=n(40),p=n(168),l=n(176),f=n(177),d=n(171),y=n(64),g=n(169),v=n(65),m=n(5),E=n(95),_=n(66),T=n(71),w=n(72),b=n(32),A=n(33),P=n(167),R=n(166),O=function(){function t(t,e){this.layerRefReader=t,this.responseReader=e}return t.prototype.readTrigger=function(t,e){var n=t.type;if("xid_tap"==n){var r=this.readTapTrigger(t,e);return!A.BrowserDetector.supportsMultiTouch()&&r.getFingerCount()>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_double_tap"==n){var r=this.readDoubleTapTrigger(t,e);return!A.BrowserDetector.supportsMultiTouch()&&r.getFingerCount()>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_long_press"==n){var r=this.readLongPressTrigger(t,e);return!A.BrowserDetector.supportsMultiTouch()&&r.fingerCount>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_touch_down"==n){var r=this.readTouchDownTrigger(t,e);return!A.BrowserDetector.supportsMultiTouch()&&r.fingerCount>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_touch_up"==n){var r=this.readTouchUpTrigger(t,e);return!A.BrowserDetector.supportsMultiTouch()&&r.fingerCount>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_mouse_over"==n)return this.readMouseOverTrigger(t,e);if("xid_mouse_out"==n)return this.readMouseOutTrigger(t,e);if("xid_fling"==n)return this.readFlingTrigger(t,e);if("xid_drag"==n){var r=this.readDragTrigger(t);return!A.BrowserDetector.supportsMultiTouch()&&r.getFingerCount()>1&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_FINGER_COUNT),r}if("xid_pinch"==n)return A.BrowserDetector.supportsMultiTouch()||e.addUnsupportedFeature(b.PieReadResult.FEATURE_PINCH_TRIGGER),this.readPinchTrigger(t);if("xid_rotate"==n)return A.BrowserDetector.supportsMultiTouch()||e.addUnsupportedFeature(b.PieReadResult.FEATURE_ROTATE_TRIGGER),this.readRotateTrigger(t);if("xid_pull"==n)return this.readPullTrigger(t,e);if("xid_on_load"==n)return this.readOnLoadTrigger(t,e);if("xid_range"==n)return this.readRangeTrigger(t,e);if("xid_chain"==n)return this.readChainTrigger(t);if("xid_receive"==n)return this.readReceiveTrigger(t,e);throw"xid_tilt"===n?e.addUnsupportedFeature(b.PieReadResult.FEATURE_TILT_TRIGGER):"xid_proximity"===n?e.addUnsupportedFeature(b.PieReadResult.FEATURE_PROXIMITY_TRIGGER):"xid_compass"===n?e.addUnsupportedFeature(b.PieReadResult.FEATURE_COMPASS_TRIGGER):"xid_sound"===n?e.addUnsupportedFeature(b.PieReadResult.FEATURE_SOUND_TRIGGER):"xid_force_touch"===n&&e.addUnsupportedFeature(b.PieReadResult.FEATURE_TOUCH3D_TRIGGER),new Error("Unhandled trigger type: "+n)},t.prototype.readTapTrigger=function(t,e){var n=new r.TapTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.setFingerCount(this.readFingerCount(t)),n},t.prototype.readDoubleTapTrigger=function(t,e){var n=new p.DoubleTapTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.setFingerCount(this.readFingerCount(t)),n},t.prototype.readLongPressTrigger=function(t,e){var n=new d.LongPressTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.fingerCount=this.readFingerCount(t),n.pressingTime=u.readTime(t,"pressingTime",n.pressingTime),n},t.prototype.readTouchDownTrigger=function(t,e){var n=new l.TouchDownTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.fingerCount=this.readFingerCount(t),n},t.prototype.readTouchUpTrigger=function(t,e){var n=new f.TouchUpTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.fingerCount=this.readFingerCount(t),n},t.prototype.readMouseOverTrigger=function(t,e){return new P.MouseOverTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e))},t.prototype.readMouseOutTrigger=function(t,e){return new R.MouseOutTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e))},t.prototype.readFlingTrigger=function(t,e){var n=new g.FlingTrigger(t.id,this.readLayer(t),this.responseReader.readOneTimeResponses(t,e));return n.direction=a.stringToMoveDir(t.direction),n},t.prototype.readDragTrigger=function(t){var e=new i.DragTrigger(t.id,this.readLayer(t));return e.setFingerCount(this.readFingerCount(t)),e.responses=this.responseReader.readDragResponses(t),e},t.prototype.readPinchTrigger=function(t){var e=new T.PinchTrigger(t.id,this.readLayer(t));return e.responses=this.responseReader.readPinchResponses(t),e},t.prototype.readRotateTrigger=function(t){var e=new w.RotateTrigger(t.id,this.readLayer(t));return e.responses=this.responseReader.readRotateResponses(t),e},t.prototype.readPullTrigger=function(t,e){var n=a.stringToMoveDir(t.direction),r=u.requireNumber(t,"distance"),i=new s.PullComponent(t.id,this.readLayer(t),n,r,this.responseReader.readOneTimeResponses(t,e)),o=c.EasingFuncFactory.fromJson(t,"success");i.successDde=new h.DDE(0,s.PullComponent.DEFAULT_SUCCESS_DURATION,o);var p=t.overPullBehavior;return i.excessMoveRatio="STOP"==p?0:"FOLLOW_WITH_RESISTANCE"==p?.5:1,i},t.prototype.readOnLoadTrigger=function(t,e){return new y.OnLoadTrigger(this.responseReader.readOneTimeResponses(t,e))},t.prototype.readRangeTrigger=function(t,e){var n=this.layerRefReader.readLayerProperty(t,"layerId","propertyName"),r=this.readRange(t,n.unit),i=this.responseReader.readOneTimeResponses(t,e);return new v.RangeTrigger(n,r,i)},t.prototype.readChainTrigger=function(t){for(var e=new o.ChainTrigger(this.layerRefReader.readLayerProperty(t,"layerId","propertyName")),n=0,r=this.responseReader.readChainResponses(t);n<r.length;n++){var i=r[n];e.addResponse(i)}return e},t.prototype.readReceiveTrigger=function(t,e){var n=new _.ReceiveTrigger(this.responseReader.readOneTimeResponses(t,e));return n.channel=t.channel,n.messageId=t.messageId,n},t.prototype.readLayer=function(t){return this.layerRefReader.readLayer(t,"layerId")},t.prototype.readRange=function(t,e){var n=t.rangeType;switch(n){case"BT":var r=u.requireNumber(t,"rangeFrom"),i=u.requireNumber(t,"rangeTo");return e==m.Unit.DEGREE?i>=r?new E.BetweenNumberRange(r,i):new E.NotBetweenNumberRange(i,r):new E.BetweenNumberRange(r,i);case"NBT":return new E.NotBetweenNumberRange(u.requireNumber(t,"rangeFrom"),u.requireNumber(t,"rangeTo"));case"GTE":return new E.GteNumberRange(u.requireNumber(t,"rangeFrom"));case"LTE":return new E.LteNumberRange(u.requireNumber(t,"rangeTo"));default:throw new Error("Unhandled rangeType: "+n)}},t.prototype.readFingerCount=function(t){return Math.min(Math.max(u.readNumber(t,"fingerCount",1),1),5)},t}();e.TriggerReader=O},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=n(33),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.childRenderMap={},r.maskGroupElementMap={},r.containerLayer=e,r}return r(e,t),e.prototype.addChildRenderer=function(t){this.childRenderMap[t.getModel().id]=t,this.addChildRendererInternal(t)},e.prototype.onChildOrderModified=function(){t.prototype.onChildOrderModified.call(this),this.contentElement.innerHTML="",this.currentChildParentElement=this.contentElement;for(var e=0,n=this.containerLayer.children;e<n.length;e++){var r=n[e],i=this.childRenderMap[r.id];this.addChildRendererInternal(i)}},e.prototype.updateClockScale=function(e){t.prototype.updateClockScale.call(this,e);for(var n=0,r=this.containerLayer.children;n<r.length;n++){var i=r[n];this.childRenderMap[i.id].updateClockScale(e)}},e.prototype.createElement=function(){var t=document.createElement("div");return t.style.position="absolute",t.style.overflow=this.containerLayer.clipChildren?"hidden":"visible",this.contentElement=document.createElement("div"),this.contentElement.style.position="absolute",this.contentElement.style.width="100%",this.contentElement.style.height="100%",t.appendChild(this.contentElement),this.currentChildParentElement=this.contentElement,t},e.prototype.updateToElement=function(e){t.prototype.updateToElement.call(this,e),e.style.backgroundColor=this.containerLayer.getFillColorWithAlpha(),this.contentElement.style.top=Math.round(-this.containerLayer.sY.curVal())+"px",this.contentElement.style.left=Math.round(-this.containerLayer.sX.curVal())+"px"},e.prototype.addChildRendererInternal=function(t){var e=t.getMaskElementId();if(e){this.contentElement.appendChild(t.getElement());var n=this.getMaskGroupElement(t,e);this.contentElement.appendChild(n),this.currentChildParentElement=n}else this.currentChildParentElement.appendChild(t.getElement())},e.prototype.getMaskGroupElement=function(t,e){var n=t.getModel(),r=this.maskGroupElementMap[n.id];if(!r){if(r=document.createElement("div"),o.BrowserDetector.supportsMask()){r.setAttribute("style","-webkit-clip-path:url(#"+e+"); clip-path:url(#"+e+")");var i={onLayerModified:function(t){r.style.x=Math.random()+""},onChildOrderModified:function(){}};n.addObserver(i)}this.maskGroupElementMap[n.id]=r}return r},e}(i.BaseLayerRenderer);e.ContainerLayerRenderer=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.imageLayer=e,i.resourceLoader=r,i}return r(e,t),e.prototype.createElement=function(){return this.resourceLoader.createImageElement(this.imageLayer.resourceId)},e}(i.BaseLayerRenderer);e.ImageLayerRenderer=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.ovalLayer=e,r}return r(e,t),e.prototype.createShapeElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","ellipse")},e.prototype.createMaskElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","ellipse")},e.prototype.updateModelToShapeElement=function(t){this.positionElement.style.opacity="1",t.setAttribute("fill",this.ovalLayer.getFillColorWithAlphaAndOpacity()),t.setAttribute("cx",this.ovalLayer.w.curVal()/2+"px"),t.setAttribute("cy",this.ovalLayer.h.curVal()/2+"px"),t.setAttribute("rx",this.ovalLayer.w.curVal()/2+"px"),t.setAttribute("ry",this.ovalLayer.h.curVal()/2+"px")},e.prototype.updateModelToMaskElement=function(t){var e=this.ovalLayer;t.setAttribute("rx",this.ovalLayer.w.curVal()/2+""),t.setAttribute("ry",this.ovalLayer.h.curVal()/2+""),t.setAttribute("cx",e.x.curVal()-e.w.curVal()*(e.origin.x-.5)+""),t.setAttribute("cy",e.y.curVal()-e.h.curVal()*(e.origin.y-.5)+"")},e}(i.ShapeLayerRenderer);e.OvalLayerRenderer=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.rectLayer=e,r}return r(e,t),e.prototype.createShapeElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","rect")},e.prototype.createMaskElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","rect")},e.prototype.updateModelToShapeElement=function(t){t.setAttribute("width",this.rectLayer.w.curVal()+""),t.setAttribute("height",this.rectLayer.h.curVal()+"");var e=Math.min(this.rectLayer.radius.curVal(),this.rectLayer.w.curVal()/2,this.rectLayer.h.curVal()/2);t.setAttribute("rx",e+""),t.setAttribute("ry",e+"")},e.prototype.updateModelToMaskElement=function(t){var e=this.rectLayer,n=Math.min(e.radius.curVal(),e.w.curVal()/2,e.h.curVal()/2);t.setAttribute("width",e.w.curVal()+""),t.setAttribute("height",e.h.curVal()+""),t.setAttribute("rx",n+""),t.setAttribute("ry",n+""),t.setAttribute("x",e.x.curVal()-e.w.curVal()*e.origin.x+""),t.setAttribute("y",e.y.curVal()-e.h.curVal()*e.origin.y+"")},e}(i.ShapeLayerRenderer);e.RectLayerRenderer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(74),i=n(8),o=function(){function t(t){this.totalResourceCount=0,this.doneResourceCount=0,this.errorResourceCount=0,this.resourceProvider=t}return t.prototype.isReady=function(){return this.doneResourceCount==this.totalResourceCount},t.prototype.setOnReady=function(t){this.doneResourceCount==this.totalResourceCount?t(this.errorResourceCount):this.onReady=t},t.prototype.getErrorCount=function(){return this.errorResourceCount},t.prototype.createImageElement=function(t){var e=document.createElement("img");return e.src=this.resourceProvider.getImageUrl(t),this.totalResourceCount++,r.EventUtils.once(e,"load",this.onResourceLoadingDone.bind(this)),r.EventUtils.once(e,"error",this.onResourceLoadingError.bind(this)),e},t.prototype.createVideoElement=function(t){var e=document.createElement("video");return this.setVideoSource(e,this.resourceProvider.getImageUrl(t)),e.load(),this.totalResourceCount++,e.readyState>3?this.onResourceLoadingDone():(r.EventUtils.once(e,"canplay",this.onResourceLoadingDone.bind(this)),r.EventUtils.once(e,"error",this.onResourceLoadingError.bind(this))),e},t.prototype.setVideoSource=function(t,e){t.src=e;var n=document.createElement("source");n.src=e,t.appendChild(n)},t.prototype.onResourceLoadingError=function(){this.errorResourceCount++,this.onResourceLoadingDone()},t.prototype.onResourceLoadingDone=function(){this.doneResourceCount++,i.Logger.i("Resource loaded: "+this.doneResourceCount+"/"+this.totalResourceCount),this.doneResourceCount==this.totalResourceCount&&this.onReady&&this.onReady(this.errorResourceCount)},t}();e.ResourceLoader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),i=n(128),o=n(19),s=n(54),a=n(131),u=n(130),c=n(53),h=n(129),p=n(39),l=n(134),f=n(15),d=n(135),y=n(132),g=function(){function t(t,e,n){var r=this;this.scene=t,this.resourceLoader=new y.ResourceLoader(e),this.rootLayerRenderer=this.buildLayerRenderer(t.rootLayer,n),this.resourceLoader.setOnReady(function(t){r.onReady&&r.onReady(t)})}return t.prototype.attachTo=function(t){t.appendChild(this.rootLayerRenderer.getElement())},t.prototype.detachFromParent=function(){var t=this.rootLayerRenderer.getElement();t.parentElement&&t.parentElement.removeChild(t);for(var e=t.getElementsByTagName("video"),n=0;n<e.length;n++)e[n].pause(),e[n].currentTime=0},t.prototype.cleanUpResources=function(){for(var t=this.rootLayerRenderer.getElement().getElementsByTagName("video"),e=0;e<t.length;e++)t[e].src=""},t.prototype.isReady=function(){return this.resourceLoader.isReady()},t.prototype.getResourceLoadingErrorCount=function(){return this.resourceLoader.getErrorCount()},t.prototype.setOnReady=function(t){this.resourceLoader.isReady()?t(this.resourceLoader.getErrorCount()):this.onReady=t},t.prototype.getModel=function(){return this.scene.rootLayer},t.prototype.updateClockScale=function(t){this.rootLayerRenderer.updateClockScale(t)},t.prototype.buildLayerRenderer=function(t,e){if(t instanceof o.ContainerLayer){var n=t,y=new i.ContainerLayerRenderer(n,e);y.init();for(var g=0,v=n.children;g<v.length;g++){var m=v[g],E=this.buildLayerRenderer(m,e);y.addChildRenderer(E)}return y}if(t instanceof r.RectLayer){var _=t,y=new a.RectLayerRenderer(_,e);return y.init(),y}if(t instanceof s.OvalLayer){var T=t,y=new u.OvalLayerRenderer(T,e);return y.init(),y}if(t instanceof c.ImageLayer){var y=new h.ImageLayerRenderer(t,e,this.resourceLoader);return y.init(),y}if(t instanceof p.TextLayer){var y=new l.TextLayerRenderer(t,e);return y.init(),y}if(t instanceof f.VideoLayer){var y=new d.VideoLayerRenderer(t,e,this.resourceLoader);return y.init(),y}},t}();e.SceneRenderer=g},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.textLayer=e,r}return r(e,t),e.prototype.createElement=function(){return this.areaElement=document.createElement("div"),this.areaElement.style.display="table",this.areaElement.style.overflow="hidden",this.textElement=document.createElement("div"),this.textElement.style.position="absolute",this.textElement.style.width="100%",this.textElement.style.whiteSpace="pre-wrap",this.textElement.style.wordBreak="break-word",this.areaElement.appendChild(this.textElement),this.areaElement},e.prototype.updateToElement=function(e){t.prototype.updateToElement.call(this,e);var n=this.textLayer.textAttributes;switch(n.verticalAlign.toUpperCase()){case"BOTTOM":this.textElement.style.top=null,this.textElement.style.bottom="0px",this.textElement.style.transform=null;break;case"MIDDLE":this.textElement.style.top="50%",this.textElement.style.bottom=null,this.textElement.style.transform="translateY(-50%)";break;default:this.textElement.style.top="0px",this.textElement.style.bottom=null,this.textElement.style.transform=null}this.textElement.innerHTML=this.textToHtml(n.text),this.textElement.style.fontSize=n.fontSize+"px",this.textElement.style.color=this.textLayer.getFillColorWithAlpha(),this.textElement.style.textAlign=n.textAlign,this.textElement.style.lineHeight=""+n.lineHeight,this.textElement.style.fontWeight="BOLD"===n.fontWeight?"bold":"normal"},e.prototype.textToHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(i.BaseLayerRenderer);e.TextLayerRenderer=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=n(15),s=n(33),a=n(74),u=n(8),c=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.videoLayer=e,i.resourceLoader=r,i}return r(e,t),e.prototype.updateClockScale=function(e){t.prototype.updateClockScale.call(this,e),this.videoElm.playbackRate=e},e.prototype.createElement=function(){var t=this;return this.videoElm=this.resourceLoader.createVideoElement(this.videoLayer.resourceId),this.videoElm.style.objectFit="fill",this.videoElm.setAttribute("playsinline","true"),s.BrowserDetector.isMobile()&&(this.videoElm.muted=!0),this.videoLayer.autoPlay||s.BrowserDetector.isMobile()&&(a.EventUtils.once(this.videoElm,"playing",function(){t.videoElm.pause()}),this.videoElm.play()),this.videoElm},e.prototype.updateToElement=function(e){for(t.prototype.updateToElement.call(this,e);;){var n=this.videoLayer.dequeueCommand();if(!n)break;switch(n.type){case o.VideoLayerCommandType.PLAY:this.videoElm.loop=n.repeating,!this.videoElm.loop&&this.videoElm.paused&&this.videoElm.currentTime>=this.videoElm.duration?u.Logger.i("Ignoring play when it is at the end."):this.videoElm.play();break;case o.VideoLayerCommandType.PAUSE:this.videoElm.pause();break;case o.VideoLayerCommandType.SEEK:this.videoElm.currentTime=n.seekTime}}},e}(i.BaseLayerRenderer);e.VideoLayerRenderer=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=function(t){function e(e,n,r){var i=t.call(this)||this;return i.resetTargetScene=!0,i.sceneId=e,i.transitionName=n,i.resetTargetScene=r,i}return r(e,t),e.prototype.run=function(t){var e=this,n={run:function(t,n){n.jump(e.sceneId,e.transitionName,e.resetTargetScene)}};this.scheduler.scheduleTask(n,t+this.delay)},e.prototype.applyScaleFactor=function(t){},e}(i.OneTimeResponse);e.JumpResponse=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(4),s=n(5),a=n(6),u=function(){function t(){}return t}(),c=function(t){function e(e,n){var r=t.call(this)||this;return r.property=e,r.endValue=n,r}return r(e,t),e.prototype.run=function(t,e,n){var r=o.EasingSetNumberAnimation.fromDDE(this.endValue,t,e);this.property.addAnimation(r,n)},e}(u),h=function(t){function e(e,n){var r=t.call(this)||this;return r.property=e,r.endValue=n,r}return r(e,t),e.prototype.run=function(t,e,n){this.property.changeTo(this.endValue,t,e,n)},e}(u),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.entries=[],e}return r(e,t),e.prototype.run=function(t){for(var e=0,n=this.entries;e<n.length;e++){n[e].run(t,this.dde,this.repeatDef)}},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.entries;e<n.length;e++){var r=n[e];if(r instanceof c){var i=r;i.property.unit==s.Unit.PIXEL&&(a.LangUtils.isNil(i.endValue)||(i.endValue*=t))}}},e.prototype.addEntry=function(t,e){null!==e&&void 0!==e&&this.entries.push(new c(t,e))},e.prototype.addColorEntry=function(t,e){e&&this.entries.push(new h(t,e))},e}(i.OneTimeResponse);e.OneTimePropertyResponse=p},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(0),s=n(3),a=n(41),u=n(56),c=300,h=function(t){function e(e,n,r){var i=t.call(this)||this;return i.direction=o.RotateDirection.CW,i.depth=c,i.layer=e,i.property=e.r3,i.operation=n,i.operation==o.Operation.SET?i.degree=s.AngleUtils.normalize(r):i.degree=r,i}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t){if(this.layer.r3Axis=this.axis,this.pivot?this.layer.r3Pivot.copyFrom(this.pivot):this.layer.r3Pivot.copyFrom(this.layer.origin),this.layer.r3Depth=this.depth,this.operation==o.Operation.SET){var e=new u.CircularSetNumberAnimation(t+this.dde.delay,this.degree,this.dde.duration,this.dde.easingFunc,360,this.direction);this.property.addAnimation(e,this.repeatDef)}else if(this.operation==o.Operation.INCREASE){var n=0;if(this.direction==o.RotateDirection.CW?n=this.degree:this.direction==o.RotateDirection.CCW&&(n=-this.degree),0!=n){var e=a.IncrementNumberAnimation.fromDDE(n,t,this.dde);this.property.addAnimation(e,this.repeatDef)}}},e}(i.OneTimeResponse);e.OneTimeRotate3DResponse=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(0),s=n(3),a=n(41),u=n(56),c=function(t){function e(e,n,r){var i=t.call(this)||this;return i.direction=o.RotateDirection.CW,i.property=e,i.operation=n,i.operation==o.Operation.SET?i.degree=s.AngleUtils.normalize(r):i.degree=r,i}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t){if(this.operation==o.Operation.SET){var e=new u.CircularSetNumberAnimation(t+this.dde.delay,this.degree,this.dde.duration,this.dde.easingFunc,360,this.direction);this.property.addAnimation(e,this.repeatDef)}else if(this.operation==o.Operation.INCREASE){var n=0;if(this.direction==o.RotateDirection.CW?n=this.degree:this.direction==o.RotateDirection.CCW&&(n=-this.degree),0!=n){var e=a.IncrementNumberAnimation.fromDDE(n,t,this.dde);this.property.addAnimation(e,this.repeatDef)}}},e}(i.OneTimeResponse);e.OneTimeRotateResponse=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=function(t){function e(e,n){var r=t.call(this)||this;return r.channel=e,r.messageId=n,r}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t){var e=this,n={run:function(t,n){n.send(e.channel,e.messageId)}};this.scheduler.scheduleTask(n,t+this.delay,this.repeatDef)},e}(i.OneTimeResponse);e.SendResponse=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(24),s=function(t){function e(e){var n=t.call(this)||this;return n.mapping=new o.RangeMap,n.property=e,n}return r(e,t),e.prototype.addMappingEntry=function(t){this.mapping.add(t)},e.prototype.applyScaleFactorToRange=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToRange(t)}},e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t,e){var n=this.mapping.updateRangeValue(t);if(null!=n){var r=n.getValueAt(t);return r&&this.updateColorProperty(this.property,r,e),!0}return!1},e}(i.ChainResponse);e.ChainColorResponse=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(24),s=function(t){function e(e,n){var r=t.call(this)||this;return r.mapping=new o.RangeMap,r.xProp=e,r.yProp=n,r}return r(e,t),e.prototype.addMappingEntry=function(t){this.mapping.add(t)},e.prototype.applyScaleFactorToRange=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToRange(t)}},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactor(t)}},e.prototype.run=function(t,e){var n=this.mapping.updateRangeValue(t);if(null!=n){var r=n.getValueAt(t);return null!==r.x&&this.updateProperty(this.xProp,r.x,e),null!==r.y&&this.updateProperty(this.yProp,r.y,e),!0}return!1},e}(i.ChainResponse);e.ChainPointResponse=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(24),s=n(0),a=300,u=function(t){function e(e){var n=t.call(this)||this;return n.depth=a,n.mapping=new o.RangeMap,n.layer=e,n}return r(e,t),e.prototype.addMappingEntry=function(t){this.mapping.add(t)},e.prototype.applyScaleFactorToRange=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToRange(t)}},e.prototype.applyScaleFactor=function(t){this.depth*=t},e.prototype.run=function(t,e){var n=this.mapping.updateRangeValue(t);return null!=n&&(this.pivot?this.layer.r3Pivot.copyFrom(this.pivot):this.layer.r3Pivot.copyFrom(this.layer.origin),this.layer.r3Depth=this.depth,this.layer.r3Axis=s.rotate3DDirToAxis(n.dir),this.updateProperty(this.layer.r3,n.getValueAt(t),e),!0)},e}(i.ChainResponse);e.ChainRotate3DResponse=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(24),s=function(t){function e(e){var n=t.call(this)||this;return n.mapping=new o.RangeMap,n.property=e,n}return r(e,t),e.prototype.addMappingEntry=function(t){this.mapping.add(t)},e.prototype.applyScaleFactorToRange=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToRange(t)}},e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t,e){var n=this.mapping.updateRangeValue(t);return null!=n&&(this.updateProperty(this.property,n.getValueAt(t),e),!0)},e}(i.ChainResponse);e.ChainRotateResponse=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(24),s=function(t){function e(e){var n=t.call(this)||this;return n.mapping=new o.RangeMap,n.property=e,n}return r(e,t),e.prototype.addMappingEntry=function(t){this.mapping.add(t)},e.prototype.applyScaleFactorToRange=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToRange(t)}},e.prototype.applyScaleFactor=function(t){for(var e=0,n=this.mapping.getAll();e<n.length;e++){n[e].applyScaleFactorToOutput(t)}},e.prototype.run=function(t,e){var n=this.mapping.updateRangeValue(t);return null!=n&&(this.updateProperty(this.property,n.getValueAt(t),e),!0)},e}(i.ChainResponse);e.ChainScalarResponse=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(27),s=function(t){function e(e,n,r,i){var s=t.call(this,e,n,r,i)||this;return s.interpolated=new o.Color(0,0,0),s}return r(e,t),e.prototype.getValueAt=function(t){var e=this.getProgressAt(t),n=this.startValue,r=this.endValue;return n&&r?(this.interpolated.r=this.interpolate(n.r,r.r,e),this.interpolated.g=this.interpolate(n.g,r.g,e),this.interpolated.b=this.interpolate(n.b,r.b,e),this.interpolated):null},e}(i.RangeEntry);e.ColorRangeEntry=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(6),s=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r(e,t),e.prototype.getValueAt=function(t){var e=this.getProgressAt(t);return this.startValue+(this.endValue-this.startValue)*e},e.prototype.applyScaleFactorToOutput=function(t){o.LangUtils.isNil(this.startValue)||(this.startValue*=t),o.LangUtils.isNil(this.endValue)||(this.endValue*=t)},e}(i.RangeEntry);e.NumberRangeEntry=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),s=function(t){function e(e,n,r,i){var s=t.call(this,e,n,r,i)||this;return s.interpolated=new o.Point(null,null),s}return r(e,t),e.prototype.getValueAt=function(t){var e=this.getProgressAt(t),n=this.startValue,r=this.endValue;return null!==n.x&&null!==r.x?this.interpolated.x=n.x+(r.x-n.x)*e:this.interpolated.y=null,null!==n.y&&null!==r.y?this.interpolated.y=n.y+(r.y-n.y)*e:this.interpolated.y=null,this.interpolated},e.prototype.applyScaleFactor=function(t){this.startValue.applyScaleFactor(t),this.endValue.applyScaleFactor(t)},e}(i.RangeEntry);e.PointRangeEntry=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(0),s=n(3),a=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.dir=o,s}return r(e,t),e.prototype.getValueAt=function(t){var e=this.getProgressAt(t),n=s.AngleUtils.getAngleDelta(this.startValue,this.endValue,o.rotate3DDirTo2D(this.dir));return s.AngleUtils.normalize(this.startValue+n*e)},e}(i.RangeEntry);e.Rotate3DRangeEntry=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(3),s=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s.dir=o,s}return r(e,t),e.prototype.getValueAt=function(t){var e=this.getProgressAt(t),n=o.AngleUtils.getAngleDelta(this.startValue,this.endValue,this.dir);return o.AngleUtils.normalize(this.startValue+n*e)},e}(i.RangeEntry);e.RotateRangeEntry=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(11),s=n(0),a=n(1),u=n(3),c=function(t){function e(e){var n=t.call(this)||this;return n.rChange=new o.NumberChange,n.absPivot=new a.Point(0,0),n.initialPosition=new a.Point(0,0),n.initialAngle=0,n.layer=e,n}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.onStart=function(t){this.rChange.increment=0,this.layer.r.startContinuousChange(this.rChange,t.time),this.absPivot.x=this.layer.x.curVal(),this.absPivot.y=this.layer.y.curVal(),this.initialPosition.x=this.layer.x.curVal(),this.initialAngle=u.AngleUtils.getLineAngle(this.absPivot,t.touchEvent.focus)},e.prototype.onChange=function(t){var e=u.AngleUtils.getLineAngle(this.absPivot,t.touchEvent.focus);this.rChange.increment=u.AngleUtils.getAngleDelta(this.initialAngle,e,s.RotateDirection.NEAR)},e.prototype.onEnd=function(t){this.layer.r.endContinuousChange(this.rChange,t.time)},e}(i.DragResponse);e.DragRotateResponse=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(11),s=n(73),a=n(1),u=function(t){function e(e){var n=t.call(this)||this;return n.ratio=1,n.wChange=new o.NumberChange,n.hChange=new o.NumberChange,n.xChange=new o.NumberChange,n.yChange=new o.NumberChange,n.positionDelta=new a.Point(0,0),n.layer=e,n}return r(e,t),e.prototype.applyScaleFactor=function(t){this.wLimit&&this.wLimit.applyScaleFactor(t),this.hLimit&&this.hLimit.applyScaleFactor(t)},e.prototype.onStart=function(t){this.wDir&&(this.wChange.increment=0,this.xChange.increment=0,this.wChange.setLimit(this.wLimit),this.layer.w.startContinuousChange(this.wChange,t.time),this.layer.x.startContinuousChange(this.xChange,t.time)),this.hDir&&(this.hChange.increment=0,this.yChange.increment=0,this.hChange.setLimit(this.hLimit),this.layer.h.startContinuousChange(this.hChange,t.time),this.layer.y.startContinuousChange(this.yChange,t.time))},e.prototype.onChange=function(t){this.wDir&&this.applyIncrement(this.layer.w,this.wDir*t.drag.x*this.ratio,this.wChange),this.hDir&&this.applyIncrement(this.layer.h,this.hDir*t.drag.y*this.ratio,this.hChange),s.CoordUtils.computePositionChangeForScale(this.layer,this.pivot,this.wChange.increment,this.hChange.increment,this.positionDelta),this.xChange.increment=this.positionDelta.x,this.yChange.increment=this.positionDelta.y},e.prototype.onEnd=function(t){this.wDir&&(this.layer.w.endContinuousChange(this.wChange,t.time),this.layer.x.endContinuousChange(this.xChange,t.time)),this.hDir&&(this.layer.h.endContinuousChange(this.hChange,t.time),this.layer.y.endContinuousChange(this.yChange,t.time))},e.prototype.applyIncrement=function(t,e,n){var r=t.curVal()-n.getIncrement(),i=r+e;null!==n.min&&i<n.min&&(i=n.min),null!==n.max&&i>n.max&&(i=n.max),n.increment=i-r},e}(i.DragResponse);e.DragScaleResponse=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=function(t){function e(e,n){var r=t.call(this)||this;return r.delay=0,r.layer=e,r.reorderType=n,r}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t){var e=this,n=this.layer.parent;if(n){var r={doNotExpire:!0,run:function(t,r){n.reorder(e.layer,e.reorderType)}};this.scheduler.scheduleTask(r,t+this.delay,this.repeatDef)}},e}(i.OneTimeResponse);e.ReorderResponse=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.responses=[],this.condition=t}return t.prototype.addResponse=function(t){this.responses.push(t)},t.prototype.init=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].init(t)}},t.prototype.applyScaleFactor=function(t){this.condition.applyScaleFactor(t);for(var e=0,n=this.responses;e<n.length;e++){n[e].applyScaleFactor(t)}},t.prototype.run=function(t){if(this.condition.eval())for(var e=0,n=this.responses;e<n.length;e++){var r=n[e];r.run(t)}},t}();e.ConditionalOneTimeResponseList=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.responses=[],this.conditionalResponses=[]}return t.prototype.addResponse=function(t){this.responses.push(t)},t.prototype.addConditionalResponseList=function(t){this.conditionalResponses.push(t)},t.prototype.init=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].init(t)}for(var r=0,i=this.conditionalResponses;r<i.length;r++){i[r].init(t)}},t.prototype.applyScaleFactor=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].applyScaleFactor(t)}for(var r=0,i=this.conditionalResponses;r<i.length;r++){i[r].applyScaleFactor(t)}},t.prototype.run=function(t){for(var e=0,n=this.responses;e<n.length;e++){n[e].run(t)}for(var r=0,i=this.conditionalResponses;r<i.length;r++){i[r].run(t)}},t}();e.OneTimeResponseList=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=function(t){function e(e,n){var r=t.call(this)||this;return r.delay=0,r.layer=e,r.command=n,r}return r(e,t),e.prototype.applyScaleFactor=function(t){},e.prototype.run=function(t){var e=this;if(0==this.delay)this.layer.enqueueCommand(this.command,t);else{var n={run:function(t,n){e.layer.enqueueCommand(e.command,t)}};this.scheduler.scheduleTask(n,t+this.delay,null)}},e}(i.OneTimeResponse);e.PlayBackResponse=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(55),s=function(t){function e(e){var n=t.call(this)||this;return n.delay=0,n.textAttributes=new o.PPTextAttributes,n.layer=e,n}return r(e,t),e.prototype.applyScaleFactor=function(t){this.textAttributes.applyScaleFactor(t)},e.prototype.run=function(t){this.task||(this.task=this.buildTask()),this.scheduler.scheduleTask(this.task,t+this.delay,this.repeatDef)},e.prototype.buildTask=function(){var t=this;return{run:function(e,n){t.layer.updateTextAttributes(t.textAttributes)}}},e}(i.OneTimeResponse);e.TextResponse=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.scenes=[],this.deviceInfo=t}return t.prototype.addScene=function(t){this.scenes.push(t)},t.prototype.getInitialScene=function(t){void 0===t&&(t=null);var e=t||this.selectedSceneId;if(e)for(var n=0,r=this.scenes;n<r.length;n++){var i=r[n];if(i.id==e)return i}return this.scenes[0]},t.prototype.getAllScenes=function(){return this.scenes},t.prototype.getSceneById=function(t){for(var e=0,n=this.scenes;e<n.length;e++){var r=n[e];if(r.id===t)return r}return null},t.prototype.applyScaleFactor=function(t){for(var e=0,n=this.scenes;e<n.length;e++){n[e].applyScaleFactor(t)}},t}();e.Pie=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),i=n(10),o=n(63),s=n(91),a=n(64),u=n(65),c=n(66),h=n(67),p=function(){function t(t,e){this.property=e,this.layer=t}return t}(),l=function(){function t(t,e,n){this.allLayers=[],this.rangeTriggers=[],this.chainTriggers=[],this.onLoadTriggers=[],this.receiveTriggers=[],this.allSceneTriggers=[],this.progressingProperties={},this.modifiedLayers={},this.id=t,this.rootLayer=e,this.taskScheduler=new s.PPScheduler(this);for(var r=0,i=n;r<i.length;r++){var o=i[r];this.addTrigger(o)}this.traverseLayers(this.rootLayer),this.observeLayerProperties(this.rootLayer),this.optimizeLayerInteractions(this.rootLayer),this.rootLayer.init(this.taskScheduler);for(var a=0,u=this.allSceneTriggers;a<u.length;a++){var o=u[a];o.init(this.taskScheduler)}}return t.prototype.reset=function(){this.taskScheduler.clearAll(),this.rootLayer.reset();for(var t=0,e=this.allSceneTriggers;t<e.length;t++){e[t].reset()}},t.prototype.applyScaleFactor=function(t){this.rootLayer.applyScaleFactor(t);for(var e=0,n=this.allSceneTriggers;e<n.length;e++){n[e].applyScaleFactor(t)}},t.prototype.start=function(t){this.rootLayer.start(t),this.runChainTriggers(t),this.runRangeTriggers(t),this.runOnLoadTriggers(t)},t.prototype.progress=function(t){this.taskScheduler.progress(t),this.progressLayerProperties(t),this.runChainTriggers(t),this.runRangeTriggers(t);for(var e in this.modifiedLayers)this.modifiedLayers[e].notifyLayerModified();this.modifiedLayers={}},t.prototype.runReceiveTriggers=function(t,e,n){for(var r=0,i=this.receiveTriggers;r<i.length;r++){var o=i[r];o.channel==e&&o.messageId==n&&o.run(t)}},t.prototype.onLayerPropertyShouldProgress=function(t,e){this.progressingProperties[e.id]||(this.progressingProperties[e.id]=new p(t,e))},t.prototype.onLayerPropertySetImmediate=function(t,e){this.modifiedLayers[t.id]=t},t.prototype.getAllLayers=function(){return this.allLayers},t.prototype.jump=function(t,e,n){this.taskRunner&&this.taskRunner.jump(t,e,n)},t.prototype.send=function(t,e){this.taskRunner&&this.taskRunner.send(t,e)},t.prototype.progressLayerProperties=function(t){for(var e in this.progressingProperties){var n=this.progressingProperties[e];n.property.progress(t)&&(this.modifiedLayers[n.layer.id]=n.layer),n.property.shouldProgress()||delete this.progressingProperties[e]}},t.prototype.runRangeTriggers=function(t){for(var e=0,n=this.rangeTriggers;e<n.length;e++){n[e].run(t)}},t.prototype.runChainTriggers=function(t){for(var e=0,n=this.chainTriggers;e<n.length;e++){n[e].run(t)}},t.prototype.runOnLoadTriggers=function(t){for(var e=0,n=this.onLoadTriggers;e<n.length;e++){n[e].run(t)}},t.prototype.addTrigger=function(t){t instanceof i.TouchTrigger?t.layer.addTouchTrigger(t):t instanceof h.AbstractMouseTrigger?t.layer.addMouseTrigger(t):t instanceof u.RangeTrigger?(this.rangeTriggers.push(t),this.allSceneTriggers.push(t)):t instanceof o.ChainTrigger?(this.chainTriggers.push(t),this.allSceneTriggers.push(t)):t instanceof a.OnLoadTrigger?(this.onLoadTriggers.push(t),this.allSceneTriggers.push(t)):t instanceof c.ReceiveTrigger&&(this.receiveTriggers.push(t),this.allSceneTriggers.push(t))},t.prototype.traverseLayers=function(t){this.allLayers.push(t);for(var e=0,n=t.children;e<n.length;e++){var i=n[e];i instanceof r.ContainerLayer?this.traverseLayers(i):this.allLayers.push(i)}},t.prototype.observeLayerProperties=function(t){t.addPropertyObserver(this);for(var e=0,n=t.children;e<n.length;e++){var i=n[e];i instanceof r.ContainerLayer?this.observeLayerProperties(i):i.addPropertyObserver(this)}},t.prototype.optimizeLayerInteractions=function(t){t.optimizeInteractions();for(var e=0,n=t.children;e<n.length;e++){var i=n[e];i instanceof r.ContainerLayer?this.optimizeLayerInteractions(i):i.optimizeInteractions()}},t}();e.Scene=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=n(7),s=n(4),a=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_QUAD),u=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_QUAD),c=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r(e,t),e.prototype.start=function(t){var e=this.prevSceneRenderer.getModel(),n=this.nextSceneRenderer.getModel();n.o.setImmediate(0),this.registerAnimation(e.o,new s.EasingSetNumberAnimation(t,0,350,a)),this.registerAnimation(n.o,new s.EasingSetNumberAnimation(t,100,350,u))},e.prototype.end=function(t){},e}(i.SceneTransition);e.FadeTransition=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=n(7),s=n(0),a=n(4),u=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_OUT_SINE),c=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_SINE),h=function(t){function e(e,n,r,i,o){var s=t.call(this,n,r,i,o)||this;return s.dir=e,s}return r(e,t),e.prototype.start=function(t){var e,n,r,i,o=this.prevSceneRenderer.getModel(),h=this.nextSceneRenderer.getModel(),p=.5,l=.5;switch(this.dir){case s.MoveDir.UP:i=s.Axis2D.Y,r=-1,e=90,n=s.Axis3D.X,l=1;break;case s.MoveDir.DOWN:i=s.Axis2D.Y,r=1,e=-90,n=s.Axis3D.X,l=0;break;case s.MoveDir.LEFT:i=s.Axis2D.X,r=-1,e=-90,n=s.Axis3D.Y,p=1;break;case s.MoveDir.RIGHT:i=s.Axis2D.X,r=1,e=90,n=s.Axis3D.Y,p=0;break;default:return}var f=.5*o.getSize(i).curVal();o.r3Axis=n,o.r3Pivot.x=p,o.r3Pivot.y=l,o.r3Depth=2*o.getSize(i).curVal(),h.r3Axis=n,h.r3Pivot.x=1-p,h.r3Pivot.y=1-l,h.r3Depth=2*h.getSize(i).curVal(),h.getPositionProp(i).setImmediate(-r*f),h.r3.setImmediate(-e),this.registerAnimation(o.r3,new a.EasingSetNumberAnimation(t,e,250,c)),this.registerAnimation(o.getPositionProp(i),new a.EasingSetNumberAnimation(t,r*f,250,c)),this.registerAnimation(h.r3,new a.EasingSetNumberAnimation(t+250,0,250,u)),this.registerAnimation(h.getPositionProp(i),new a.EasingSetNumberAnimation(t+250,0,250,u))},e.prototype.end=function(t){},e}(i.SceneTransition);e.FlipTransition=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=n(7),s=n(1),a=n(4),u=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_CUBIC),c=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_CUBIC),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(t){var e=this.nextScene.rootLayer;e.moveOrigin(new s.Point(.5,.5)),e.scaleX.setImmediate(0),e.scaleY.setImmediate(0),e.o.setImmediate(0),this.registerAnimation(e.scaleX,new a.EasingSetNumberAnimation(t,100,320,u)),this.registerAnimation(e.scaleY,new a.EasingSetNumberAnimation(t,100,320,u)),this.registerAnimation(e.o,new a.EasingSetNumberAnimation(t,100,200,c))},e.prototype.end=function(t){this.nextScene.rootLayer.moveOrigin(new s.Point(0,0))},e}(i.SceneTransition);e.PopTransition=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(160),i=n(0),o=n(165),s=n(162),a=n(161),u=n(164),c=function(){function t(){}return t.fromName=function(t,e,n,c,h){return"FADE"==t?new r.FadeTransition(e,n,c,h):"POP"==t?new s.PopTransition(e,n,c,h):"SLIDE_LEFT"==t?new o.SlideTransition(i.MoveDir.LEFT,e,n,c,h):"SLIDE_RIGHT"==t?new o.SlideTransition(i.MoveDir.RIGHT,e,n,c,h):"SLIDE_UP"==t?new o.SlideTransition(i.MoveDir.UP,e,n,c,h):"SLIDE_DOWN"==t?new o.SlideTransition(i.MoveDir.DOWN,e,n,c,h):"SLIDEOUT_LEFT"==t?new u.SlideOutTransition(i.MoveDir.LEFT,e,n,c,h):"SLIDEOUT_RIGHT"==t?new u.SlideOutTransition(i.MoveDir.RIGHT,e,n,c,h):"SLIDEOUT_UP"==t?new u.SlideOutTransition(i.MoveDir.UP,e,n,c,h):"SLIDEOUT_DOWN"==t?new u.SlideOutTransition(i.MoveDir.DOWN,e,n,c,h):"FLIP_LEFT"==t?new a.FlipTransition(i.MoveDir.LEFT,e,n,c,h):"FLIP_RIGHT"==t?new a.FlipTransition(i.MoveDir.RIGHT,e,n,c,h):"FLIP_UP"==t?new a.FlipTransition(i.MoveDir.UP,e,n,c,h):"FLIP_DOWN"==t?new a.FlipTransition(i.MoveDir.DOWN,e,n,c,h):null},t}();e.SceneTransitionFactory=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=n(7),s=n(0),a=n(4),u=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_QUAD),c=function(t){function e(e,n,r,i,o){var s=t.call(this,n,r,i,o)||this;return s.dir=e,s}return r(e,t),e.prototype.shouldAttachedToFront=function(){return!1},e.prototype.start=function(t){var e,n,r=this.prevSceneRenderer.getModel();switch(this.dir){case s.MoveDir.UP:e=r.y,n=-r.h.curVal();break;case s.MoveDir.DOWN:e=r.y,n=r.h.curVal();break;case s.MoveDir.LEFT:e=r.x,n=-r.w.curVal();break;case s.MoveDir.RIGHT:e=r.x,n=r.w.curVal();break;default:return}this.registerAnimation(e,new a.EasingSetNumberAnimation(t,n,320,u))},e.prototype.end=function(t){},e}(i.SceneTransition);e.SlideOutTransition=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=n(7),s=n(0),a=n(4),u=o.EasingFuncFactory.fromName(o.EasingFuncFactory.EASE_IN_OUT_QUAD),c=function(t){function e(e,n,r,i,o){var s=t.call(this,n,r,i,o)||this;return s.dir=e,s}return r(e,t),e.prototype.start=function(t){var e,n=this.nextSceneRenderer.getModel();switch(this.dir){case s.MoveDir.UP:e=n.y,e.setImmediate(n.h.curVal());break;case s.MoveDir.DOWN:e=n.y,e.setImmediate(-n.h.curVal());break;case s.MoveDir.LEFT:e=n.x,e.setImmediate(n.w.curVal());break;case s.MoveDir.RIGHT:e=n.x,e.setImmediate(-n.w.curVal());break;default:return}this.registerAnimation(e,new a.EasingSetNumberAnimation(t,0,320,u))},e.prototype.end=function(t){},e}(i.SceneTransition);e.SlideTransition=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(68),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.reset=function(){},e.prototype.onMouseOver=function(t){return!0},e.prototype.onMouseOut=function(t){this.runResponses(t.time)},e}(i.AbstractOneTimeMouseTrigger);e.MouseOutTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(68),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.reset=function(){},e.prototype.onMouseOver=function(t){return this.runResponses(t.time),!1},e.prototype.onMouseOut=function(t){return!1},e.prototype.onMouseMove=function(t){return!1},e}(i.AbstractOneTimeMouseTrigger);e.MouseOverTrigger=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(52),s=n(17),a=300,u=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.maxTapInterval=a,i.tapCount=0,i.firstTapTime=0,i.fingerCount=1,i.tapDetector=new o.TapDetector,i.tapDetector.listener=i,i}return r(e,t),e.prototype.getFingerCount=function(){return this.fingerCount},e.prototype.setFingerCount=function(t){this.fingerCount=t,this.tapDetector.requiredFingerCount=t},e.prototype.onTouchEvent=function(t){this.tapDetector.onTouchEvent(t)},e.prototype.onTap=function(t){1==this.tapCount&&t-this.firstTapTime<=this.maxTapInterval?this.runResponses(t):(this.tapCount=1,this.firstTapTime=t)},e.prototype.reset=function(){},e.prototype.getTouchEventUsageType=function(){return i.TouchEventUsageType.TAP},e}(s.OneTimeTouchTrigger);e.DoubleTapTrigger=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(17),s=n(1),a=n(0),u=50,c=100,h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.direction=a.MoveDir.RIGHT,i.minDistance=u,i.successSpeed=c,i.startPoint=new s.Point(0,0),i}return r(e,t),e.prototype.onTouchEvent=function(t){t.lastAction==i.TouchEventAction.DOWN?this.startPoint.copyFrom(t.focus):t.lastAction==i.TouchEventAction.UP&&this.meetsFlingRequirements(t)&&this.runResponses(t.lastActionTime)},e.prototype.reset=function(){},e.prototype.getTouchEventUsageType=function(){return i.TouchEventUsageType.FLING},e.prototype.meetsFlingRequirements=function(t){var e=t.getVelocity();switch(this.direction){case a.MoveDir.LEFT:return t.focus.x-this.startPoint.x<=-this.minDistance&&e.x<=-this.successSpeed;case a.MoveDir.RIGHT:return t.focus.x-this.startPoint.x>=this.minDistance&&e.x>=this.successSpeed;case a.MoveDir.UP:return t.focus.y-this.startPoint.y<=-this.minDistance&&e.y<=-this.successSpeed;case a.MoveDir.DOWN:return t.focus.y-this.startPoint.y>=this.minDistance&&e.y>=this.successSpeed}return!1},e}(o.OneTimeTouchTrigger);e.FlingTrigger=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(28),a=n(1),u=n(11),c=n(6),h=n(3),p=n(0),l=n(43),f=function(t){function e(n){var r=t.call(this,"FREE_TRANSFORM_"+e.counter++,n)||this;return r.movingEnabled=!1,r.scalingEnabled=!1,r.rotationEnabled=!1,r.wLimit=new s.NumberLimit,r.hLimit=new s.NumberLimit,r.initialFocus=new a.Point(0,0),r.currentFocus=new a.Point(0,0),r.xChange=new u.NumberChange,r.yChange=new u.NumberChange,r.wChange=new u.NumberChange,r.hChange=new u.NumberChange,r.rChange=new u.NumberChange,r.originalOrigin=new a.Point(n.origin.x,n.origin.y),r}return r(e,t),e.fromTriggers=function(t,n,r){var i=t?t.layer:n?n.layer:r.layer,o=new e(i);if(o.movingEnabled=!!t,o.scalingEnabled=!!n,o.rotationEnabled=!!r,n)for(var s=0,a=n.responses;s<a.length;s++){var u=a[s];u instanceof l.PinchScaleResponse&&(o.wLimit=u.wLimit,o.hLimit=u.hLimit)}return o},e.prototype.applyScaleFactor=function(t){this.wLimit.applyScaleFactor(t),this.hLimit.applyScaleFactor(t)},e.prototype.reset=function(){this.touch1Id=null,this.touch2Id=null},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.PINCH},e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN?this.onTouchDown(t):t.lastAction==o.TouchEventAction.MOVE?this.onTouchMove(t):t.lastAction==o.TouchEventAction.UP&&this.onTouchUp(t)},e.prototype.onTouchDown=function(t){for(var e in t.pointerMap)if(c.LangUtils.isNil(this.touch1Id))this.touch1Id=e;else{if(!c.LangUtils.isNil(this.touch2Id))break;e!=this.touch1Id&&(this.touch2Id=e,this.start(t))}},e.prototype.onTouchMove=function(t){c.LangUtils.isNil(this.touch2Id)||this.update(t)},e.prototype.onTouchUp=function(t){c.LangUtils.isNil(this.touch1Id)||c.LangUtils.isNil(this.touch2Id)?c.LangUtils.isNil(this.touch1Id)||(this.touch1Id=null):t.pointerMap[this.touch1Id]&&t.pointerMap[this.touch2Id]||(this.end(t),this.touch1Id=null,this.touch2Id=null)},e.prototype.start=function(t){var e=t.pointerMap[this.touch1Id],n=t.pointerMap[this.touch2Id];this.initialFocus.copyFrom(t.focus),this.initialSpan=this.computeSpan(this.initialFocus,e,n),this.initialAngle=h.AngleUtils.getLineAngle(e,n),this.layer.moveOrigin(this.layer.absToPivot(this.initialFocus)),this.movingEnabled&&(this.xChange.increment=0,this.yChange.increment=0,this.layer.x.startContinuousChange(this.xChange,t.lastActionTime),this.layer.y.startContinuousChange(this.yChange,t.lastActionTime)),this.scalingEnabled&&(this.initialW=this.layer.w.curVal(),this.initialH=this.layer.h.curVal(),this.wChange.increment=0,this.hChange.increment=0,0!=this.initialW&&0!=this.initialH&&(this.wChange.setLimit(this.wLimit.merge(this.hLimit.multiply(this.initialW/this.initialH))),this.hChange.setLimit(this.hLimit.merge(this.wLimit.multiply(this.initialH/this.initialW)))),this.layer.w.startContinuousChange(this.wChange,t.lastActionTime),this.layer.h.startContinuousChange(this.hChange,t.lastActionTime)),this.rotationEnabled&&(this.rChange.increment=0,this.layer.r.startContinuousChange(this.rChange,t.lastActionTime))},e.prototype.update=function(t){var e=t.pointerMap[this.touch1Id],n=t.pointerMap[this.touch2Id];this.computeFocus(e,n,this.currentFocus);var r=this.computeSpan(this.currentFocus,e,n),i=h.AngleUtils.getLineAngle(e,n);this.movingEnabled&&(this.xChange.increment=this.currentFocus.x-this.initialFocus.x,this.yChange.increment=this.currentFocus.y-this.initialFocus.y),this.scalingEnabled&&r>0&&this.initialSpan>0&&(this.wChange.increment=this.initialW*(r-this.initialSpan)/this.initialSpan,this.hChange.increment=this.initialH*(r-this.initialSpan)/this.initialSpan),this.rotationEnabled&&(this.rChange.increment=h.AngleUtils.getAngleDelta(this.initialAngle,i,p.RotateDirection.NEAR))},e.prototype.end=function(t){this.movingEnabled&&(this.layer.x.endContinuousChange(this.xChange,t.lastActionTime),this.layer.y.endContinuousChange(this.yChange,t.lastActionTime)),this.scalingEnabled&&(this.layer.w.endContinuousChange(this.wChange,t.lastActionTime),this.layer.h.endContinuousChange(this.hChange,t.lastActionTime)),this.rotationEnabled&&this.layer.r.endContinuousChange(this.rChange,t.lastActionTime),this.layer.moveOrigin(this.originalOrigin)},e.prototype.computeFocus=function(t,e,n){n.x=(t.x+e.x)/2,n.y=(t.y+e.y)/2},e.prototype.computeSpan=function(t,e,n){var r=(Math.abs(e.x-t.x)+Math.abs(n.x-t.x))/2,i=(Math.abs(e.y-t.y)+Math.abs(n.y-t.y))/2;return Math.sqrt(r*r+i*i)},e.counter=0,e}(i.TouchTrigger);e.FreeTransformComponent=f},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2),s=n(17),a=n(1),u=500;!function(t){t[t.NONE=0]="NONE",t[t.PRESSING=1]="PRESSING",t[t.FIRED=2]="FIRED",t[t.CANCELED=3]="CANCELED"}(i||(i={}));var c=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.fingerCount=1,o.pressingTime=u,o.state=i.NONE,o}return r(e,t),e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.LONG_PRESS},e.prototype.reset=function(){this.state=i.NONE,this.cancelTimer()},e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN||t.lastAction==o.TouchEventAction.UP?this.onTouchChange(t):t.lastAction==o.TouchEventAction.MOVE&&(this.state!=i.NONE&&this.state!=i.PRESSING||this.touchMovedSignificantly(t)&&this.state==i.PRESSING&&this.cancelTimer())},e.prototype.onTouchChange=function(t){var e=t.getTouchCount();this.state==i.NONE?e==this.fingerCount?(this.state=i.PRESSING,this.resetTouchPoint(t),this.startTimer(t)):e>this.fingerCount?this.state=i.CANCELED:this.resetTouchPoint(t):this.state==i.PRESSING?(this.cancelTimer(),this.state=0==e?i.NONE:i.CANCELED):this.state!=i.FIRED&&this.state!=i.CANCELED||0==e&&(this.state=i.NONE)},e.prototype.resetTouchPoint=function(t){this.initialTouchPoint=new a.Point(t.focus.x,t.focus.y)},e.prototype.startTimer=function(t){var e=this;this.scheduledTask={run:function(n,r){e.pushEventUsage(t),e.runResponses(n),e.scheduledTask=null}},this.scheduler.scheduleTask(this.scheduledTask,t.lastActionTime+this.pressingTime)},e.prototype.cancelTimer=function(){this.scheduledTask&&this.scheduler.removeTask(this.scheduledTask)},e.prototype.touchMovedSignificantly=function(t){if(this.initialTouchPoint){var e=t.focus.x,n=t.focus.y;return Math.abs(this.initialTouchPoint.x-e)>20||Math.abs(this.initialTouchPoint.y-n)>20}return!1},e}(s.OneTimeTouchTrigger);e.LongPressTrigger=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(0),a=n(70),u=n(7),c=n(29),h=n(4),p=u.EasingFuncFactory.fromName(u.EasingFuncFactory.EASE_OUT_CUBIC),l=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.containerLayer=n,o.axis=r,o.dragDetector=new c.DragDetector(s.axisToDragAxis(r),o),o.scroller=new a.PPScroller(n,r,s.scrollEdgeEffectTypeToOverScrollRatio(i)),o}return r(e,t),e.prototype.onTouchEvent=function(t){this.dragDetector.onTouchEvent(t)},e.prototype.reset=function(){this.dragDetector.reset()},e.prototype.applyScaleFactor=function(t){},e.prototype.getTouchEventUsageType=function(){return this.axis==s.Axis2D.X?o.TouchEventUsageType.MOVE_HORIZONTAL:o.TouchEventUsageType.MOVE_VERTICAL},e.prototype.startEndAnimation=function(t,e){var n,r=this.scroller.getScrollOffset();if(r>=this.scroller.getScrollMax()){n=Math.ceil(this.scroller.getContentSize()/this.scroller.getContainerSize())-1}else n=r<=0?0:Math.abs(t)>=50?t>0?Math.floor(r/this.scroller.getContainerSize()):Math.ceil(r/this.scroller.getContainerSize()):Math.round(r/this.scroller.getContainerSize());var i=Math.min(n*this.scroller.getContainerSize(),this.scroller.getScrollMax()),o=new h.EasingSetNumberAnimation(e,i,200,p);this.scroller.end(e),this.scroller.getScrollProp().addAnimation(o,null)},e.prototype.onDragTouchDown=function(t){return!1},e.prototype.onDragStart=function(t){t.touchEvent.pushUsageType(this.getTouchEventUsageType(),this.getId()),this.scroller.start(t.time)},e.prototype.onDragMove=function(t){var e=t.drag.getValue(this.axis);this.scroller.scrollBy(-e)},e.prototype.onDragEnd=function(t){this.startEndAnimation(t.touchEvent.getVelocity().getValue(this.axis),t.time)},e}(i.TouchTrigger);e.PageComponent=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(29),a=n(0),u=n(11),c=n(40),h=n(7),p=n(4),l=function(t){function e(n,r,i,o,h){var p=t.call(this,n,r)||this;return p.excessMoveRatio=0,p.successDde=new c.DDE(0,e.DEFAULT_SUCCESS_DURATION,e.DEFAULT_SUCCESS_EASING),p.cancelDde=new c.DDE(0,e.DEFAULT_CANCEL_DURATION,e.DEFAULT_CANCEL_EASING),p.change=new u.NumberChange,p.dir=i,p.distance=o,p.responses=h,p.axis=a.moveDirToAxis(i),p.property=r.getPositionProp(p.axis),p.dragDetector=new s.DragDetector(a.axisToDragAxis(p.axis),p),p.curDir=a.moveDirToScalarDir(i),p.startPosition=p.property.curVal(),p.endPosition=p.startPosition+p.curDir*o,p}return r(e,t),e.prototype.onTouchEvent=function(t){this.dragDetector.onTouchEvent(t)},e.prototype.init=function(e){t.prototype.init.call(this,e),this.responses.init(e)},e.prototype.reset=function(){this.dragDetector.reset()},e.prototype.applyScaleFactor=function(t){this.distance*=t,this.startPosition*=t,this.endPosition*=t,this.responses.applyScaleFactor(t)},e.prototype.getTouchEventUsageType=function(){return this.axis==a.Axis2D.X?o.TouchEventUsageType.MOVE_HORIZONTAL:this.axis==a.Axis2D.Y?o.TouchEventUsageType.MOVE_VERTICAL:o.TouchEventUsageType.NONE},e.prototype.onDragTouchDown=function(t){return!1},e.prototype.onDragStart=function(t){var e=this.property.curVal();Math.abs(e-this.startPosition)<Math.abs(e-this.endPosition)?this.curDir=a.moveDirToScalarDir(this.dir):this.curDir=-a.moveDirToScalarDir(this.dir),this.change.increment=0,this.property.startContinuousChange(this.change,t.time),t.touchEvent.pushUsageType(this.getTouchEventUsageType(),this.getId())},e.prototype.onDragMove=function(t){if(Math.sign(t.drag.getValue(this.axis))==this.curDir){var e=Math.abs(t.drag.getValue(this.axis)),n=this.computeMovementForDrag(e);this.change.setIncrement(this.curDir*n)}},e.prototype.onDragEnd=function(t){if(this.property.endContinuousChange(this.change,t.time),this.pullSucceeded(t)){var e=this.curDir==a.moveDirToScalarDir(this.dir)?this.endPosition:this.startPosition;this.property.addAnimation(p.EasingSetNumberAnimation.fromDDE(e,t.time,this.successDde),null),this.responses.run(t.time)}else{var e=this.curDir==a.moveDirToScalarDir(this.dir)?this.startPosition:this.endPosition;this.property.addAnimation(p.EasingSetNumberAnimation.fromDDE(e,t.time,this.cancelDde),null)}},e.prototype.computeMovementForDrag=function(t){return t<=this.distance?t:this.distance+this.excessMoveRatio*(t-this.distance)},e.prototype.pullSucceeded=function(t){if(Math.sign(t.drag.getValue(this.axis))==this.curDir){if(Math.abs(t.drag.getValue(this.axis))>.5*this.distance)return!0;var e=t.touchEvent.getVelocity().getValue(this.axis);if(Math.sign(e)==this.curDir&&Math.abs(e)>=400)return!0}return!1},e.DEFAULT_SUCCESS_DURATION=200,e.DEFAULT_CANCEL_DURATION=200,e.DEFAULT_SUCCESS_EASING=h.EasingFuncFactory.fromName(h.EasingFuncFactory.EASE_OUT_CUBIC),e.DEFAULT_CANCEL_EASING=h.EasingFuncFactory.fromName(h.EasingFuncFactory.EASE_OUT_CUBIC),e}(i.TouchTrigger);e.PullComponent=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(2),s=n(0),a=n(70),u=n(29),c=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.dragEndAnimation=null,o.containerLayer=n,o.axis=r,o.dragDetector=new u.DragDetector(s.axisToDragAxis(r),o),o.scrollProp=n.getScrollProp(r),o.scrollEndEffect=s.scrollEdgeEffectTypeToScrollEndEffect(i),o.scroller=new a.PPScroller(n,r,s.scrollEdgeEffectTypeToOverScrollRatio(i)),o}return r(e,t),e.prototype.onTouchEvent=function(t){this.dragDetector.onTouchEvent(t)},e.prototype.reset=function(){this.dragDetector.reset()},e.prototype.applyScaleFactor=function(t){},e.prototype.getTouchEventUsageType=function(){return this.axis==s.Axis2D.X?o.TouchEventUsageType.MOVE_HORIZONTAL:o.TouchEventUsageType.MOVE_VERTICAL},e.prototype.onDragTouchDown=function(t){return this.dragEndAnimation&&!this.dragEndAnimation.isEnded(t)},e.prototype.onDragStart=function(t){t.touchEvent.pushUsageType(this.getTouchEventUsageType(),this.getId()),this.scroller.start(t.time)},e.prototype.onDragMove=function(t){var e=t.drag.getValue(this.axis);this.scroller.scrollBy(-e)},e.prototype.onDragEnd=function(t){var e=t.time;this.scroller.end(e);var n=t.touchEvent.getVelocity().getValue(this.axis);this.dragEndAnimation=this.scrollEndEffect.getAnimation(e,this.scroller.getScrollOffset(),-n,0,this.scroller.getScrollMax()),this.dragEndAnimation&&this.scrollProp.addAnimation(this.dragEndAnimation,null)},e}(i.TouchTrigger);e.ScrollComponent=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(52),s=n(17),a=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.fingerCount=1,i.tapDetector=new o.TapDetector,i.tapDetector.listener=i,i}return r(e,t),e.prototype.getFingerCount=function(){return this.fingerCount},e.prototype.setFingerCount=function(t){this.fingerCount=t,this.tapDetector.requiredFingerCount=t},e.prototype.onTouchEvent=function(t){this.tapDetector.onTouchEvent(t)},e.prototype.onTap=function(t){this.runResponses(t)},e.prototype.reset=function(){},e.prototype.getTouchEventUsageType=function(){return i.TouchEventUsageType.TAP},e}(s.OneTimeTouchTrigger);e.TapTrigger=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2),s=n(17);!function(t){t[t.NONE=0]="NONE",t[t.FIRED=1]="FIRED"}(i||(i={}));var a=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.fingerCount=1,o.state=i.NONE,o}return r(e,t),e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN?this.state==i.NONE&&t.getTouchCount()>=this.fingerCount&&(this.runResponses(t.lastActionTime),this.state=i.FIRED):t.lastAction==o.TouchEventAction.UP&&0==t.getTouchCount()&&(this.state=i.NONE)},e.prototype.reset=function(){this.state=i.NONE},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.TAP},e}(s.OneTimeTouchTrigger);e.TouchDownTrigger=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2),s=n(17);!function(t){t[t.NONE=0]="NONE",t[t.TOUCHED=1]="TOUCHED",t[t.RELEASING=2]="RELEASING",t[t.CANCELED=3]="CANCELED"}(i||(i={}));var a=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.fingerCount=1,o.state=i.NONE,o}return r(e,t),e.prototype.onTouchEvent=function(t){t.lastAction==o.TouchEventAction.DOWN?this.state==i.NONE?t.getTouchCount()==this.fingerCount?this.state=i.TOUCHED:t.getTouchCount()>this.fingerCount&&(this.state=i.CANCELED):this.state=i.CANCELED:t.lastAction==o.TouchEventAction.UP&&(0==t.getTouchCount()?(this.state!=i.TOUCHED&&this.state!=i.RELEASING||this.runResponses(t.lastActionTime),this.state=i.NONE):this.state==i.TOUCHED&&(this.state=i.RELEASING))},e.prototype.reset=function(){this.state=i.NONE},e.prototype.getTouchEventUsageType=function(){return o.TouchEventUsageType.TOUCH_UP},e}(s.OneTimeTouchTrigger);e.TouchUpTrigger=a},function(t,e,n){function r(t,e,n,r,o){var s=arguments.length-1;if(s<2)throw new Error("Too few arguments provided");if(2===s?(o=n,n=e,e=r=void 0):3===s&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0)),"function"!=typeof o)throw new Error("Callback required as last argument");try{var a=i.create(n,r);o(null,t(a,e,r))}catch(t){o(t)}}var i=n(191),o=n(194),s=n(195);e.create=i.create,e.toCanvas=r.bind(null,o.render),e.toDataURL=r.bind(null,o.renderToDataURL),e.toString=r.bind(null,function(t,e,n){return s.render(t,n)}),e.qrcodedraw=function(){return{draw:e.toCanvas}}},function(t,e,n){var r=n(14).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7],s=1;s<e-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),i=r.length,o=0;o<i;o++)for(var s=0;s<i;s++)0===o&&0===s||0===o&&s===i-1||o===i-1&&0===s||n.push([r[o],r[s]]);return n}},function(t,e,n){function r(t){this.mode=i.ALPHANUMERIC,this.data=t}var i=n(13),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=r},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e,n){function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new i(t*t),this.data.fill(0),this.reservedBit=new i(t*t),this.reservedBit.fill(0)}var i=n(18);r.prototype.set=function(t,e,n,r){var i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},r.prototype.get=function(t,e){return this.data[t*this.size+e]},r.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},r.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=r},function(t,e,n){function r(t){this.mode=o.BYTE,this.data=new i(t)}var i=n(18),o=n(13);r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=r},function(t,e,n){var r=n(14).getSymbolSize;e.getPositions=function(t){var e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},function(t,e,n){var r=n(14),i=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,o=n<<10;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},function(t,e,n){var r=n(18),i=new r(512),o=new r(256);!function(){for(var t=1,e=0;e<255;e++)i[e]=t,o[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)i[e]=i[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[o[t]+o[e]]}},function(t,e,n){function r(t){this.mode=i.KANJI,this.data=t}var i=n(13),o=n(14);r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=o.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=r},function(t,e){function n(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r={N1:3,N2:3,N3:40,N4:10};e.getPenaltyN1=function(t){for(var e=t.size,n=0,i=0,o=0,s=null,a=null,u=0;u<e;u++){i=o=0,s=a=null;for(var c=0;c<e;c++){var h=t.get(u,c);h===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=h,i=1),h=t.get(c,u),h===a?o++:(o>=5&&(n+=r.N1+(o-5)),a=h,o=1)}i>=5&&(n+=r.N1+(i-5)),o>=5&&(n+=r.N1+(o-5))}return n},e.getPenaltyN2=function(t){for(var e=t.size,n=0,i=0;i<e-1;i++)for(var o=0;o<e-1;o++){var s=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);4!==s&&0!==s||n++}return n*r.N2},e.getPenaltyN3=function(t){for(var e=t.size,n=0,i=0,o=0,s=0;s<e;s++){i=o=0;for(var a=0;a<e;a++)i=i<<1&2047|t.get(s,a),a>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|t.get(a,s),a>=10&&(1488===o||93===o)&&n++}return n*r.N3},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,i=0;i<n;i++)e+=t.data[i];return Math.abs(Math.ceil(100*e/n/5)-10)*r.N4},e.applyMask=function(t,e){for(var r=e.size,i=0;i<r;i++)for(var o=0;o<r;o++)e.isReserved(o,i)||e.xor(o,i,n(t,o,i))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,i=0,o=1/0,s=0;s<r;s++){n(s),e.applyMask(s,t);var a=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),a<o&&(o=a,i=s)}return i}},function(t,e,n){function r(t){this.mode=i.NUMERIC,this.data=t.toString()}var i=n(13);r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var i=this.data.length-e;i>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*i+1))},t.exports=r},function(t,e,n){var r=n(18),i=n(186);e.mul=function(t,e){var n=new r(t.length+e.length-1);n.fill(0);for(var o=0;o<t.length;o++)for(var s=0;s<e.length;s++)n[o+s]^=i.mul(t[o],e[s]);return n},e.mod=function(t,e){for(var n=new r(t);n.length-e.length>=0;){for(var o=n[0],s=0;s<e.length;s++)n[s]^=i.mul(e[s],o);for(var a=0;a<n.length&&0===n[a];)a++;n=n.slice(a)}return n},e.generateECPolynomial=function(t){for(var n=new r([1]),o=0;o<t;o++)n=e.mul(n,[1,i.exp(o)]);return n}},function(t,e,n){function r(t,e){for(var n=t.size,r=m.getPositions(e),i=0;i<r.length;i++)for(var o=r[i][0],s=r[i][1],a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(var u=-1;u<=7;u++)s+u<=-1||n<=s+u||(a>=0&&a<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===a||6===a)||a>=2&&a<=4&&u>=2&&u<=4?t.set(o+a,s+u,!0,!0):t.set(o+a,s+u,!1,!0))}function i(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2==0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function o(t,e){for(var n=v.getPositions(e),r=0;r<n.length;r++)for(var i=n[r][0],o=n[r][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2===s||2===s||-2===a||2===a||0===s&&0===a?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}function s(t,e){for(var n,r,i,o=t.size,s=w.getEncodedBits(e),a=0;a<18;a++)n=Math.floor(a/3),r=a%3+o-8-3,i=1==(s>>a&1),t.set(n,r,i,!0),t.set(r,n,i,!0)}function a(t,e,n){var r,i,o=t.size,s=b.getEncodedBits(e,n);for(r=0;r<15;r++)i=1==(s>>r&1),r<6?t.set(r,8,i,!0):r<8?t.set(r+1,8,i,!0):t.set(o-15+r,8,i,!0),r<8?t.set(8,o-r-1,i,!0):r<9?t.set(8,15-r-1+1,i,!0):t.set(8,15-r-1,i,!0);t.set(o-8,8,1,!0)}function u(t,e){for(var n=t.size,r=-1,i=n-1,o=7,s=0,a=n-1;a>0;a-=2)for(6===a&&a--;;){for(var u=0;u<2;u++)if(!t.isReserved(i,a-u)){var c=!1;s<e.length&&(c=1==(e[s]>>>o&1)),t.set(i,a-u,c),o--,-1===o&&(s++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}function c(t,e,n){var r=new y;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),A.getCharCountIndicator(e.mode,t)),e.write(r)});var i=f.getSymbolTotalCodewords(t),o=_.getTotalCodewordsCount(t,e),s=8*(i-o);for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var a=(s-r.getLengthInBits())/8,u=0;u<a;u++)r.put(u%2?17:236,8);return h(r,t,e)}function h(t,e,n){for(var r=f.getSymbolTotalCodewords(e),i=_.getTotalCodewordsCount(e,n),o=r-i,s=_.getBlocksCount(e,n),a=r%s,u=s-a,c=Math.floor(r/s),h=Math.floor(o/s),p=h+1,d=c-h,y=new T(d),g=0,v=new Array(s),m=new Array(s),E=0,w=new l(t.buffer),b=0;b<s;b++){var A=b<u?h:p;v[b]=w.slice(g,g+A),m[b]=y.encode(v[b]),g+=A,E=Math.max(E,A)}var P,R,O=new l(r),C=0;for(P=0;P<E;P++)for(R=0;R<s;R++)P<v[R].length&&(O[C++]=v[R][P]);for(P=0;P<d;P++)for(R=0;R<s;R++)O[C++]=m[R][P];return O}function p(t,e,n){var h;if(R(t))h=P.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var p=e;if(!p){var l=P.rawSplit(t);p=w.getBestVersionForData(l,n)}h=P.fromString(t,p)}var d=w.getBestVersionForData(h,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else e=d;var y=c(e,n,h),v=f.getSymbolSize(e),m=new g(v);r(m,e),i(m),o(m,e),a(m,n,0),e>=7&&s(m,e),u(m,y);var _=E.getBestMask(m,a.bind(null,m,n));return E.applyMask(_,m),a(m,n,_),{modules:m,version:e,errorCorrectionLevel:n,maskPattern:_,segments:h}}var l=n(18),f=n(14),d=n(44),y=n(181),g=n(182),v=n(179),m=n(184),E=n(188),_=n(75),T=n(192),w=n(77),b=n(185),A=n(13),P=n(193),R=n(45);e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,r=d.M;return void 0!==e&&(r=d.from(e.errorCorrectionLevel,d.M),n=w.from(e.version),e.toSJISFunc&&f.setToSJISFunction(e.toSJISFunc)),p(t,n,r)}},function(t,e,n){function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}var i=n(18),o=n(190);r.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new i(this.degree);e.fill(0);var n=i.concat([t,e],t.length+this.degree),r=o.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){var a=new i(this.degree);return a.fill(0),r.copy(a,s),a}return r},t.exports=r},function(t,e,n){function r(t){return unescape(encodeURIComponent(t)).length}function i(t,e,n){for(var r,i=[];null!==(r=t.exec(n));)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function o(t){var e,n,r=i(g.NUMERIC,p.NUMERIC,t),o=i(g.ALPHANUMERIC,p.ALPHANUMERIC,t);return v.isKanjiModeEnabled()?(e=i(g.BYTE,p.BYTE,t),n=i(g.KANJI,p.KANJI,t)):(e=i(g.BYTE_KANJI,p.BYTE,t),n=[]),r.concat(o,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function s(t,e){switch(e){case p.NUMERIC:return l.getBitsLength(t);case p.ALPHANUMERIC:return f.getBitsLength(t);case p.KANJI:return y.getBitsLength(t);case p.BYTE:return d.getBitsLength(t)}}function a(t){return t.reduce(function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function u(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];switch(i.mode){case p.NUMERIC:e.push([i,{data:i.data,mode:p.ALPHANUMERIC,length:i.length},{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.ALPHANUMERIC:e.push([i,{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.KANJI:e.push([i,{data:i.data,mode:p.BYTE,length:r(i.data)}]);break;case p.BYTE:e.push([{data:i.data,mode:p.BYTE,length:r(i.data)}])}}return e}function c(t,e){for(var n={},r={start:{}},i=["start"],o=0;o<t.length;o++){for(var a=t[o],u=[],c=0;c<a.length;c++){var h=a[c],l=""+o+c;u.push(l),n[l]={node:h,lastCount:0},r[l]={};for(var f=0;f<i.length;f++){var d=i[f];n[d]&&n[d].node.mode===h.mode?(r[d][l]=s(n[d].lastCount+h.length,h.mode)-s(n[d].lastCount,h.mode),n[d].lastCount+=h.length):(n[d]&&(n[d].lastCount=h.length),r[d][l]=s(h.length,h.mode)+4+p.getCharCountIndicator(h.mode,e))}}i=u}for(f=0;f<i.length;f++)r[i[f]].end=0;return{map:r,table:n}}function h(t,e){var n,r=p.getBestModeForData(t);if((n=p.from(e,r))!==p.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+p.toString(n)+".\n Suggested mode is: "+p.toString(r));switch(n!==p.KANJI||v.isKanjiModeEnabled()||(n=p.BYTE),n){case p.NUMERIC:return new l(t);case p.ALPHANUMERIC:return new f(t);case p.KANJI:return new y(t);case p.BYTE:return new d(t)}}var p=n(13),l=n(189),f=n(180),d=n(183),y=n(187),g=n(76),v=n(14),m=n(89);e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(h(e,null)):e.data&&t.push(h(e.data,e.mode)),t},[])},e.fromString=function(t,n){for(var r=o(t,v.isKanjiModeEnabled()),i=u(r),s=c(i,n),h=m.find_path(s.map,"start","end"),p=[],l=1;l<h.length-1;l++)p.push(s.table[h[l]].node);return e.fromArray(a(p))},e.rawSplit=function(t){return e.fromArray(o(t,v.isKanjiModeEnabled()))}},function(t,e,n){function r(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function i(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}var o=n(78);e.render=function(t,e,n){var s=n,a=e;void 0!==s||e&&e.getContext||(s=e,e=void 0),e||(a=i()),s=o.getOptions(s);var u=(t.modules.size+2*s.margin)*s.scale,c=a.getContext("2d"),h=c.createImageData(u,u);return o.qrToImageData(h.data,t,s.margin,s.scale,s.color),r(c,a,u),c.putImageData(h,0,0),a},e.renderToDataURL=function(t,n,r){var i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});var o=e.render(t,n,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},function(t,e,n){function r(t){return'fill="rgb('+[t.r,t.g,t.b].join(",")+')" fill-opacity="'+(t.a/255).toFixed(2)+'"'}var i=n(78);e.render=function(t,e){var n=i.getOptions(e),o=t.modules.size,s=t.modules.data,a=(o+2*n.margin)*n.scale,u='<?xml version="1.0" encoding="utf-8"?>\n';u+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n',u+='<svg version="1.1" baseProfile="full"',u+=' width="'+a+'" height="'+a+'"',u+=' viewBox="0 0 '+a+" "+a+'"',u+=' xmlns="http://www.w3.org/2000/svg"',u+=' xmlns:xlink="http://www.w3.org/1999/xlink"',u+=' xmlns:ev="http://www.w3.org/2001/xml-events">\n',u+='<rect x="0" y="0" width="'+a+'" height="'+a+'" '+r(n.color.light)+" />\n",u+='<defs><rect id="p" width="'+n.scale+'" height="'+n.scale+'" /></defs>\n',u+="<g "+r(n.color.dark)+">\n";for(var c=0;c<o;c++)for(var h=0;h<o;h++)if(s[c*o+h]){var p=(n.margin+h)*n.scale,l=(n.margin+c)*n.scale;u+='<use x="'+p+'" y="'+l+'" xlink:href="#p" />\n'}return u+="</g>\n",u+="</svg>"}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&E(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return T.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(t instanceof f){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},p.call(f.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,r){var i=new f(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new g(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){}]);